!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){e.exports=React},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e}();t.UbbCodeContextData=a;var o=function(){function e(e,t){this._engine=e,this._options=t}return Object.defineProperty(e.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._engine.data},enumerable:!0,configurable:!0}),e}();t.UbbCodeContext=o;var s=function(){function e(){this.autoDetectUrl=!0,this.allowExternalUrl=!0,this.allowImage=!0,this.allowMediaContent=!0,this.allowAutoPlay=!0,this.compatibility=i.Recommended}return e}();t.UbbCodeOptions=s;var i;!function(e){e[e.Transitional=0]="Transitional",e[e.Recommended=1]="Recommended",e[e.EnforceMorden=2]="EnforceMorden"}(i=t.UbbCompatiblityMode||(t.UbbCompatiblityMode={}));var c;!function(e){e[e.String=0]="String",e[e.ItemSeperator=1]="ItemSeperator",e[e.NameValueSeperator=2]="NameValueSeperator"}(c||(c={}));var l,u=function(){function e(e,t){this.type=e,this.value=t}return e.stringValue=function(t){return new e(c.String,t)},e.itemSeperator=new e(c.ItemSeperator,null),e.nameValueSeperator=new e(c.NameValueSeperator,null),e}();!function(e){e[e.Text=0]="Text",e[e.Tag=1]="Tag"}(l||(l={}));var m=function(){function e(e){this._parent=e}return Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),e}(),p=function(e){function t(t,n){var r=e.call(this,n)||this;return r._text=t,r}return r(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return l.Text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),t.prototype.clone=function(e){return new t(this._text,e)},t}(m),d=function(e){function t(t,n){var r=e.call(this,n)||this;return r._isClosed=!1,r._subSegments=[],r._tagData=t,r}return r(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return l.Tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isClosed",{get:function(){return this._isClosed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagData",{get:function(){return this._tagData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subSegments",{get:function(){return this._subSegments},enumerable:!0,configurable:!0}),t.forceClose=function(e,n){if(e.type===l.Text)n._subSegments.push(e.clone(n));else{var r=e;if(r.isClosed)n._subSegments.push(e.clone(n));else{console.warn("标签 %s 没有正确关闭，已经被转换为纯文字。",r.tagData.tagName),n._subSegments.push(new p("["+r._tagData.orignalString+"]",e.parent));for(var a=0,o=r._subSegments;a<o.length;a++){var s=o[a];t.forceClose(s,n)}}}},t.prototype.close=function(){var e=this._subSegments;this._subSegments=[];for(var n=0,r=e;n<r.length;n++){var a=r[n];t.forceClose(a,this)}this._isClosed=!0},t.prototype.clone=function(e){var n=new t(this._tagData,e);n._content=this._content,n._isClosed=this._isClosed;for(var r=0,a=this._subSegments;r<a.length;r++){var o=a[r];n._subSegments.push(o.clone(n))}return n},t.prototype.getContentText=function(){for(var e=[],t=0,n=this._subSegments;t<n.length;t++){var r=n[t];r.type===l.Text?e.push(r.text):e.push(r.getFullText())}return e.join("")},t.prototype.getFullText=function(){return"["+this._tagData.orignalString+"]"+this.getContentText()+"[/"+this._tagData.tagName+"]"},t}(m),f=function(){function e(e,t){if(!t)throw new Error("参数不能为空。");this._originalString=e,this._parameters=t,this._namedParameters={};for(var n=0,r=t;n<r.length;n++){var a=r[n];a.name&&(this._namedParameters[a.name]=a.value)}}return Object.defineProperty(e.prototype,"orignalString",{get:function(){return this._originalString},enumerable:!0,configurable:!0}),e.parse=function(t){if(!t)return null;var n=function(e){for(var t=0,n=[],r=c.ItemSeperator;;){var a=function(n){for(;;){if(t>=e.length)return null;var r=e[t];{if(!/\s/i.test(r)){if(","===r)return t++,u.itemSeperator;if("="===r)return t++,u.nameValueSeperator;if('"'===r||"'"===r)return u.stringValue(function(){var n=e[t],r=e.indexOf('"',t+1);r<0&&(console.error("UBB: 解析标签字符串 %s 时无法找到位置 %d 处 %s 对应的结束字符串。",e,t,n),r=e.length);var a=t+1;return t=r+1,e.substring(a,r)}());var a=t,o=n===c.ItemSeperator?/[=,]/i:/,/i,s=e.substring(t+1).match(o);if(s){var i=s.index+t+1;return t=i,u.stringValue(e.substring(a,i))}return t=e.length,u.stringValue(e.substring(a))}t++}}}(r);if(!a)break;n.push(a),r=a.type}return n}(t);if(0===n.length)return null;var r=function(e){var n=[];if(!e||0===e.length)return console.error("UBB: 无法将标签字符串 %s 解析为参数的集合。",t),n;for(var r=null,a=null,o=c.ItemSeperator,s=0,i=e;s<i.length;s++){var l=i[s];switch(l.type){case c.ItemSeperator:n.push(new h(r,a)),r=null,a=null,o=c.ItemSeperator;break;case c.NameValueSeperator:if(o!==c.String)throw new Error("名称值分隔符只能出现在值之后。");r=a,a=null,o=c.NameValueSeperator;break;default:if(o===c.String)throw new Error("不能连续出现多个值。");a=l.value,o=c.String}}return n.push(new h(r,a)),n[0].name||(n[0]=new h(n[0].value,null)),n}(n);return new e(t,r)},Object.defineProperty(e.prototype,"tagName",{get:function(){return this._parameters[0].name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainValue",{get:function(){return this._parameters[0].value},enumerable:!0,configurable:!0}),e.prototype.value=function(e){if("number"==typeof e)return this._parameters[e].value;if("string"==typeof e)return this._namedParameters[e];throw new Error("参数必须是字符串或者数字。")},e.prototype.name=function(e){return this._parameters[e].name},e.prototype.parameter=function(e){return this._parameters[e]},e}();t.UbbTagData=f;var h=function(){function e(e,t){this._name=e,this._value=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(),v=function(){function e(){}return e.renderTagAsString=function(e,t){return["["+e.orignalString+"]",t,"[/"+e.tagName+"]"]},e}();t.UbbTagHandler=v;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.exec=function(e,t){return this.execCore(e.getContentText(),e.tagData,t)},t}(v);t.TextTagHandler=g;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.exec=function(e,t){for(var n=[],r=0,a=e.subSegments;r<a.length;r++){var o=a[r];n.push(t.engine.execSegment(o,t))}return this.execCore(n,e.tagData,t)},t}(v);t.RecursiveTagHandler=y;var E=function(){function e(){this._tagHandlerList={}}return e.prototype.getHandler=function(e){return this._tagHandlerList[e]||null},e.prototype.register=function(e){if(!e||!e.tagName)throw new Error("参数 tagHandler 无效，或者未提供正确的标签名称。");if(e.tagName in this._tagHandlerList)throw new Error("标签 "+e.tagName+" 已经被注册。");this._tagHandlerList[e.tagName]=e},e}(),b=function(){function e(){this._tagHandlers=new E,this._data=new a}return Object.defineProperty(e.prototype,"tagHandlers",{get:function(){return this._tagHandlers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.getHandler=function(e){return this._tagHandlers.getHandler(e)},e.prototype.exec=function(e,t){var n=new o(this,t);return this.execCore(e,n)},e.tryHandleEndTag=function(e,t){for(var n=t;n&&n.tagData;){if(n.tagData.tagName===e)return n.close(),n.parent;n=n.parent}return console.warn("UBB: 找不到结束标签 %s 的开始标签，该标签将被作为一般文字处理。",e),t.subSegments.push(new p("[/"+e+"]",t)),t},e.buildSegmentsCore=function(t,n){for(var r=/([\s\S]*?)\[(.*?)]/gi;;){var a=r.lastIndex,o=r.exec(t);if(!o){var s=t.substring(a);return void(s&&n.subSegments.push(new p(s,n)))}var i=o[1],c=o[2];i&&n.subSegments.push(new p(i,n));var l=c.match(/^\/(.*)$/i);if(l){var u=l[1];n=e.tryHandleEndTag(u,n)}else try{var m=f.parse(c),h=new d(m,n);n.subSegments.push(h),n=h;continue}catch(e){console.warn("标签字符串 %s 解析失败，将被视为普通文字。",c),n.subSegments.push(new p("["+c+"]",n))}}},e.prototype.execCore=function(t,n){var r=new d(null,null);e.buildSegmentsCore(t,r);for(var a=[],o=0,s=r.subSegments;o<s.length;o++){var i=s[o];a.push(this.execSegment(i,n))}return a},e.prototype.execSegment=function(e,t){if(e.type===l.Text)return e.text;var n=e,r=this.getHandler(n.tagData.tagName);return r?r.exec(n,t):(console.warn("没有找到标签 %s 的处理程序，将被视为一般文字。",n.tagData.tagName),n.getFullText())},e}();t.UbbCodeEngine=b},function(e,t){e.exports=ReactRouterDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e}();t.AppState=r;var a=function(){function e(){}return e}();t.TopicVoteState=a;var o=function(){function e(){}return e}();t.PostTopicState=o;var s=function(){function e(){}return e}();t.AuthorMessageState=s;var i=function(){function e(){}return e}();t.TopicTitleState=i;var c=function(){function e(e,t,n,r,a,o,s,i,c,l,u,m,p,d){this.userName=l,this.id=e,this.content=t,this.time=n,this.isAnonymous=o,this.isDelete=r,this.floor=a,this.lastUpdateAuthor=s,this.lastUpdateTime=i,this.topicId=c,this.sendTopicNumber=u,this.userImgUrl=m,this.signature=p,this.userId=d}return e}();t.ContentState=c;var l=function(){function e(){}return e}();t.TopicGoodState=l;var u=function(){function e(){}return e}();t.ReplierState=u;var m=function(){function e(){}return e}();t.MainPageTopicState=m;var p=function(){function e(){}return e}();t.ListHeadState=p;var d=function(){function e(){}return e}();t.ListNoticeState=d;var f=function(){function e(){}return e}();t.ListTagState=f;var h=function(){function e(){}return e}();t.ListContentState=h;var v=function(){function e(e,t,n,r,a,o){this.userName=t,this.title=e,this.id=n,this.userId=r,this.lastPostUser=a,this.lastPostTime=o}return e}();t.TopicTitleAndContentState=v;var g=function(){function e(){}return e}();t.ListPagerState=g;var y=function(){function e(e){this.pageNumber=e}return e}();t.PagerState=y;var E=function(){function e(e,t,n,r,a,o,s,i){this.userName=e,this.time=r,this.title=t,this.content=n,this.signature=a,this.userImgUrl=o,this.hitCount=s,this.userId=i}return e}();t.TopicState=E;var b=function(){function e(){}return e}();t.LoginState=b;var _=function(){function e(){}return e}();t.AlreadyLoginState=_;var N=function(){function e(e,t,n,r,a){this.name=e,this.todayPostCount=t,this.totalPostCount=n,this.id=r,this.masters=a}return e}();t.Board=N;var w=function(){function e(){}return e}();t.BoardState=w;var P=function(){function e(){}return e}();t.UserInfo=P;var x=function(){function e(){}return e}();t.UserRecentPost=x;var C=function(){function e(){}return e}();t.UserFanInfo=C},function(e,t,n){"use strict";function r(e,t){return b(this,void 0,void 0,function(){var n,r,a,o,s,i,c,l,u,m,p,d;return _(this,function(f){switch(f.label){case 0:return n=g("accessToken"),r=20*(e-1),a=20*e-1,o=[],s="http://apitest.niconi.cc/Topic/Board/"+t+"?from="+r+"&size=20",[4,fetch(s,{headers:{Authorization:n}})];case 1:return i=f.sent(),[4,i.json()];case 2:return c=f.sent(),[4,fetch("http://apitest.niconi.cc/Board/"+t)];case 3:return l=f.sent(),[4,l.json()];case 4:for(u=f.sent(),m=u.postCount,p=20*e<=m?20:1===e&&m<19?m:m-20*(e-1),d=0;d<p;d++)o[d]=new N.TopicTitleAndContentState(c[d].title,c[d].userName||"匿名",c[d].id,c[d].userId,c[d].lastPostUser,c[d].lastPostTime);return[2,o]}})})}function a(e){return b(this,void 0,void 0,function(){var t,n,r,a,o,s,i,c,l;return _(this,function(u){switch(u.label){case 0:return t=g("accessToken"),[4,fetch("http://apitest.niconi.cc/Post/Topic/"+e+"?from=0&size=1",{headers:{Authorization:t}})];case 1:return n=u.sent(),[4,n.json()];case 2:return r=u.sent(),[4,fetch("http://apitest.niconi.cc/Topic/"+e)];case 3:return a=u.sent(),[4,a.json()];case 4:return o=u.sent(),s=o.hitCount,i=null,null==r[0].userId?[3,7]:[4,fetch("http://apitest.niconi.cc/User/"+r[0].userId)];case 5:return c=u.sent(),[4,c.json()];case 6:return l=u.sent(),i=new N.TopicState(r[0].userName,r[0].title,r[0].content,r[0].time,l.signatureCode,l.portraitUrl||"https://www.cc98.org/pic/anonymous.gif",s,r[0].userId),[3,8];case 7:i=new N.TopicState("匿名",r[0].title,r[0].content,r[0].time,"","https://www.cc98.org/pic/anonymous.gif",s,null),u.label=8;case 8:return[2,i]}})})}function o(e,t){return b(this,void 0,void 0,function(){var n,r,a,o,s,i,c,l,u,m,p,d,f,h,v;return _(this,function(y){switch(y.label){case 0:return n=10*(t-1),r=10*t-1,a=g("accessToken"),1===t?[3,2]:[4,fetch("http://apitest.niconi.cc/Post/Topic/"+e+"?from="+n+"&size=10",{headers:{Authorization:a}})];case 1:return s=y.sent(),[3,4];case 2:return[4,fetch("http://apitest.niconi.cc/Post/Topic/"+e+"?from=1&size=9",{headers:{Authorization:a}})];case 3:s=y.sent(),y.label=4;case 4:return o=s,[4,fetch("http://apitest.niconi.cc/Topic/"+e)];case 5:return i=y.sent(),[4,i.json()];case 6:return c=y.sent(),l=c.replyCount,[4,o.json()];case 7:u=y.sent(),m=[],p=1!==t&&10*t<=l?10:1===t&&l>=9?9:1===t&&l<9?l:l-10*(t-1)+1,d=0,y.label=8;case 8:return d<p?null==u[d].userName?[3,11]:[4,fetch("http://apitest.niconi.cc/user/name/"+u[d].userName)]:[3,13];case 9:return f=y.sent(),[4,f.json()];case 10:return h=y.sent(),m[d]=new N.ContentState(u[d].id,u[d].content,u[d].time,u[d].isDelete,u[d].floor,u[d].isAnonymous,u[d].lastUpdateAuthor,u[d].lastUpdateTime,u[d].topicId,u[d].userName,h.postCount,h.portraitUrl,h.signatureCode,u[d].userId),[3,12];case 11:v="https://www.cc98.org/pic/anonymous.gif",m[d]=new N.ContentState(null,u[d].content,u[d].time,u[d].isDelete,u[d].floor,u[d].isAnonymous,null,u[d].lastUpdateTime,u[d].topicId,"匿名",null,v,"",null),y.label=12;case 12:return d++,[3,8];case 13:return[2,m]}})})}function s(e){return w.createElement(P.TopicTitleAndContent,{title:e.title,authorName:e.userName,id:e.id,authorId:e.userId,lastPostTime:e.lastPostTime,lastPostUserName:e.lastPostUser})}function i(e,t){void 0==e&&(e=1);var n=[];if(1==t)n=[1];else if(t<10&&t>1)if(void 0==e||1==e){var r=void 0;for(r=0;r<t;r++)n[r]=r+1;n[r]=-2,n[r+1]=-4}else if(2==e){var r=void 0;for(r=1;r<=t;r++)n[r]=r;n[0]=-1,n[r]=-2,n[r+1]=-4}else{var r=void 0;for(r=2;r<=t+1;r++)n[r]=r-1;n[0]=-3,n[1]=-1,n[r]=-2,n[r+1]=-4}else if(e+5<=t)n=void 0==e||1==e?[1,2,3,4,5,6,7,8,9,10,-2,-4]:e>1&&e<6?[-3,-1,1,2,3,4,5,6,7,8,9,10,-2,-4]:[-3,-1,e-4,e-3,e-2,e-1,e,e+1,e+2,e+3,e+4,e+5,-2,-4];else{if(e+5>t&&e!=t)return[-3,-1,t-9,t-8,t-7,t-6,t-5,t-4,t-3,t-2,t-1,t,-2,-4];if(e==t)return[-3,-1,t-9,t-8,t-7,t-6,t-5,t-4,t-3,t-2,t-1,t]}return n}function c(e,t,n){return b(this,void 0,void 0,function(){var t,r,a,o,s,i,c,l,u,m;return _(this,function(p){switch(p.label){case 0:return[4,fetch("http://apitest.niconi.cc/Topic/"+e)];case 1:return t=p.sent(),[4,t.json()];case 2:return r=p.sent(),a=r.replyCount,[4,fetch("http://apitest.niconi.cc/Post/Topic/"+e,{headers:{Range:"bytes=1-"+a}})];case 3:return o=p.sent(),[4,o.json()];case 4:s=p.sent(),i=[],c=0,l=0,p.label=5;case 5:return c<a?s[c].userName!=n?[3,8]:[4,fetch("http://apitest.niconi.cc/User/Name/"+s[c].userName)]:[3,9];case 6:return u=p.sent(),[4,u.json()];case 7:m=p.sent(),i[l]=new N.ContentState(s[c].id,s[c].content,s[c].time,s[c].isDelete,s[c].floor,s[c].isAnonymous,s[c].lastUpdateAuthor,s[c].lastUpdateTime,s[c].topicId,s[c].userName||"匿名",m.postCount,m.portraitUrl,m.signatureCode,s[c].userId),l++,p.label=8;case 8:return c++,[3,5];case 9:return[2,i]}})})}function l(){return"https://login.cc98.org/OAuth/Authorize?"+["client_id=89084063-b0b2-45a3-87c5-a19db2ac3038","response_type=token","scope=all","redirect_uri="+encodeURI("http://localhost:58187/messagebox/message")].join("&")}function u(){return"https://login.cc98.org/OAuth/Authorize?"+["client_id=89084063-b0b2-45a3-87c5-a19db2ac3038","response_type=token","scope=all","redirect_uri="+encodeURI("http://localhost:58187/messagebox/system")].join("&")}function m(){return"https://login.cc98.org/OAuth/Authorize?"+["client_id=89084063-b0b2-45a3-87c5-a19db2ac3038","response_type=token","scope=all","redirect_uri="+encodeURI("http://localhost:58187/messagebox/response")].join("&")}function p(e){x(".mymessage-nav > div").removeClass("mymessage-nav-focus"),x(e).addClass("mymessage-nav-focus")}function d(e){return b(this,void 0,void 0,function(){var t,n,r,a,o,s,i,c,l,u,m,p,d,f;return _(this,function(h){switch(h.label){case 0:return t=20*(e-1)+1,n=20*e,r=n-t,a=g("accessToken"),[4,fetch("http://apitest.niconi.cc/Topic/New?from="+t+"&size="+r,{headers:{Authorization:a}})];case 1:return o=h.sent(),[4,o.json()];case 2:s=h.sent(),i=[];for(c in s)i.push(c);l=0,h.label=3;case 3:return l<i.length?(u=i[l],null!=s[u].userName?[3,4]:(s[u].userName="匿名",s[u].portraitUrl="https://www.cc98.org/pic/anonymous.gif",[3,7])):[3,11];case 4:return[4,fetch("http://apitest.niconi.cc/User/"+s[u].userId)];case 5:return m=h.sent(),[4,m.json()];case 6:p=h.sent(),s[u].portraitUrl=p.portraitUrl,h.label=7;case 7:return[4,fetch("http://apitest.niconi.cc/Board/"+s[u].boardId)];case 8:return d=h.sent(),[4,d.json()];case 9:f=h.sent(),s[u].boardName=f.name,s[u].likeCount=6,s[u].dislikeCount=3,s[u].fanCount=28,h.label=10;case 10:return l++,[3,3];case 11:return[2,s]}})})}function f(e,t){var n=t;"object"==typeof n?(n=JSON.stringify(n),n="obj-"+n):n="str-"+n,sessionStorage.setItem(e,n)}function h(e){var t=sessionStorage.getItem(e);if(t)return 0===t.indexOf("obj-")?(t=t.slice(4),JSON.parse(t)):0===t.indexOf("str-")?t.slice(4):void 0}function v(e,t){var n=t;"object"==typeof n?(n=JSON.stringify(n),n="obj-"+n):n="str-"+n,localStorage.setItem(e,n)}function g(e){var t=localStorage.getItem(e);if(t)return 0===t.indexOf("obj-")?(t=t.slice(4),JSON.parse(t)):0===t.indexOf("str-")?t.slice(4):void 0}function y(e){localStorage.removeItem(e)}function E(e){sessionStorage.removeItem(e)}var b=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},_=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var N=n(3),w=n(0),P=n(9),x=n(5);t.getBoardTopicAsync=r,t.getTopic=a,t.getTopicContent=o,t.convertHotTopic=s,t.getPager=i,t.getCurUserTopicContent=c,t.sendRequest=l,t.systemRequest=u,t.responseRequest=m,t.changeNav=p,t.getAllNewPost=d,t.setStorage=f,t.getStorage=h,t.setLocalStorage=v,t.getLocalStorage=g,t.removeLocalStorage=y,t.removeStorage=E},function(e,t){e.exports=$},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(21),s=function(){function e(){}return e}();t.UbbContainerProps=s;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.engine||o.createEngine(),t=this.props.options||new o.UbbCodeOptions,n=e.exec(this.props.code||"",t),r={whiteSpace:"pre-line",width:"100%"};return t.compatibility===o.UbbCompatiblityMode.Transitional?a.createElement("blockquote",{style:r},n):a.createElement("article",{style:r},n)},t}(a.Component);t.UbbContainer=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-post"},a.createElement("div",{className:"user-post-info"},a.createElement("a",{className:"user-post-board"},this.props.userRecentPost.board),a.createElement("a",{className:"user-post-date"},this.props.userRecentPost.date),a.createElement("a",{className:"user-post-title"},this.props.userRecentPost.title)),a.createElement("div",{className:"user-post-content"},a.createElement("a",null,this.props.userRecentPost.content),a.createElement("a",{className:"fa-thumbs-o-up"}," "+this.props.userRecentPost.approval),a.createElement("a",{className:"fa-thumbs-o-down"}," "+this.props.userRecentPost.disapproval)))},t}(a.Component);t.UserCenterExactActivitiesPost=o},function(e,t){e.exports=moment},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(4),c=n(8),l=n(6),u=n(2),m=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),Object.defineProperty(t.prototype,"match",{get:function(){return this.props.match},enumerable:!0,configurable:!0}),t}(s.Component);t.RouteComponent=m;var p=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={page:1,totalPage:1,boardid:r.match.params.boardid,bigPaper:""},r}return r(t,e),t.prototype.getTotalListPage=function(e){return a(this,void 0,void 0,function(){var t,n,r,a;return o(this,function(o){switch(o.label){case 0:return t=i.getLocalStorage("accessToken"),[4,fetch("http://apitest.niconi.cc/Board/"+e,{headers:{Authorization:t}})];case 1:return n=o.sent(),[4,n.json()];case 2:return r=o.sent(),a=r.postCount,[2,(a-a%20)/20+1]}})})},t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t,n,r;return o(this,function(a){switch(a.label){case 0:return t=e.match.params.page?parseInt(e.match.params.page):1,n=this.match.params.boardid,[4,this.getTotalListPage(n)];case 1:return r=a.sent(),this.setState({page:t,totalPage:r,boardid:n}),[2]}})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n,r,a,s,c;return o(this,function(o){switch(o.label){case 0:return e=i.getLocalStorage("accessToken"),[4,fetch("http://apitest.niconi.cc/Board/"+this.match.params.boardid,{headers:{Authorization:e}})];case 1:return t=o.sent(),[4,t.json()];case 2:return n=o.sent(),r=n.bigPaper,a=this.match.params.page?parseInt(this.match.params.page):1,s=this.match.params.boardid,[4,this.getTotalListPage(s)];case 3:return c=o.sent(),this.setState({bigPaper:r,page:a,totalPage:c,boardid:s}),[2]}})})},t.prototype.render=function(){return s.createElement("div",{id:"listRoot"},s.createElement(d,{boardId:this.state.boardid}),s.createElement(f,{key:this.state.page,boardid:this.state.boardid}),s.createElement(h,{bigPaper:this.state.bigPaper}),s.createElement(v,{page:this.state.page,totalPage:this.state.totalPage,boardid:this.state.boardid}),s.createElement(E,null),s.createElement(u.Route,{path:"/list/:boardid/:page?",component:b}),s.createElement(g,{page:this.state.page,totalPage:this.state.totalPage,boardid:this.state.boardid}))},t}(m);t.List=p;var d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={boardId:"",boardName:""},n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return[4,fetch("http://apitest.niconi.cc/Board/"+this.props.boardId)];case 1:return e=r.sent(),[4,e.json()];case 2:return t=r.sent(),n=t.name,this.setState({boardId:this.props.boardId,boardName:n}),[2]}})})},t.prototype.render=function(){var e="/list/"+this.state.boardId;return s.createElement("div",{className:"row",style:{justifyContent:"flex-start",color:"blue",fontSize:"0.75rem"}},"››",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:"/"},"首页")," → ",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:e},this.state.boardName))},t}(s.Component);t.Category=d;var f=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={imgUrl:"/images/ListImg.jpg",listName:"学术信息",todayTopics:210,totalTopics:12e3,adsUrl:"/images/ads.jpg",listManager:[],isAnomynous:!1,isEncrypted:!1,isHidden:!1,isLocked:!1},r}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(a){switch(a.label){case 0:return e=i.getLocalStorage("accessToken"),t="http://apitest.niconi.cc/Board/"+this.props.boardid,[4,fetch(t,{headers:{Authorization:e}})];case 1:return n=a.sent(),[4,n.json()];case 2:return r=a.sent(),this.setState({listName:r.name,todayTopics:r.todayCount,totalTopics:r.topicCount,listManager:r.boardMasters}),[2]}})})},t.prototype.componentWillRecieveProps=function(e){return a(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(a){switch(a.label){case 0:return e=i.getLocalStorage("accessToken"),t="http://apitest.niconi.cc/Board/"+this.props.boardid,[4,fetch(t,{headers:{Authorization:e}})];case 1:return n=a.sent(),[4,n.json()];case 2:return r=a.sent(),this.setState({listName:r.name,todayTopics:r.todayCount,totalTopics:r.topicCount,listManager:r.boardMasters}),[2]}})})},t.prototype.generateMasters=function(e){var t=e.toString(),n=encodeURIComponent(e.toString()),r="/user/name/"+n;return s.createElement("div",{style:{marginRight:"10px"}},s.createElement("a",{href:r},t))},t.prototype.render=function(){return s.createElement("div",{className:"column",style:{width:"100%"}},s.createElement("div",{className:"row",style:{flexDirection:"row",justifyContent:"space-between"}},s.createElement("div",{style:{flexgrow:"1",flexDirection:"row",display:"flex"}},s.createElement("div",{id:"ListImg"},s.createElement("img",{src:this.state.imgUrl})),s.createElement("div",{className:"column",style:{marginTop:"1.25rem",marginLeft:"0.625rempx"}},s.createElement("div",{className:"row",style:{marginTop:"0.625rem"}},s.createElement("div",null,"今日主题"),s.createElement("div",{style:{marginLeft:"0.625rem"}},this.state.todayTopics)),s.createElement("div",{className:"row",style:{marginTop:"0.625rem"}},s.createElement("div",null,"总主题"),s.createElement("div",{style:{marginLeft:"1.25rem"}},this.state.totalTopics)))),s.createElement("div",{className:"column",style:{flexgrow:"0"}},s.createElement("div",{id:"like"},s.createElement("button",{style:{border:"none",color:"#F5FAFC"}},"✰"),"  收藏版面"),s.createElement("div",null,s.createElement("img",{src:this.state.adsUrl,style:{width:"15.625rem",height:"3.75rem"}})))),s.createElement("div",{className:"row",style:{marginTop:"0.3125rem"}},s.createElement("span",null,"版主 : "),s.createElement("div",{className:"row",style:{marginLeft:"0.3125rem"}},this.state.listManager.map(this.generateMasters))))},t}(m);t.ListHead=f;var h=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={notice:"1. 请大家首先阅读心灵之约版规再发帖，如有违规不接受pm卖萌求情；2. 诚征新版主，请去论坛事务版搜之前的版面负责人申请帖并遵循格式发帖，如有不明可以站短站务组组长咨询。3. 不要留联系方式！不要留联系方式！不要留联系方式！重要的事说三遍！，留任何联系方式tp1000天。 4. 更新了版规，增加了tp规则：成功诱导对方留联系方式的，tp1000天；修订了锁沉规则：有意义言之有物、希望继续讨论的长篇读后感将给予保留。5. 请理性讨论，不要人身攻击。违者tp1天起，累犯或严重的，上不封顶。"},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"notice",style:{marginTop:"0.625rem"}},s.createElement("div",{style:{backgroundColor:"#3399FE"}},s.createElement("div",{style:{marginLeft:"0.9375rem",marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"1rem",color:"#FFFFFF"}},"本版公告")),s.createElement("div",{className:"substance"},s.createElement(l.UbbContainer,{code:this.props.bigPaper})))},t}(m);t.ListNotice=h;var v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={pager:[1,2,3,4,5]},r}return r(t,e),t.prototype.generatePageLink=function(e){return s.createElement(y,{pageNumber:e,boardid:this.props.boardid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t;return o(this,function(n){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{className:"row",style:{width:"100%",marginLeft:"0.3125rem",marginRight:"0.3125rem",marginTop:"0.9375rem",justifyContent:"space-between",alignItems:"flex-end"}},s.createElement("div",{style:{marginBottom:"1.25rem"}},s.createElement("button",{className:"button orange"},"发主题"),s.createElement("button",{className:"button green",style:{marginLeft:"1.25rem"}},"发投票")),s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(s.Component);t.ListButtonAndPager=v;var g=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={pager:[1,2,3,4,5]},r}return r(t,e),t.prototype.generatePageLink=function(e){return s.createElement(y,{pageNumber:e,boardid:this.props.boardid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t;return o(this,function(n){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{className:"row",style:{width:"100%",marginTop:"0.9375rem",justifyContent:"space-between",alignItems:"flex-end"}},s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(s.Component);t.PagerDown=g;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e;return this.props.pageNumber>0?(e="/list/"+this.props.boardid+"/"+this.props.pageNumber,this.props.pageNumber!==this.props.curPage?s.createElement("li",{className:"page-item"},s.createElement(u.Link,{to:e,className:"page-link"},this.props.pageNumber)):s.createElement("li",{className:"page-item active"},s.createElement(u.Link,{to:e,className:"page-link "},this.props.pageNumber))):-1==this.props.pageNumber?(e="/list/"+this.props.boardid+"/"+(this.props.curPage-1),s.createElement("li",{className:"page-item"},s.createElement(u.Link,{className:"page-link",to:e},"‹"))):-2==this.props.pageNumber?(e="/list/"+this.props.boardid+"/"+(this.props.curPage+1),s.createElement("li",{className:"page-item"},s.createElement(u.Link,{className:"page-link",to:e},"›"))):-3==this.props.pageNumber?(e="/list/"+this.props.boardid+"/1",s.createElement("li",{className:"page-item"}," ",s.createElement(u.Link,{className:"page-link",to:e},"«"))):-4==this.props.pageNumber?(e="/list/"+this.props.boardid+"/"+this.props.totalPage,s.createElement("li",{className:"page-item"},s.createElement(u.Link,{className:"page-link",to:e},"»"))):void 0},t}(s.Component);t.PageModel=y;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:"100%",marginLeft:"0.3125rem",marginRight:"0.3125rem",borderTop:"dashed #EAEAEA thin",marginTop:"1.5625rem",marginBottom:"25px"}},s.createElement("div",{className:"row"},"  ",s.createElement("button",{id:"tagButton"},"全部"),s.createElement("button",{className:"chooseTag"},"dota ",s.createElement("span",{className:"tagNumber"},"1234")),s.createElement("button",{className:"chooseTag"},"csgo ",s.createElement("span",{className:"tagNumber"},"5687"))))},t}(s.Component);t.ListTag=E;var b=function(e){function t(){var t=e.call(this)||this;return t.state={items:[]},t}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,i.getBoardTopicAsync(1,this.match.params.boardid)];case 1:return e=t.sent(),console.log(e),this.setState({items:e}),[2]}})})},t.prototype.convertTopicToElement=function(e){return s.createElement(_,{key:e.title,title:e.title,authorName:e.userName,id:e.id,authorId:e.userId,lastPostTime:e.lastPostTime,lastPostUserName:e.lastPostUser})},t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t,n,r;return o(this,function(a){switch(a.label){case 0:return n=e.match.params.page,t=n?parseInt(n):1,[4,i.getBoardTopicAsync(t,this.match.params.boardid)];case 1:return r=a.sent(),this.setState({items:r}),[2]}})})},t.prototype.render=function(){return s.createElement("div",{className:"listContent "},s.createElement("div",{className:"row",style:{justifyContent:"space-between"}},s.createElement("div",{className:"row",style:{alignItems:"center"}},s.createElement("div",{className:"listContentTag"},"全部"),s.createElement("div",{className:"listContentTag"},"精华"),s.createElement("div",{className:"listContentTag"},"最热")),s.createElement("div",{className:"row",style:{alignItems:"center"}},s.createElement("div",{style:{marginRight:"17rem"}},s.createElement("span",null,"作者")),s.createElement("div",{style:{marginRight:"7.6875rem"}},s.createElement("span",null,"最后发表")))),s.createElement("div",null,this.state.items.map(this.convertTopicToElement)))},t}(m);t.ListContent=b;var _=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={title:r.props.title,authorName:r.props.authorName,likeNumber:123,dislikeNumber:11,commentNumber:214,lastPostUserName:r.props.lastPostUserName,lastPostTime:r.props.lastPostTime,id:r.props.id,authorId:r.props.authorId},r}return r(t,e),t.prototype.render=function(){var e="/topic/"+this.state.id;return s.createElement("div",{id:"changeColor"},s.createElement("div",{className:"row topicInList"},s.createElement(u.Link,{to:e},s.createElement("div",{style:{marginLeft:"1.25rem"}}," ",s.createElement("span",null,this.state.title))),s.createElement("div",{className:"row",style:{width:"44%",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"}},s.createElement("div",{style:{width:"15rem",marginRight:"0.625rem",marginLeft:"1rem"}}," ",s.createElement("span",null,s.createElement("a",null,this.state.authorName))),s.createElement("div",{className:"row",style:{width:"25rem",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"}},s.createElement("div",{id:"liked",style:{display:"flex"}},s.createElement("i",{className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"timeProp tagSize"},this.state.likeNumber)),s.createElement("div",{id:"disliked",style:{display:"flex"}},s.createElement("i",{className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"timeProp tagSize"},this.state.dislikeNumber)),s.createElement("div",{id:"commentsAmount",style:{display:"flex"}},s.createElement("i",{className:"fa fa-commenting-o fa-lg"}),s.createElement("span",{className:"timeProp tagSize"},this.state.commentNumber))),s.createElement("div",{id:"lastReply",style:{width:"15rem"}},s.createElement("div",null,this.state.lastPostUserName," ")),s.createElement("div",{style:{width:"30rem",marginRight:"20px"}},s.createElement("div",{style:{wordBreak:"keepAll"}},c(this.state.lastPostTime).format("YYYY-MM-DD HH:mm:ss"))))))},t}(s.Component);t.TopicTitleAndContent=_},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(6),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-profile"},a.createElement("div",{id:"userId"},a.createElement("p",null,this.props.userInfo.name),a.createElement("button",{type:"button"},"私信")),a.createElement("div",{id:"userGenderAndBirthday"},a.createElement("p",null,"性别  ",0===this.props.userInfo.gender?"男":"女"," "),null===this.props.userInfo.birthday?"":a.createElement("p",null,"生日  ",this.props.userInfo.birthday.slice(0,this.props.userInfo.birthday.indexOf("T")))),this.props.userInfo.personalDescription?a.createElement("div",{className:"user-description"},a.createElement("p",null,"个人说明"),a.createElement("img",{src:this.props.userInfo.photourl}),a.createElement("p",null,this.props.userInfo.personalDescription)):null,this.props.userInfo.signatureCode?a.createElement("div",{className:"user-description"},a.createElement("p",null,"个性签名"),a.createElement(o.UbbContainer,{code:this.props.userInfo.signatureCode})):null)},t}(a.Component);t.UserCenterExactProfile=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=n(43),i=n(44),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-activities"},a.createElement("p",null,"近期动态"),a.createElement(o.BrowserRouter,null,a.createElement("div",null,a.createElement(l,{to:""+location.pathname,label:"主题",activeOnlyWhenExact:!0})," | ",a.createElement(l,{to:location.pathname+"/replies",label:"回复",activeOnlyWhenExact:!1}),a.createElement(o.Route,{exact:!0,path:""+location.pathname,component:s.UserCenterExactActivitiesPosts}),a.createElement(o.Route,{path:location.pathname+"/replies",component:i.UserCenterExactActivitiesReplies}))),a.createElement("hr",null),a.createElement("div",{className:"user-activities-nomore"},a.createElement("p",null,"没有更多啦")))},t}(a.Component);t.UserCenterExactActivities=c;var l=function(e){var t=e.label,n=e.to,r=e.activeOnlyWhenExact;return a.createElement(o.Route,{path:n,exact:r,children:function(e){var r=e.match;return a.createElement(o.Link,{className:r?"user-activities-active":"",to:n},t)}})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-avatar"},a.createElement("img",{className:"user-avatar-img",src:this.props.userAvatarImgURL}),a.createElement("div",{className:"user-badge"}))},t}(a.Component);t.UserCenterExactAvatar=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-center-myfollowings-user"},a.createElement("img",{src:this.props.userFanInfo.avatarImgURL}),a.createElement("p",null,a.createElement("span",{className:"user-center-myfollowings-user-id"},this.props.userFanInfo.name),"主题",a.createElement("span",{className:"user-center-myfollowings-user-posts"},this.props.userFanInfo.posts),"粉丝",a.createElement("span",{className:"user-center-myfollowings-user-fans"},this.props.userFanInfo.fans)),a.createElement("button",{type:"button"},"取消关注"))},t}(a.Component);t.UserCenterMyFollowingsUser=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"mymessage-response-box"},a.createElement("div",{className:"mymessage-response-box-left"},a.createElement("img",{className:"mymessage-response-img",src:this.props.chatPortraitUrl})),a.createElement("div",{className:"mymessage-response-box-middle"},a.createElement("div",{className:"mymessage-response-box-middle-name"},this.props.senderName),a.createElement("div",{className:"mymessage-response-box-middle-title"},this.props.title),a.createElement("div",{className:"mymessage-response-box-middle-date"},this.props.sendTime),a.createElement("div",{className:"mymessage-response-box-middle-content"},this.props.content)),a.createElement("div",{className:"mymessage-response-box-right"},"查看"))},t}(a.Component);t.MyMessageResponsebox=o},function(e,t,n){"use strict";function r(e){return m.createElement(p.FocusPostComponent,{title:e.title,hitCount:e.hitCount,id:e.id,boardId:e.boardId,boardName:e.boardName,replyCount:e.replyCount,userName:e.userName,portraitUrl:e.portraitUrl,time:e.time,likeCount:e.likeCount,dislikeCount:e.dislikeCount,fanCount:e.fanCount})}function a(){var e=0,t=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(t=document.documentElement.scrollTop),e-t>0?e:t}function o(){var e=0,t=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t}function s(){return"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function i(){return a()+s()+100>o()}var c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var m=n(0),p=n(67),d=n(4),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={data:[],curPage:1,loading:!0},n.handleScroll=n.handleScroll.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return l(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,d.getAllNewPost(this.state.curPage)];case 1:return e=t.sent(),this.setState({data:e}),document.addEventListener("scroll",this.handleScroll),[2]}})})},t.prototype.componentWillUnmount=function(){return l(this,void 0,void 0,function(){return u(this,function(e){return document.removeEventListener("scroll",this.handleScroll),[2]})})},t.prototype.handleScroll=function(){return l(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:if(!i()||!this.state.loading)return[3,5];if(this.state.curPage>=5)return $("#focus-post-loading").addClass("displaynone"),$("#focus-post-loaddone").removeClass("displaynone"),[2];this.setState({loading:!1}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,d.getAllNewPost(this.state.curPage+1)];case 2:return e=n.sent(),[3,4];case 3:return t=n.sent(),this.setState({loading:!0}),[2];case 4:this.setState({data:this.state.data.concat(e),curPage:this.state.curPage+1,loading:!0}),n.label=5;case 5:return[2]}})})},t.prototype.render=function(){return m.createElement("div",{className:"focus-post-area"},m.createElement("div",{className:"focus-post-topicArea"},this.state.data.map(r)),m.createElement("div",{className:"focus-post-loading",id:"focus-post-loading"},m.createElement("img",{src:"http://ww3.sinaimg.cn/large/0060lm7Tgy1fitwrd6yv0g302s0093y9.gif"})),m.createElement("div",{className:"focus-post-loaddone displaynone",id:"focus-post-loaddone"},"---------------------- 已加载100条新帖，无法加载更多 ----------------------"))},t}(m.Component);t.FocusPostAreaComponent=f},function(e,t,n){n(17),e.exports=n(80)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(18),o=n(19);a.render(r.createElement(o.App,null),document.getElementById("root"))},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=n(20),i=n(9),c=n(37),l=n(38),u=n(39),m=n(56),p=n(66),d=n(68),f=n(71),h=n(72),v=n(73),g=n(74),y=n(77),E=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.match=t.match,r}return r(t,e),t}(a.Component);t.RouteComponent=E;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",null,a.createElement(o.BrowserRouter,null,a.createElement("div",{style:{backGroundColor:"#F5FAFD",justifyContent:"center",display:"flex",flexDirection:"column"}},a.createElement(f.Header,null),a.createElement(o.Route,{exact:!0,path:"/",component:v.MainPage}),a.createElement(o.Route,{exact:!0,path:"/topic/:topicid/:page?",component:s.Post}),a.createElement(o.Route,{exact:!0,path:"/topic/:topicid/user/:userName/:page?",component:c.CurUserPost}),a.createElement(o.Route,{path:"/list/:boardid/:page?",component:i.List}),a.createElement(o.Route,{exact:!0,path:"/boardlist",component:l.BoardList}),a.createElement(o.Route,{path:"/usercenter",component:u.UserCenter}),a.createElement(o.Route,{path:"/mymessage",component:m.MyMessage}),a.createElement(o.Route,{path:"/focus",component:d.MyFocusBoard}),a.createElement(o.Route,{path:"/newtopics",component:p.AllNewPost}),a.createElement(o.Route,{path:"/user",component:g.User}),a.createElement(o.Route,{path:"/logon",component:y.LogOn}),a.createElement(h.Footer,null))))},t}(a.Component);t.App=b},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(4),c=n(5),l=n(2),u=n(6),m=n(36),p=n(8),d=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),Object.defineProperty(t.prototype,"match",{get:function(){return this.props.match},enumerable:!0,configurable:!0}),t}(s.Component);t.RouteComponent=d;var f=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.handleChange=r.handleChange.bind(r),r.state={page:1,topicid:r.match.params.topicid,totalPage:1,userName:null},r}return r(t,e),t.prototype.handleChange=function(){return a(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return e=this.match.params.page?parseInt(this.match.params.page):1,[4,this.getTotalPage(this.match.params.topicid)];case 1:return t=r.sent(),n=this.match.params.userName,this.setState({page:e,topicid:this.match.params.topicid,totalPage:t,userName:n}),[2]}})})},t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t,n,r;return o(this,function(a){switch(a.label){case 0:return t=e.match.params.page?parseInt(e.match.params.page):1,n=e.match.params.userName,[4,this.getTotalPage(this.match.params.topicid)];case 1:return r=a.sent(),this.setState({page:t,topicid:e.match.params.topicid,totalPage:r,userName:n}),[2]}})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return e=this.match.params.page?parseInt(this.match.params.page):1,[4,this.getTotalPage(this.match.params.topicid)];case 1:return t=r.sent(),n=this.match.params.userName,this.setState({page:e,topicid:this.match.params.topicid,totalPage:t,userName:n}),[2]}})})},t.prototype.getTotalPage=function(e){return a(this,void 0,void 0,function(){var t,n,r;return o(this,function(a){switch(a.label){case 0:return[4,fetch("http://apitest.niconi.cc/Topic/"+e)];case 1:return t=a.sent(),[4,t.json()];case 2:return n=a.sent(),r=n.replyCount,r>10?[2,(r-r%10)/10+1]:[2,1]}})})},t.prototype.returnTopic=function(){return s.createElement(E,{imgUrl:"/images/ads.jpg",page:this.state.page,topicid:this.state.topicid})},t.prototype.render=function(){var e=null;return 1==this.state.page&&(e=s.createElement(E,{imgUrl:"/images/ads.jpg",page:this.state.page,topicid:this.state.topicid})),s.createElement("div",{className:"center"},s.createElement("div",{className:"row",style:{width:"100%",justifyContent:"space-between",borderBottom:"#EAEAEA solid thin",alignItems:"center"}},s.createElement(h,{topicid:this.state.topicid}),s.createElement(C,{page:this.state.page,topicid:this.state.topicid,totalPage:this.state.totalPage})),e,s.createElement(l.Route,{path:"/topic/:topicid/:page?",component:v}),s.createElement(O,{page:this.state.page,topicid:this.state.topicid,totalPage:this.state.totalPage}),s.createElement(m.SendTopic,{onChange:this.handleChange,topicid:this.state.topicid}))},t}(d);t.Post=f;var h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={boardId:"",topicId:"",boardName:"",title:""},n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n,r,a,s,i;return o(this,function(o){switch(o.label){case 0:return[4,fetch("http://apitest.niconi.cc/Topic/"+this.props.topicid)];case 1:return e=o.sent(),[4,e.json()];case 2:return t=o.sent(),n=t.title,r=t.boardId,[4,fetch("http://apitest.niconi.cc/Board/"+r)];case 3:return a=o.sent(),[4,a.json()];case 4:return s=o.sent(),i=s.name,this.setState({boardId:r,topicId:this.props.topicid,boardName:i,title:n}),[2]}})})},t.prototype.render=function(){var e="/list/"+this.state.boardId,t="/topic/"+this.state.topicId;return s.createElement("div",{style:{color:"blue",fontSize:"0.75rem"}},"››",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:"/"},"首页")," → ",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:e},this.state.boardName)," → ",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:t},this.state.title))},t}(s.Component);t.Category=h;var v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={contents:[]},r}return r(t,e),t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t,n,r;return o(this,function(a){switch(a.label){case 0:return t=e.match.params.page||1,n="TopicContent_"+e.match.params.topicid+"_"+t,[4,i.getTopicContent(e.match.params.topicid,t)];case 1:return r=a.sent(),this.setState({contents:r}),[2]}})})},t.prototype.generateContents=function(e){return s.createElement("div",{className:"reply"},s.createElement("div",{style:{marginTop:"1rem",marginBotton:"0.3125rem",border:"#EAEAEA solid thin"}},s.createElement(g,{key:e.id,userId:e.userId,topicid:e.topicId,userName:e.userName,replyTime:e.time,floor:e.floor,userImgUrl:e.userImgUrl,sendTopicNumber:e.sendTopicNumber}),s.createElement(w,{key:e.content,content:e.content,signature:e.signature})))},t.prototype.render=function(){return s.createElement("div",{className:"center",style:{width:"100%"}},this.state.contents.map(this.generateContents))},t}(d);t.Reply=v;var g=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={imgUrl:"/images/authorImg.jpg",timeImgUrl:"/images/clock.jpg",userName:"VayneTian",replyTime:Date(),topicsNumber:999,level:2},r}return r(t,e),t.prototype.render=function(){var e="/user/"+this.props.userId,t=encodeURIComponent(e),n="/topic/"+this.props.topicid+"/user/"+this.props.userName;c(document).ready(function(){c(".authorImg").mouseenter(function(e){var t=e.currentTarget;c(t).next(".userDetails").show()}),c(".mouse-userDetails").mouseleave(function(e){var t=e.currentTarget;c(t).find(".userDetails").hide()})});var r="帖数&nbsp;";this.props.userId||(r="");var a;return a="匿名"!=this.props.userName?s.createElement(y,{userName:this.props.userName}):null,s.createElement("div",{className:"replyRoot"},s.createElement("div",{className:"row",style:{width:"100%",display:"flex",marginBottom:"0.625rem"}},s.createElement("div",{className:"row mouse-userDetails",style:{height:"15.625rem"}},s.createElement("div",{className:"authorImg"},s.createElement("a",{href:t},s.createElement("img",{src:this.props.userImgUrl}))),s.createElement("div",{className:"userDetails",style:{display:"none",position:"absolute",zindedx:"1"}},a)),s.createElement("div",{className:"column",id:"rpymes"},s.createElement("div",{className:"row",id:"replierMes"},s.createElement("div",{style:{marginLeft:"0.625rem"}},s.createElement("span",null,this.props.floor,"L")),s.createElement("div",{className:"rpyClr",style:{marginLeft:"0.625rem"}},s.createElement("a",{href:e},this.props.userName)),s.createElement("div",{id:"topicsNumber",style:{marginLeft:"0.625rem",display:"flex",flexWrap:"nowrap",wordBreak:"keepAll"}},r,"   ",s.createElement("span",{style:{color:"red"}},this.props.sendTopicNumber)," ")),s.createElement("div",{className:"row",style:{display:"flex",flexWrap:"nowrap"}},s.createElement("div",{id:"clockimg",style:{marginLeft:"0.375rem"}},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"})),s.createElement("div",null,s.createElement("span",{className:"timeProp"},p(this.props.replyTime).format("YYYY-MM-DD HH:mm:ss"))))),s.createElement("div",{id:"operation"},s.createElement("button",{className:"operation"},"引用"),s.createElement("button",{className:"operation"},"编辑"),s.createElement("button",{className:"operation"},"私信"),s.createElement("button",{className:"operation"},"举报"),s.createElement(l.Link,{className:"operation",to:n},"只看此用户"))))},t}(d);t.Replier=g;var y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={portraitUrl:null,userName:null},n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return"匿名"==this.props.userName?[3,3]:(e="http://apitest.niconi.cc/user/name/"+this.props.userName,[4,fetch(e)]);case 1:return t=r.sent(),[4,t.json()];case 2:n=r.sent(),this.setState({portraitUrl:n.portraitUrl,userName:n.name}),r.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e="/user/name/"+this.props.userName,t=encodeURIComponent(e);return"匿名"!=this.props.userName?s.createElement("div",{className:"popup"},s.createElement("div",{className:"popup_title"},s.createElement("div",{className:"row"},s.createElement("div",{className:"row authorImg",style:{marginLeft:"10px",marginTop:"10px"}},s.createElement("a",{href:t}," ",s.createElement("img",{src:this.state.portraitUrl}))),s.createElement("div",{className:"column",style:{marginLeft:"25px",marginTop:"30px"}},s.createElement("div",{className:"row"},s.createElement("div",{style:{fontFamily:"微软雅黑",color:"blue",marginRight:"10px"}}," ",this.state.userName),"   ",s.createElement("div",{style:{marginRight:"10px",fontSize:"14px"}},"   粉丝  "),s.createElement("div",{style:{color:"red",fontSize:"12px"}},"2333")),s.createElement("div",{className:"row",style:{marginTop:"10px",fontSize:"14px"}},"技术组组长")),s.createElement("div",null,s.createElement("button",{id:"watch",style:{width:"80px",backgroundColor:"#FF6A6A",marginRight:"10px",marginLeft:"25px",marginTop:"50px",height:"30px"}},"关注"))))):void 0},t}(d);t.UserDetails=y;var E=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={topicMessage:{title:"加载中...",time:"",content:"",signature:""}},r}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,i.getTopic(this.props.topicid)];case 1:return e=t.sent(),this.setState({topicMessage:e}),[2]}})})},t.prototype.render=function(){return s.createElement("div",{className:"root"},s.createElement("div",{className:"essay"},s.createElement(b,{authorId:this.state.topicMessage.userId,authorName:this.state.topicMessage.userName,authorImgUrl:this.state.topicMessage.userImgUrl}),s.createElement(_,{Title:this.state.topicMessage.title,Time:this.state.topicMessage.time,HitCount:this.state.topicMessage.hitCount}),s.createElement("div",{id:"ads"},s.createElement("img",{width:"100%",src:this.props.imgUrl}))),s.createElement(N,{content:this.state.topicMessage.content,signature:this.state.topicMessage.signature}),s.createElement(P,null),s.createElement(x,null))},t}(d);t.PostTopic=E;var b=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={userName:"Mana",fansNumber:233,imgUrl:r.props.authorImgUrl},r}return r(t,e),t.prototype.render=function(){var e="/user/"+this.props.authorId;return s.createElement("div",{className:"row",id:"authormes"},s.createElement("div",{className:"authorImg"},s.createElement("a",{href:e},s.createElement("img",{src:this.props.authorImgUrl}))),s.createElement("div",{className:"column",style:{marginRight:"1rem"}},s.createElement("div",{className:"row authorFans",style:{justifyContent:"space-between"}},s.createElement("div",{id:"authorName"},s.createElement("p",null,s.createElement("a",{href:e},this.props.authorName))),s.createElement("div",{id:"fans",className:"row"},s.createElement("div",{style:{marginRight:"0.1875rem"}},"粉丝"),s.createElement("div",{style:{color:"#EE0000"}},this.state.fansNumber))),s.createElement("div",{className:"row"},s.createElement("button",{id:"watch",style:{marginLeft:"1rem"}},"关注"),s.createElement("button",{id:"email",style:{marginLeft:"1rem"}},"私信"))))},t}(d);t.AuthorMessage=b;var _=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={isNotice:!0,isTop:!0,title:"这是一个长长啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊的标题",tag:"女装/开车",time:"2017.8.12",likeNumber:666,unlikeNumber:233,viewTimes:2366},r}return r(t,e),t.prototype.returnProps=function(e,t,n){return s.createElement("div",{id:"title1",className:"row",style:{justifyContent:"flex-start"}},s.createElement("div",{id:"essayTitle"},n))},t.prototype.render=function(){return s.createElement("div",{id:"title"},s.createElement("div",{className:"column",id:"topicTitleProp"},s.createElement("div",{id:"essay1",className:"row"},this.returnProps(this.state.isTop,this.state.isNotice,this.props.Title)),s.createElement("div",{className:"row",id:"essayProp"},s.createElement("div",{id:"tags"},s.createElement("div",{className:"tagProp tagSize"},"标签： ",this.state.tag),s.createElement("div",{className:"tagProp"})),s.createElement("div",{id:"time"},s.createElement("div",{className:"viewProp"},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"}))," ",s.createElement("div",{className:"timeProp tagSize"},p(this.props.Time).format("YYYY-MM-DD HH:mm:ss"))),s.createElement("div",{id:"viewtimes"},s.createElement("div",{className:"viewProp"},s.createElement("i",{className:"fa fa-eye fa-lg fa-fw"}),"  ")," ",s.createElement("div",{className:"timeProp tagSize"},this.props.HitCount,"次")))))},t}(d);t.TopicTitle=_;var N=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={likeNumber:666,dislikeNumber:233},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"content"},s.createElement("div",{className:"substance"},s.createElement(u.UbbContainer,{code:this.props.content})," "),s.createElement("div",{className:"signature"},s.createElement(u.UbbContainer,{code:this.props.signature})),s.createElement("div",{className:"comment"},s.createElement("div",{id:"commentlike",className:"buttonFont"},s.createElement("button",{className:"commentbutton"},s.createElement("i",{className:"fa fa-star-o fa-lg"})),"   收藏文章 "),s.createElement("div",{id:"commentliked"},s.createElement("i",{className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:"commentunliked"},s.createElement("i",{className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike",className:"buttonFont row"}," ",s.createElement("div",{className:"commentbutton"},"   评分"),s.createElement("div",{className:"commentbutton"},"   编辑"))))},t}(d);t.TopicContent=N;var w=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={likeNumber:2424,dislikeNumber:4433},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"root",style:{marginTop:"-170px"}},s.createElement("div",{className:"reply-content"},s.createElement("div",{className:"substance"},s.createElement(u.UbbContainer,{code:this.props.content})),s.createElement("div",{className:"signature"},s.createElement(u.UbbContainer,{code:this.props.signature})),s.createElement("div",{className:"comment"},s.createElement("div",{id:"commentliked"},s.createElement("i",{className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:"commentunliked"},s.createElement("i",{className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike"}," ",s.createElement("div",{className:"commentbutton"},"   评分")))))},t}(d);t.ReplyContent=w;var P=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={userName:"Mana",grade:10,reward:20,credit:"6666炒鸡赞",imgUrl:"/images/authorImg.jpg"},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"good tagSize"},s.createElement("div",{id:"userImage"},s.createElement("img",{src:this.state.imgUrl})," "),s.createElement("div",{id:"userName"},s.createElement("span",null,this.state.userName)),s.createElement("div",{id:"grades"},s.createElement("span",null,"评分 "),s.createElement("span",{id:"grade"},"+",this.state.grade)),s.createElement("div",{id:"reward"},s.createElement("span",null,"赏金 "),s.createElement("span",{id:"money"},this.state.reward),s.createElement("span",null,"论坛币")),s.createElement("div",{id:"credit"},s.createElement("span",null,this.state.credit)))},t}(d);t.TopicGood=P;var x=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={option:"我认为他说的很对",votes:60,totalVotes:220,voted:!1},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"vote"},s.createElement("div",{className:"row"},s.createElement("input",{id:"checkbox",type:"checkbox"})," ",s.createElement("span",{id:"option1",style:{marginLeft:"0.9375rem"}},this.state.option," ")),s.createElement("div",{className:"row",style:{alignItems:"center"}},s.createElement("div",{className:"progress"},s.createElement("div",{className:"voteResult"})),s.createElement("span",{style:{marginLeft:"0.9375rem"}},this.state.votes),s.createElement("span",null," (",this.state.votes/this.state.totalVotes*100,"%)")),s.createElement("div",{style:{marginLeft:"1.25rem"}},this.state.voted?s.createElement("span",null,"你已经投过票啦"):s.createElement("button",{className:"operation"},"投票")))},t}(d);t.TopicVote=x;var C=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={pager:[1,2,3,4,5]},r}return r(t,e),t.prototype.generatePageLink=function(e){return s.createElement(T,{pageNumber:e,topicid:this.props.topicid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t;return o(this,function(n){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this))))},t}(d);t.TopicPager=C;var O=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={pager:[1,2,3,4,5]},r}return r(t,e),t.prototype.generatePageLink=function(e){return s.createElement(T,{pageNumber:e,topicid:this.props.topicid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t;return o(this,function(n){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{className:"row",style:{width:"100%",justifyContent:"space-between",alignItems:"flex-end"}},s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(d);t.TopicPagerDown=O;var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e;return this.props.pageNumber>0?(e="/topic/"+this.props.topicid+"/"+this.props.pageNumber,this.props.pageNumber!=this.props.curPage?s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},this.props.pageNumber)):s.createElement("li",{className:"page-item active"},s.createElement(l.Link,{className:"page-link",to:e},this.props.pageNumber))):-1==this.props.pageNumber?(e="/topic/"+this.props.topicid+"/"+(this.props.curPage-1),s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"‹"))):-2==this.props.pageNumber?(e="/topic/"+this.props.topicid+"/"+(this.props.curPage+1),s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"›"))):-3==this.props.pageNumber?(e="/topic/"+this.props.topicid+"/1",s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"‹‹"))):(e="/topic/"+this.props.topicid+"/"+this.props.totalPage,s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"››")))},t}(s.Component);t.PageModel=T;var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.createElement("div",{id:"userMessageBox"},this.props.userName)},t}(s.Component);t.UserMessageBox=j},function(e,t,n){"use strict";function r(){var e=new a.UbbCodeEngine;return e.tagHandlers.register(new o.BTagHandler),e.tagHandlers.register(new s.ImageTagHandler),e.tagHandlers.register(new i.ITagHandler),e.tagHandlers.register(new c.SizeTagHandler),e.tagHandlers.register(new l.QuoteTagHandler),e.tagHandlers.register(new l.QuotexTagHandler),e.tagHandlers.register(new u.ColorTagHandler),e.tagHandlers.register(new m.UrlTagHandler),e.tagHandlers.register(new p.UTagHandler),e.tagHandlers.register(new d.DelTagHandler),e.tagHandlers.register(new f.MP3TagHandler),e.tagHandlers.register(new h.CursorTagHandler),e.tagHandlers.register(new v.EnglishTagHandler),e.tagHandlers.register(new g.UserTagHandler),e.tagHandlers.register(new y.CodeTagHandler),e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(22),s=n(23),i=n(24),c=n(25),l=n(26),u=n(27),m=n(28),p=n(29),d=n(30),f=n(31),h=n(32),v=n(33),g=n(34),y=n(35);t.createEngine=r,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"b"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){return n.options.compatibility===o.UbbCompatiblityMode.EnforceMorden?a.createElement("strong",null,e):a.createElement("b",null,e)},t}(o.RecursiveTagHandler);t.BTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"img"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r=e,s=t.value("title");if(!n.options.allowImage)return e;var i=a.createElement("img",{src:r,alt:s});return n.options.compatibility===o.UbbCompatiblityMode.EnforceMorden?a.createElement("figure",null,i,a.createElement("figcaption",null,s)):i},t}(o.TextTagHandler);t.ImageTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"i"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){return a.createElement("i",null,e)},t}(o.RecursiveTagHandler);t.ITagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"size"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r=parseInt(t.value("size"));if(isNaN(r)||r<=0)return e;r=r>7?3.5:r/2;var o={fontSize:r+"rem"};return a.createElement("span",{style:o},e)},t}(o.RecursiveTagHandler);t.SizeTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"quote"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r={padding:"13px 19px 13px 17px",backgroundColor:"#F5FAFF",border:"1px solid rgb(204,204,204)",margin:"30px",maxHeight:"800px"};return a.createElement("div",{style:r},e)},t}(o.RecursiveTagHandler);t.QuoteTagHandler=s;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"quotex"},enumerable:!0,configurable:!0}),t}(s);t.QuotexTagHandler=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"color"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r=t.value("color"),o={color:r};return a.createElement("span",{style:o},e)},t}(o.RecursiveTagHandler);t.ColorTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"url"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r=t.value("url");return r||(r=e),!1===n.options.allowExternalUrl&&0===r.indexOf("http")&&r.split("/").length>1&&"www.cc98.org"!==r.split("/")[2]?e:a.createElement("a",{href:r},e)},t}(o.TextTagHandler);t.UrlTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"u"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r={textDecoration:"underline"};return n.options.compatibility===o.UbbCompatiblityMode.EnforceMorden?a.createElement("span",{style:r},e):a.createElement("u",null,e)},t}(o.RecursiveTagHandler);t.UTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"del"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r={textDecoration:"line-through"};return a.createElement("span",{style:r},e)},t}(o.RecursiveTagHandler);t.DelTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"mp3"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){if(!1===n.options.allowMediaContent)return e;var r=!1;return"1"===t.value("mp3")&&!0===n.options.allowAutoPlay&&(r=!0),a.createElement("audio",{src:e,controls:!0,autoPlay:r})},t}(o.TextTagHandler);t.MP3TagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"cursor"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r=t.value("cursor"),o={cursor:r};return a.createElement("span",{style:o},e)},t}(o.RecursiveTagHandler);t.CursorTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"english"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r={fontFamily:"Arial"};return a.createElement("span",{style:r},e)},t}(o.RecursiveTagHandler);t.EnglishTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"user"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r=e,o={cursor:"pointer"};return a.createElement("a",{href:"/user/name"+encodeURI(r),style:o},r)},t}(o.TextTagHandler);t.UserTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"code"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,n){var r=e.split("\n").map(function(e,t){return a.createElement("li",null,e)});return a.createElement("div",{className:"ubb-code"},a.createElement("ol",null,r))},t}(o.TextTagHandler);t.CodeTagHandler=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(4),c=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),Object.defineProperty(t.prototype,"match",{get:function(){return this.props.match},enumerable:!0,configurable:!0}),t}(s.Component);t.RouteComponent=c;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={content:""},n}return r(t,e),t.prototype.sendTopic=function(){return a(this,void 0,void 0,function(){var e,t,n,r,a,s;return o(this,function(o){switch(o.label){case 0:return e="http://apitest.niconi.cc/post/topic/"+this.props.topicid,t={content:this.state.content,contentType:1,title:""},n=JSON.stringify(t),r=i.getLocalStorage("accessToken"),a=new Headers,a.append("Authorization",r),a.append("Content-Type","application/json"),[4,fetch(e,{method:"POST",headers:a,body:n})];case 1:return s=o.sent(),this.props.onChange(),this.setState({content:""}),[2]}})})},t.prototype.getInitialState=function(){return{value:""}},t.prototype.handleChange=function(e){this.setState({content:e.target.value})},t.prototype.render=function(){return s.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},s.createElement("div",{id:"sendTopic"},s.createElement("div",{id:"sendTopic-options"},s.createElement("ul",{className:"editor__menu clearfix",id:"wmd-button-row"},s.createElement("li",{title:"加粗 <strong> Ctrl+B",className:"wmd-button",id:"wmd-bold-button"},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"0px 0px"}})),s.createElement("li",{title:"斜体 <em> Ctrl+I",className:"wmd-button",id:"wmd-italic-button",style:{left:" 25px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:" -20px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer1"}),s.createElement("li",{title:"链接 <a> Ctrl+L",className:"wmd-button",id:"wmd-link-button",style:{left:"75px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-40px 0px"}})),s.createElement("li",{title:"引用 <blockquote> Ctrl+Q",className:"wmd-button",id:"wmd-quote-button",style:{left:" 100px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-60px 0px"}})),s.createElement("li",{title:"代码 <pre><code> Ctrl+K",className:"wmd-button",id:"wmd-code-button",style:{left:" 125px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-80px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer2"}),s.createElement("li",{title:"图片 <img> Ctrl+G",className:"wmd-button",id:"wmd-image-button",style:{left:"150px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-100px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer2"}),s.createElement("li",{title:"数字列表 <ol> Ctrl+O",className:"wmd-button",id:"wmd-olist-button",style:{left:" 200px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-120px 0px"}})),s.createElement("li",{title:"普通列表 <ul> Ctrl+U",className:"wmd-button",id:"wmd-ulist-button",style:{left:"225px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:" -140px 0px"}})),s.createElement("li",{title:"标题 <h1>/<h2> Ctrl+H",className:"wmd-button",id:"wmd-heading-button",style:{left:"250px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-160px 0px"}})),s.createElement("li",{title:"分割线 <hr> Ctrl+R",className:"wmd-button",id:"wmd-hr-button",style:{left:"275px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-180px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer3"}),s.createElement("li",{title:"撤销 - Ctrl+Z",className:"wmd-button",id:"wmd-undo-button",style:{left:"325px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-200px 0px"}})),s.createElement("li",{title:"重做 - Ctrl+Y",className:"wmd-button",id:"wmd-redo-button",style:{left:"350px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-220px -20px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer4"}),s.createElement("li",{title:"Markdown 语法",className:"wmd-button",id:"wmd-help-button",style:{left:" 400px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-300px 0px"}})))),s.createElement("form",null,s.createElement("div",null,s.createElement("textarea",{id:"sendTopic-input",name:"sendTopic-input",value:this.state.content,onChange:this.handleChange.bind(this)})))),s.createElement("div",{className:"row",style:{justifyContent:"center",marginBottom:"1.25rem "}},s.createElement("div",{id:"post-topic-button",onClick:this.sendTopic.bind(this),className:"button blue",style:{marginTop:"1.25rem",width:"4.5rem",letterSpacing:"0.3125rem"}},"回复")))},t}(c);t.SendTopic=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(4),c=n(2),l=n(8),u=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),Object.defineProperty(t.prototype,"match",{get:function(){return this.props.match},enumerable:!0,configurable:!0}),t}(s.Component);t.RouteComponent=u;var m=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={page:1,topicid:r.match.params.topicid,totalPage:1,userName:null},r}return r(t,e),t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t,n,r;return o(this,function(a){switch(a.label){case 0:return t=e.match.params.page?parseInt(e.match.params.page):1,n=e.match.params.userName,[4,this.getTotalPage(this.match.params.topicid)];case 1:return r=a.sent(),this.setState({page:t,topicid:e.match.params.topicid,totalPage:r,userName:n}),[2]}})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return e=this.match.params.page?parseInt(this.match.params.page):1,[4,this.getTotalPage(this.match.params.topicid)];case 1:return t=r.sent(),n=this.match.params.userName,this.setState({page:e,topicid:this.match.params.topicid,totalPage:t,userName:n}),[2]}})})},t.prototype.getTotalPage=function(e){return a(this,void 0,void 0,function(){var t,n,r;return o(this,function(a){switch(a.label){case 0:return[4,fetch("http://api.cc98.org/Topic/"+e)];case 1:return t=a.sent(),[4,t.json()];case 2:return n=a.sent(),r=n.replyCount,r>10?[2,(r-r%10)/10+1]:[2,1]}})})},t.prototype.render=function(){var e=null;return 1==this.state.page&&(e=s.createElement(f,{imgUrl:"/images/ads.jpg",page:this.state.page,topicid:this.state.topicid,userName:this.state.userName})),s.createElement("div",{className:"center",style:{overflowX:"scroll",minWidth:"1140px"}},s.createElement(_,{userName:this.state.userName,page:this.state.page,topicid:this.state.topicid,totalPage:this.state.totalPage}),e,s.createElement(c.Route,{path:"/topic/:topicid/user/:userName/:page?",component:p}))},t}(u);t.CurUserPost=m;var p=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={contents:[]},r}return r(t,e),t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return t=e.match.params.page,void 0==e.match.params.page&&(t=1),this.Contents=i.getCurUserTopicContent(e.match.params.topicid,t,e.match.params.userName),[4,this.Contents];case 1:return n=r.sent(),this.setState({contents:n}),[2]}})})},t.prototype.generateContents=function(e){return s.createElement("div",{id:"reply"},s.createElement(d,{key:e.id,topicid:e.topicId,userName:e.userName,replyTime:e.time,floor:e.floor,userImgUrl:e.userImgUrl,sendTopicNumber:e.sendTopicNumber}),s.createElement(y,{key:e.content,content:e.content,signature:e.signature}))},t.prototype.render=function(){return s.createElement("div",{className:"center",style:{width:"1140px"}},this.state.contents.map(this.generateContents))},t}(u);t.Reply=p;var d=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={imgUrl:"/images/authorImg.jpg",timeImgUrl:"/images/clock.jpg",userName:"VayneTian",replyTime:Date(),topicsNumber:999,level:2},r}return r(t,e),t.prototype.render=function(){var e="/topic/"+this.props.topicid+"/user/"+this.props.userName;return s.createElement("div",{className:"replyRoot"},s.createElement("div",{className:"row",style:{width:"1140px",display:"flex",marginBottom:"10px"}},s.createElement("div",{id:"authorImg"},s.createElement("img",{src:this.props.userImgUrl})),s.createElement("div",{className:"column",id:"rpymes"},s.createElement("div",{className:"row",id:"replierMes"},s.createElement("div",{style:{marginLeft:"10px"}},s.createElement("span",null,this.props.floor,"L")),s.createElement("div",{className:"rpyClr",style:{marginLeft:"10px"}},this.props.userName),s.createElement("div",{id:"topicsNumber",style:{marginLeft:"10px"}},"贴数   ",s.createElement("span",{className:"rpyClrodd"},this.props.sendTopicNumber)," ")),s.createElement("div",{className:"row"},s.createElement("div",{id:"clockimg",style:{marginLeft:"6px"}},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"})),s.createElement("div",null,s.createElement("span",{className:"timeProp"},l(this.props.replyTime).format("YYYY-MM-DD HH:mm:ss"))))),s.createElement("div",{id:"operation"},s.createElement("button",{className:"operation"},"引用"),s.createElement("button",{className:"operation"},"编辑"),s.createElement("button",{className:"operation"},"私信"),s.createElement("button",{className:"operation"},"举报"),s.createElement(c.Link,{className:"operation",to:e},"只看此用户"))))},t}(u);t.Replier=d;var f=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={topicMessage:{title:"ss",time:"2017"}},r}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,i.getTopic(this.props.topicid)];case 1:return e=t.sent(),this.setState({topicMessage:e}),[2]}})})},t.prototype.render=function(){return this.props.userName==this.state.topicMessage.userName?s.createElement("div",{className:"root"},s.createElement("div",{className:"essay"},s.createElement(h,{AuthorName:this.state.topicMessage.userName,authorImgUrl:this.state.topicMessage.userImgUrl}),s.createElement(v,{Title:this.state.topicMessage.title,Time:this.state.topicMessage.time,HitCount:this.state.topicMessage.hitCount}),s.createElement("div",{id:"ads"},s.createElement("img",{src:this.props.imgUrl}))),s.createElement(g,{content:this.state.topicMessage.content,signature:this.state.topicMessage.signature}),s.createElement(E,null),s.createElement(b,null)):null},t}(u);t.PostTopic=f;var h=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={userName:"Mana",fansNumber:233,imgUrl:r.props.authorImgUrl},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"row",id:"authormes"},s.createElement("div",{id:"authorImg"},s.createElement("img",{src:this.props.authorImgUrl})),s.createElement("div",{className:"column"},s.createElement("div",{className:"row authorFans",style:{justifyContent:"space-between"}},s.createElement("div",{id:"authorName"},s.createElement("p",null,this.props.AuthorName)),s.createElement("div",{id:"fans",className:"row"},s.createElement("div",{style:{marginRight:"3px"}},"粉丝"),s.createElement("div",{style:{color:"#EE0000"}},this.state.fansNumber))),s.createElement("div",{className:"row"},s.createElement("button",{id:"watch"},"关注"),s.createElement("button",{id:"email"},"私信"))))},t}(u);t.AuthorMessage=h;var v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={isNotice:!0,isTop:!0,title:"这是一个长长啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊的标题",tag:"女装/开车",time:"2017.8.12",likeNumber:666,unlikeNumber:233,viewTimes:2366},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{id:"title"},s.createElement("div",{className:"column",id:"topicTitleProp"},s.createElement("div",{id:"essay1",className:"row"},s.createElement("div",{id:"title1",className:"row"}," ",s.createElement("span",{className:"titleProp"},this.state.isTop?"【置顶】":""),s.createElement("span",{className:"titleProp"},this.state.isNotice?"【公告】":""," "),s.createElement("span",{id:"essayTitle"},this.props.Title))),s.createElement("div",{className:"row",id:"essayProp"},s.createElement("div",{id:"tags"},s.createElement("span",{className:"tagProp tagSize"},"标签： ",this.state.tag),s.createElement("span",{className:"tagProp"})),s.createElement("div",{id:"time"},s.createElement("span",{className:"viewProp"},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"}))," ",s.createElement("span",{className:"timeProp tagSize"},l(this.props.Time).format("YYYY-MM-DD HH:mm:ss"))),s.createElement("div",{id:"viewtimes"},s.createElement("span",{className:"viewProp"},s.createElement("i",{className:"fa fa-eye fa-lg fa-fw"}),"  ")," ",s.createElement("span",{className:"timeProp tagSize"},this.props.HitCount,"次")))),s.createElement("div",{className:"column",style:{width:"100px"}},s.createElement("div",{className:"row",style:{marginTop:"10px"}},s.createElement("div",{id:"like",className:"tagSize"},s.createElement("i",{className:"fa fa-star-o fa-lg"}),s.createElement("span",{style:{marginLeft:"10px"}},"收藏文章"))),s.createElement("div",{className:"row",style:{marginTop:"35px"}},s.createElement("div",{id:"liked",className:"row tagSize"},s.createElement("i",{className:"fa fa-thumbs-o-up fa-lg fa-fw"}),this.state.likeNumber),s.createElement("div",{id:"disliked",className:"row tagSize"},s.createElement("i",{className:"fa fa-thumbs-o-down fa-lg fa-fw"}),this.state.unlikeNumber))))},t}(u);t.TopicTitle=v;var g=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={likeNumber:666,dislikeNumber:233},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"content"},s.createElement("div",{className:"substance"},this.props.content),s.createElement("div",{className:"signature"},this.props.signature),s.createElement("div",{className:"comment"},s.createElement("div",{id:"commentlike",className:"buttonFont"},s.createElement("button",{className:"commentbutton"},s.createElement("i",{className:"fa fa-star-o fa-lg"})),"   收藏文章 "),s.createElement("div",{id:"commentliked"},s.createElement("i",{className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:"commentunliked"},s.createElement("i",{className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike",className:"buttonFont row"}," ",s.createElement("div",{className:"commentbutton"},"   评分"),s.createElement("div",{className:"commentbutton"},"   编辑"))))},t}(u);t.TopicContent=g;var y=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={likeNumber:2424,dislikeNumber:4433},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"root"},s.createElement("div",{className:"content"},s.createElement("div",{className:"substance"},s.createElement("span",{style:{maxWidth:"1100px"}},this.props.content)),s.createElement("div",{className:"signature"},this.props.signature),s.createElement("div",{className:"comment"},s.createElement("div",{id:"commentliked"},s.createElement("i",{className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:"commentunliked"},s.createElement("i",{className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike"}," ",s.createElement("div",{className:"commentbutton"},"   评分")))))},t}(u);t.ReplyContent=y;var E=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={userName:"Mana",grade:10,reward:20,credit:"6666炒鸡赞",imgUrl:"/images/authorImg.jpg"},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"good tagSize",style:{marginLeft:"2px"}},s.createElement("div",{id:"userImage"},s.createElement("img",{src:this.state.imgUrl})," "),s.createElement("div",{id:"userName"},s.createElement("span",null,this.state.userName)),s.createElement("div",{id:"grades"},s.createElement("span",null,"评分 "),s.createElement("span",{id:"grade"},"+",this.state.grade)),s.createElement("div",{id:"reward"},s.createElement("span",null,"赏金 "),s.createElement("span",{id:"money"},this.state.reward),s.createElement("span",null,"论坛币")),s.createElement("div",{id:"credit"},s.createElement("span",null,this.state.credit)))},t}(u);t.TopicGood=E;var b=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={option:"我认为他说的很对",votes:60,totalVotes:220,voted:!1},r}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"vote",style:{marginLeft:"2px"}},s.createElement("div",{className:"row"},s.createElement("input",{id:"checkbox",type:"checkbox"})," ",s.createElement("span",{id:"option",style:{marginLeft:"15px"}},this.state.option," ")),s.createElement("div",{className:"row"},s.createElement("div",{className:"progress"},s.createElement("div",{className:"voteResult"})),s.createElement("span",{style:{marginLeft:"15px"}},this.state.votes),s.createElement("span",null," (",this.state.votes/this.state.totalVotes*100,"%)")),s.createElement("div",{style:{marginLeft:"20px"}},this.state.voted?s.createElement("span",null,"你已经投过票啦"):s.createElement("button",{className:"operation"},"投票")))},t}(u);t.TopicVote=b;var _=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={pager:[1,2,3,4,5]},r}return r(t,e),t.prototype.generatePageLink=function(e){return s.createElement(N,{userName:this.props.userName,pageNumber:e,topicid:this.props.topicid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return a(this,void 0,void 0,function(){var t;return o(this,function(n){return t=i.getPager(e.page,e.totalPage),console.log("new="+t),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{className:"row",style:{width:"1140px",height:"50px",marginTop:"15px",justifyContent:"space-between",borderBottom:" #EAEAEA solid thin",alignItems:"flex-end"}},s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(u);t.TopicPager=_;var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){if(this.props.pageNumber>0){var e="/topic/"+this.props.topicid+"/user/"+this.props.userName+"/"+this.props.pageNumber;return this.props.pageNumber!=this.props.curPage?s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},this.props.pageNumber)):s.createElement("li",{className:"page-item active"},s.createElement(c.Link,{className:"page-link",to:e},this.props.pageNumber))}if(-1==this.props.pageNumber){var e="/topic/"+this.props.topicid+"/user/"+this.props.userName+"/"+(this.props.curPage-1);return s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},"<"))}if(-2==this.props.pageNumber){var e="/topic/"+this.props.topicid+"/user/"+this.props.userName+"/"+(this.props.curPage+1);return s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},">"))}if(-3==this.props.pageNumber){var e="/topic/"+this.props.topicid+"/user/"+this.props.userName+"/1";return s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},"<<"))}var e="/topic/"+this.props.topicid+"/user/"+this.props.userName+"/"+this.props.totalPage;return s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},">>"))},t}(s.Component);t.PageModel=N},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(3),c=n(4),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={thisBoardState:[]},n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n,r,a,a;return o(this,function(o){switch(o.label){case 0:return e=[],t=[],c.getStorage("board_2")?[3,3]:[4,fetch("http://apitest.niconi.cc/Board/Root")];case 1:return n=o.sent(),[4,n.json()];case 2:for(r=o.sent(),a=0;a<20;a++)t[a]=new i.Board(r[a].name,r[a].todayCount,r[a].postCount,r[a].id,r[a].boardMastersString),c.setStorage("board_"+r[a].id.toString(),t[a]),e[a]="board_"+r[a].id.toString();return c.setStorage("boardList",e),[3,4];case 3:for(a=0;a<20;a++)e=c.getStorage("boardList"),t[a]=c.getStorage(e[a]);o.label=4;case 4:return this.setState({thisBoardState:t}),[2]}})})},t.prototype.generateRootBoard=function(e){return s.createElement(u,{board:e})},t.prototype.render=function(){return s.createElement("div",{className:"boardList"},this.state.thisBoardState.map(this.generateRootBoard))},t}(s.Component);t.BoardList=l;var u=function(e){function t(t){var n=e.call(this,t)||this,r=n.props.board;return 2===r.id||29===r.id||35===r.id||37===r.id?n.state={isExpanded:!1}:n.state={isExpanded:!0},n.toggleIsExpanded=n.toggleIsExpanded.bind(n),n}return r(t,e),t.prototype.toggleIsExpanded=function(){this.setState(function(e){return{isExpanded:!e.isExpanded}})},t.prototype.render=function(){var e=this.state.isExpanded?"flex":"none",t=this.state.isExpanded?"-":"+",n=this.props.board;return 758===n.id?s.createElement("div",{className:"anArea"},s.createElement("div",{className:"column",style:{border:"2px solid #e9e9e9"}},s.createElement("div",{className:"row",style:{marginTop:"15px",marginBottom:"15px"}},s.createElement("div",{className:"areaName"},s.createElement("a",{href:"/list/758"},n.name)),s.createElement("div",{className:"areaName"},"主管：",n.masters)))):s.createElement("div",{className:"anArea"},s.createElement("div",{className:"column",style:{border:"2px solid #e9e9e9"}},s.createElement("div",{className:"row",style:{marginTop:"15px",marginBottom:"15px"}},s.createElement("div",{className:"areaName"},n.name),s.createElement("div",{className:"areaName"},"主管：",n.masters),s.createElement("div",{className:"hideBoard",onClick:this.toggleIsExpanded}," ",t)),s.createElement("div",{className:"hiddenContent",style:{display:e}}," ",s.createElement(m,{boardid:n.id}))))},t}(s.Component);t.RootBoard=u;var m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={thisBoardState:[]},n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(a){switch(a.label){case 0:return e=[],[4,fetch("http://apitest.niconi.cc/Board/"+this.props.boardid+"/Sub")];case 1:return t=a.sent(),[4,t.json()];case 2:for(n=a.sent(),r=0;r<n.length;r++)e[r]=new i.Board(n[r].name,n[r].todayCount,n[r].postCount,n[r].id,n[r].masters);return this.setState({thisBoardState:e}),[2]}})})},t.prototype.convertChildBoard=function(e){return s.createElement("div",{className:"boardContent"},s.createElement("a",{href:"/list/"+e.id},s.createElement("div",{className:"greenBackdrop"})),s.createElement("a",{href:"/list/"+e.id},s.createElement("div",{className:"boardName2"},e.name)),s.createElement("div",{className:"boardInfo"},"今日发帖 ",e.todayPostCount," / 总主题数 ",e.totalPostCount))},t.prototype.convertNoImgChildBoard=function(e){return s.createElement("div",{className:"noImgBoardContent"},s.createElement("a",{href:"/list/"+e.id},s.createElement("div",{className:"boardName2"},e.name)))},t.prototype.render=function(){return 2===this.props.boardid||29===this.props.boardid||35===this.props.boardid||37===this.props.boardid?s.createElement("div",{className:"areaContent"},this.state.thisBoardState.map(this.convertNoImgChildBoard)):s.createElement("div",{className:"areaContent"},this.state.thisBoardState.map(this.convertChildBoard))},t}(s.Component);t.ChildBoard=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=n(40),i=n(41),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-center"},a.createElement("div",{className:"user-center-content"},a.createElement("div",{className:"user-center-head"},a.createElement("p",null,"个人中心")),a.createElement(o.BrowserRouter,null,a.createElement("div",{className:"user-center-body"},a.createElement(s.UserCenterNavigation,null),a.createElement(i.UserCenterRouter,null)))))},t}(a.Component);t.UserCenter=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=n(5),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isScroll:!1,buttonClassName:"",navigationClassName:"user-center-navigation"},n.handleScroll=n.handleScroll.bind(n),n}return r(t,e),t.prototype.handleScroll=function(e){window.pageYOffset>234&&!this.state.isScroll&&this.setState({isScroll:!0,buttonClassName:"btn-show",navigationClassName:"user-center-navigation user-center-navigation-fixed"}),window.pageYOffset<234&&this.state.isScroll&&this.setState(function(e){return""===e.buttonClassName?{isScroll:!1}:{isScroll:!1,buttonClassName:"btn-disappare",navigationClassName:"user-center-navigation user-center-navigation-unfixed"}})},t.prototype.componentDidMount=function(){document.addEventListener("scroll",this.handleScroll)},t.prototype.componentWillUnmount=function(){document.removeEventListener("scroll",this.handleScroll)},t.prototype.scrollToTop=function(){s("body,html").animate({scrollTop:0},500)},t.prototype.render=function(){return a.createElement("div",{className:this.state.navigationClassName,id:"userCenterNavigation"},a.createElement("ul",null,a.createElement(c,{to:"/usercenter",label:"主页",activeOnlyWhenExact:!0,myClassName:"fa-home"}),a.createElement("hr",null),a.createElement(c,{to:"/usercenter/myposts",label:"我的主题",myClassName:"fa-pencil-square-o"}),a.createElement("hr",null),a.createElement(c,{to:"/usercenter/myfavorites",label:"我的收藏",myClassName:"fa-star"}),a.createElement("hr",null),a.createElement(c,{to:"/usercenter/myfollowings",label:"我的关注",myClassName:"fa-heart"}),a.createElement("hr",null),a.createElement(c,{to:"/usercenter/myfans",label:"我的粉丝",myClassName:"fa-users"}),a.createElement("hr",null),a.createElement(c,{to:"/usercenter/config",label:"功能设置",myClassName:"fa-cog"})),a.createElement("button",{type:"button",id:"scrollToTop",className:this.state.buttonClassName,onClick:this.scrollToTop},"回到顶部"))},t}(a.Component);t.UserCenterNavigation=i;var c=function(e){var t=e.label,n=e.to,r=e.activeOnlyWhenExact,s=void 0!==r&&r,i=e.myClassName;return a.createElement(o.Route,{path:n,exact:s,children:function(e){var r=e.match;return a.createElement("li",{className:r?"user-center-navigation-active":""},a.createElement(o.Link,{className:""+i,to:n},a.createElement("p",null,t)))}})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=n(42),i=n(45),c=n(46),l=n(47),u=n(50),m=n(52),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-center-router"},a.createElement(o.Route,{exact:!0,path:"/usercenter/",component:s.UserCenterExact}),a.createElement(o.Route,{path:"/usercenter/myfollowings",component:i.UserCenterMyFollowings}),a.createElement(o.Route,{path:"/usercenter/myfans",component:c.UserCenterMyFans}),a.createElement(o.Route,{path:"/usercenter/myposts",component:l.UserCenterMyPosts}),a.createElement(o.Route,{path:"/usercenter/myfavorites",component:u.UserCenterMyFavorites}),a.createElement(o.Route,{path:"/usercenter/config",component:m.UserCenterConfig}))},t}(a.Component);t.UserCenterRouter=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(10),c=n(11),l=n(12),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return[4,fetch("https://api.cc98.org/Me/",{headers:{Authorization:"bearer "+window.localStorage.token}})];case 1:return e=n.sent(),[4,e.json()];case 2:return t=n.sent(),this.setState({userInfo:t,userAvatarImgURL:t.portraitUrl,responseState:e.status}),[2]}})})},t.prototype.render=function(){return null!==this.state&&200===this.state.responseState?s.createElement("div",{className:"user-center-exact"},s.createElement(l.UserCenterExactAvatar,{userAvatarImgURL:this.state.userAvatarImgURL}),s.createElement(i.UserCenterExactProfile,{userInfo:this.state.userInfo}),s.createElement(c.UserCenterExactActivities,null)):null!==this.state&&401===this.state.responseState?s.createElement("p",null,"请重新登陆"):s.createElement("p",null,"加载中")},t}(s.Component);t.UserCenterExact=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(7),c=n(3),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userRecentPosts:new Array(10).fill(u),isLoading:!1},n.scrollHandler=n.scrollHandler.bind(n),n}return r(t,e),t.prototype.scrollHandler=function(e){var t=this;document.body.scrollHeight-window.pageYOffset<1500&&!1===this.state.isLoading&&this.setState(function(e){t.setState({isLoading:!0});var n=e.userRecentPosts;return n=n.concat(new Array(10).fill(u)),{userRecentPosts:n,isLoading:!1}})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){return o(this,function(e){return window.addEventListener("scroll",this.scrollHandler),[2]})})},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollHandler)},t.prototype.render=function(){for(var e=this.state.userRecentPosts.map(function(e){return s.createElement(i.UserCenterExactActivitiesPost,{userRecentPost:e})}),t=1;t<e.length;t+=2)e.splice(t,0,s.createElement("hr",null));return s.createElement("div",{className:"user-posts"},e)},t}(s.Component);t.UserCenterExactActivitiesPosts=l;var u=new c.UserRecentPost;u.approval=666,u.board="学术信息",u.content="这是帖子内容",u.date="2017-8-18",u.disapproval=233,u.title="这是帖子标题"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(7),s=n(3),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userRecentPosts:[c,c,c]},n}return r(t,e),t.prototype.render=function(){for(var e=this.state.userRecentPosts.map(function(e){return a.createElement(o.UserCenterExactActivitiesPost,{userRecentPost:e})}),t=1;t<e.length;t+=2)e.splice(t,0,a.createElement("hr",null));return a.createElement("div",{className:"user-posts"},e)},t}(a.Component);t.UserCenterExactActivitiesReplies=i;var c=new s.UserRecentPost;c.approval=666,c.board="学术信息",c.content="这是帖子内容",c.date="2017-8-18",c.disapproval=233,c.title="这是帖子标题"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(3),s=n(13),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userFollowings:[c,c,c,c]},n}return r(t,e),t.prototype.render=function(){for(var e=this.state.userFollowings.map(function(e){return a.createElement(s.UserCenterMyFollowingsUser,{userFanInfo:e})}),t=1;t<e.length;t+=2)e.splice(t,0,a.createElement("hr",null));return a.createElement("div",{className:"user-center-myfollowings"},e)},t}(a.Component);t.UserCenterMyFollowings=i;var c=new o.UserFanInfo;c.avatarImgURL="../img/001.jpg",c.fans=666,c.posts=233,c.name="董松松松"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(3),s=n(13),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userFans:[c,c,c]},n}return r(t,e),t.prototype.render=function(){for(var e=this.state.userFans.map(function(e){return a.createElement(s.UserCenterMyFollowingsUser,{userFanInfo:e})}),t=1;t<e.length;t+=2)e.splice(t,0,a.createElement("hr",null));return a.createElement("div",{className:"user-center-myfans"},e)},t}(a.Component);t.UserCenterMyFans=i;var c=new o.UserFanInfo;c.avatarImgURL="../img/001.jpg",c.fans=666,c.posts=233,c.name="董松松松"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=n(48),i=n(49),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(o.BrowserRouter,null,a.createElement("div",{className:"user-center-myposts"},a.createElement(l,{to:"/usercenter/myposts",label:"主题",activeOnlyWhenExact:!0})," | ",a.createElement(l,{to:"/usercenter/myposts/replies",label:"回复",activeOnlyWhenExact:!1}),a.createElement(o.Route,{exact:!0,path:"/usercenter/myposts",component:s.UserCenterMyPostsExact}),a.createElement(o.Route,{path:"/usercenter/myposts/replies",component:i.UserCenterMyPostsReplies})))},t}(a.Component);t.UserCenterMyPosts=c;var l=function(e){var t=e.label,n=e.to,r=e.activeOnlyWhenExact;return a.createElement(o.Route,{path:n,exact:r,children:function(e){var r=e.match;return a.createElement(o.Link,{className:r?"user-activities-active":"",to:n},t)}})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(7),s=n(3),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userRecentPosts:new Array(50).fill(c)},n}return r(t,e),t.prototype.render=function(){for(var e=this.state.userRecentPosts.map(function(e){return a.createElement(o.UserCenterExactActivitiesPost,{userRecentPost:e})}),t=1;t<e.length;t+=2)e.splice(t,0,a.createElement("hr",null));return a.createElement("div",{className:"user-posts"},e)},t}(a.Component);t.UserCenterMyPostsExact=i;var c=new s.UserRecentPost;c.approval=666,c.board="学术信息",c.content="这是帖子内容",c.date="2017-8-18",c.disapproval=233,c.title="这是帖子标题"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(7),s=n(3),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userRecentPosts:[c,c,c]},n}return r(t,e),t.prototype.render=function(){for(var e=this.state.userRecentPosts.map(function(e){return a.createElement(o.UserCenterExactActivitiesPost,{userRecentPost:e})}),t=1;t<e.length;t+=2)e.splice(t,0,a.createElement("hr",null));return a.createElement("div",{className:"user-posts"},e)},t}(a.Component);t.UserCenterMyPostsReplies=i;var c=new s.UserRecentPost;c.approval=666,c.board="学术信息",c.content="这是帖子内容",c.date="2017-8-18",c.disapproval=233,c.title="这是帖子标题"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=n(51),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(o.BrowserRouter,null,a.createElement("div",{className:"user-center-myfavorites"},a.createElement(c,{to:"/usercenter/myfavorites",label:"文章",activeOnlyWhenExact:!0})," | ",a.createElement(c,{to:"/usercenter/myfavorites/boards",label:"版面",activeOnlyWhenExact:!1}),a.createElement(o.Route,{exact:!0,path:"/usercenter/myfavorites",component:s.UserCenterMyFavoritesPosts})))},t}(a.Component);t.UserCenterMyFavorites=i;var c=function(e){var t=e.label,n=e.to,r=e.activeOnlyWhenExact;return a.createElement(o.Route,{path:n,exact:r,children:function(e){var r=e.match;return a.createElement(o.Link,{className:r?"user-activities-active":"",to:n},t)}})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(7),s=n(3),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userRecentPosts:[c,c,c,c]},n}return r(t,e),t.prototype.render=function(){for(var e=this.state.userRecentPosts.map(function(e){return a.createElement(o.UserCenterExactActivitiesPost,{userRecentPost:e})}),t=1;t<e.length;t+=2)e.splice(t,0,a.createElement("hr",null));return a.createElement("div",{className:"user-posts"},e)},t}(a.Component);t.UserCenterMyFavoritesPosts=i;var c=new s.UserRecentPost;c.approval=666,c.board="学术信息",c.content="这是帖子内容",c.date="2017-8-18",c.disapproval=233,c.title="这是帖子标题"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(53),s=n(54),i=n(55),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-center-config"},a.createElement(o.UserCenterConfigAvatar,null),a.createElement("hr",null),a.createElement(s.UserCenterConfigSignature,null),a.createElement("hr",null),a.createElement(i.UserCenterConfigPassword,null))},t}(a.Component);t.UserCenterConfig=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-center-config-avatar"},a.createElement("img",{src:"http://file.cc98.org/uploadface/5298.png"}),a.createElement("div",null,a.createElement("button",{id:"chooseDefaultAvatar",type:"button"},"选择论坛头像"),a.createElement("div",null,a.createElement("button",{id:"uploadAvatar",type:"button"},"上传头像"),a.createElement("p",null,"图片长宽为160×160像素的图片"))))},t}(a.Component);t.UserCenterConfigAvatar=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={signature:"你还没有个性签名",signatureExtends:null},n.handleChange=n.handleChange.bind(n),n}return r(t,e),t.prototype.handleChange=function(e){this.setState({signature:e.target.value}),console.log(this.state.signature)},t.prototype.render=function(){return a.createElement("div",{className:"user-center-config-signature"},a.createElement("div",{className:"signature-buttons"},a.createElement("button",{id:"signatureImg",type:"button"},"图片"),a.createElement("button",{id:"signatureVideo",type:"button"},"视频"),a.createElement("button",{id:"signatureAudio",type:"button"},"音乐"),a.createElement("button",{id:"signatureColor",type:"button"},"A"),a.createElement("button",{id:"signatureStrong",type:"button"},"B")),a.createElement("div",{className:"signature-extends"}),a.createElement("textarea",{id:"signature",onChange:this.handleChange,value:this.state.signature}),a.createElement("div",null,a.createElement("p",null,"注* 个性签名将在个人主页、发布文章、回复文章中显示"),a.createElement("button",{id:"signatureUpload",type:"button"},"保存签名档")))},t}(a.Component);t.UserCenterConfigSignature=o;!function(){function e(){}}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-center-config-password"},a.createElement("p",null,"修改密码"),a.createElement("div",{className:"password-inputs"},a.createElement("p",null,"原密码"),a.createElement("input",{type:"password",id:"oldPassword"}),a.createElement("p",null,"新密码"),a.createElement("input",{type:"password",id:"newPassword"}),a.createElement("p",null,"确认密码"),a.createElement("input",{type:"password",id:"confirmPassword"}),a.createElement("button",{type:"button"},"提交密码")),a.createElement("p",{id:"passwordChangeMesssage"}))},t}(a.Component);t.UserCenterConfigPassword=o},function(e,t,n){"use strict";function r(e){$(".mymessage-nav > div").removeClass("mymessage-nav-focus"),$(e).addClass("mymessage-nav-focus")}function a(){var e=location.origin+"/mymessage";return"https://login.cc98.org/OAuth/Authorize?"+["client_id=457bfed1-ab0b-4606-a346-05afac262d5a","response_type=token","scope=all","redirect_uri="+encodeURI(e)].join("&")}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(57),c=n(62),l=n(63),u=n(64),m=n(2),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e,t=a(),n=location.href.match(/access_token=(\S+)&token_type/);return n&&(e=n[1]),s.createElement("div",{className:"mymessage-root"},s.createElement("div",{className:"mymessage"},s.createElement("div",{className:"mymessage-login"},s.createElement("a",{href:t},"登陆")),s.createElement("div",{className:"mymessage-title"},"我的消息"),s.createElement(m.BrowserRouter,null,s.createElement("div",{className:"mymessage-content"},s.createElement("div",{className:"mymessage-nav"},s.createElement("div",{id:"response"},s.createElement(m.NavLink,{to:"/mymessage/response?access_token="+e},"回复我的")),s.createElement("div",{id:"attme"},s.createElement(m.NavLink,{to:"/mymessage/attme?access_token="+e},"@我的")),s.createElement("div",{id:"likes"},s.createElement(m.NavLink,{to:"/mymessage/likes?access_token="+e},"收到的赞")),s.createElement("div",{id:"system"},s.createElement(m.NavLink,{to:"/mymessage/system?access_token="+e},"系统通知")),s.createElement("div",{id:"message"},s.createElement(m.NavLink,{to:"/mymessage/message?access_token="+e},"我的私信"))),s.createElement(m.Route,{path:"/mymessage/response",component:c.MyMessageResponse}),s.createElement(m.Route,{path:"/mymessage/attme",component:l.MyMessageAttme}),s.createElement(m.Route,{path:"/mymessage/likes",component:d}),s.createElement(m.Route,{path:"/mymessage/system",component:u.MyMessageSystem}),s.createElement(m.Route,{path:"/mymessage/message",component:i.MyMessageMessage})))))},t}(s.Component);t.MyMessage=p,t.changeNav=r;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return r("#likes"),s.createElement("div",null,"这里是我收到的赞")},t}(s.Component);t.Likes=d},function(e,t,n){"use strict";function r(e,t){for(var n=e.length;n--;)if(e[n].name===t)return!0;return!1}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=n(58),l=n(59),u=function(e){function t(t){var n=e.call(this,t)||this;return n.coverMessagePerson=function(e){var t=function(){n.setState({chatName:e.name,chatPortraitUrl:e.portraitUrl}),$(".mymessage-message-pList > div").removeClass("mymessage-message-pFocus"),$("#"+e.name).addClass("mymessage-message-pFocus")};return i.createElement("div",{onClick:t,id:""+e.name},i.createElement(c.MyMessagePerson,{name:e.name,portraitUrl:e.portraitUrl,title:e.title,content:e.content}))},n.state={data:[],chatName:"系统",chatPortraitUrl:"http://file.cc98.org/uploadface/40994.gif",myName:"系统",myPortraitUrl:"http://file.cc98.org/uploadface/40994.gif",token:"testAccessToken"},n}return a(t,e),t.prototype.componentWillMount=function(){return o(this,void 0,void 0,function(){var e,t,n,a,o,i,c,l,u,m,p,d,f,m,h,v;return s(this,function(s){switch(s.label){case 0:return e=40,t=location.href.match(/access_token=(\S+)/),t&&(n=t[1]),[4,fetch("https://api.cc98.org/me",{headers:{Authorization:"Bearer "+n}})];case 1:return a=s.sent(),[4,a.json()];case 2:o=s.sent(),i=[],c=-49,s.label=3;case 3:return c+=49,[4,fetch("https://api.cc98.org/Message?filter=both",{headers:{Range:"bytes="+c+"-"+(c+49),Authorization:"Bearer "+n}})];case 4:return l=s.sent(),[4,l.json()];case 5:u=s.sent();for(m in u)if("回复提示"==u[m].title||"@提示"==u[m].title||"转账通知"==u[m].title||"系统消息"==u[m].title||u[m].title=="用户："+o.name+" 在帖子中回复了你"||(u[m].senderName==o.name?r(i,u[m].receiverName)||i.push({name:u[m].receiverName,portraitUrl:"",title:u[m].title,content:u[m].content}):u[m].senderName&&(r(i,u[m].senderName)||i.push({name:u[m].senderName,portraitUrl:"",title:u[m].title,content:u[m].content}))),i.length>=e)break;s.label=6;case 6:if(i.length<e)return[3,3];s.label=7;case 7:p=[];for(d in i)p.push(d);f=0,s.label=8;case 8:return f<p.length?(m=p[f],[4,fetch("https://api.cc98.org/User/Name/"+i[m].name)]):[3,12];case 9:return h=s.sent(),[4,h.json()];case 10:v=s.sent(),i[m].portraitUrl=v.portraitUrl,s.label=11;case 11:return f++,[3,8];case 12:return this.setState({data:i,chatName:i[0].name,chatPortraitUrl:i[0].portraitUrl,myName:o.name,myPortraitUrl:o.portraitUrl,token:n}),$("#"+i[0].name).addClass("mymessage-message-pFocus"),[2]}})})},t.prototype.render=function(){return $(".mymessage-nav > div").removeClass("mymessage-nav-focus"),$("#message").addClass("mymessage-nav-focus"),i.createElement("div",{className:"mymessage-message"},i.createElement("div",{className:"mymessage-message-people"},i.createElement("div",{className:"mymessage-message-pTitle"},"近期私信"),i.createElement("div",{className:"mymessage-message-pList"},this.state.data.map(this.coverMessagePerson))),i.createElement(l.MyMessageWindow,{chatName:this.state.chatName,chatPortraitUrl:this.state.chatPortraitUrl,myName:this.state.myName,myPortraitUrl:this.state.myPortraitUrl,token:this.state.token}))},t}(i.Component);t.MyMessageMessage=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"mymessage-message-person"},a.createElement("img",{className:"mymessage-message-pPortraitUrl",src:this.props.portraitUrl}),a.createElement("div",{className:"mymessage-message-pInfo"},a.createElement("div",{className:"mymessage-message-pName"},this.props.name),a.createElement("div",{className:"mymessage-message-pMessage"},"[",this.props.title,"]",this.props.content)))},t}(a.Component);t.MyMessagePerson=o},function(e,t,n){"use strict";function r(e){for(var t=-1,n=-1,r=0;r<e.length-1;r++)e[r].sendTime==e[r+1].sendTime&&-1==t?t=r:e[r].sendTime!=e[r+1].sendTime&&-1!=t&&(n=r),-1!=t&&-1!=n&&(a(e,t,n),t=-1,n=-1)}function a(e,t,n){for(var r=t;r<n;r++)a=[e[n],e[r]],e[r]=a[0],e[n]=a[1],n--;var a}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),l=n(60),u=n(61),m=function(e){function t(t){var n=e.call(this,t)||this;return n.coverMyMessageProps=function(e){if("回复提示"!=e.title&&"@提示"!=e.title&&"转账通知"!=e.title&&"系统消息"!=e.title&&e.title!="用户："+n.props.myName+" 在帖子中回复了你")return e.senderName==n.props.chatName?c.createElement(u.MyMessageReceiver,{id:e.id,senderName:e.senderName,receiverName:e.receiverName,title:e.title,content:e.content,isRead:e.isRead,sendTime:e.sendTime,chatPortraitUrl:e.chatPortraitUrl,myPortraitUrl:e.myPortraitUrl}):c.createElement(l.MyMessageSender,{id:e.id,senderName:e.senderName,receiverName:e.receiverName,title:e.title,content:e.content,isRead:e.isRead,sendTime:e.sendTime,chatPortraitUrl:e.chatPortraitUrl,myPortraitUrl:e.myPortraitUrl})},n.postMessage=function(){var e={receiverName:n.props.chatName,title:"你好",content:$("#myMessageContent").val()},t=JSON.stringify(e);fetch("https://api.cc98.org/Message",{method:"POST",headers:{Authorization:"Bearer "+n.props.token,"content-type":"application/json"},body:t});console.log($("#myMessageContent").val());var r=n;setTimeout(function(){r.getMessageData(r.props)},200),$("#myMessageContent").val("")},n.report=function(){alert("举报他人恶意私信请到【论坛事务】按照格式发帖投诉，记得截图保留证据，管理员会及时进行处理！感谢您对CC98的支持！")},n.state={data:[]},n.getMessageData=n.getMessageData.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){return s(this,void 0,void 0,function(){return i(this,function(e){return this.getMessageData(this.props),[2]})})},t.prototype.componentWillReceiveProps=function(e){return s(this,void 0,void 0,function(){return i(this,function(t){return this.getMessageData(e),[2]})})},t.prototype.getMessageData=function(e){return s(this,void 0,void 0,function(){var t,n,a,o,s,s;return i(this,function(i){switch(i.label){case 0:if("系统"==e.chatName)return[3,6];t=[],n=-50,i.label=1;case 1:return n+=50,[4,fetch("https://api.cc98.org/Message?userName="+e.chatName+"&filter=both",{headers:{Range:"bytes="+n+"-"+(n+49),Authorization:"Bearer "+e.token}})];case 2:return a=i.sent(),[4,a.json()];case 3:o=i.sent();for(s in o)t.push(o[s]);i.label=4;case 4:if(t.length%50==0)return[3,1];i.label=5;case 5:for(s in t)t[s].chatPortraitUrl=e.chatPortraitUrl,t[s].myPortraitUrl=e.myPortraitUrl;r(t),this.setState({data:t}),i.label=6;case 6:return[2]}})})},t.prototype.render=function(){return console.log("开始render"),c.createElement("div",{className:"mymessage-message-window"},c.createElement("div",{className:"mymessage-message-wHeader"},c.createElement("div",{className:"mymessage-message-wReport"}),c.createElement("div",{className:"mymessage-message-wTitle"},"与 ",this.props.chatName," 的私信"),c.createElement("div",{className:"mymessage-message-wReport"},c.createElement("button",{onClick:this.report},"举报"))),c.createElement("div",{className:"mymessage-message-wContent"},this.state.data.map(this.coverMyMessageProps)),c.createElement("div",{className:"mymessage-message-wPost"},c.createElement("textarea",{className:"mymessage-message-wPostArea",id:"myMessageContent"}),c.createElement("button",{className:"mymessage-message-wPostBtn",onClick:this.postMessage},"回复")))},t}(c.Component);t.MyMessageWindow=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(6),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"mymessage-message-wc"},a.createElement("div",{className:"mymessage-message-wcTime"},this.props.sendTime),a.createElement("div",{className:"mymessage-message-wcSender"},a.createElement("img",{className:"mymessage-message-wcPortraitUrl",src:this.props.myPortraitUrl}),a.createElement("div",{className:"mymessage-message-wcContent"},a.createElement("div",{id:String(this.props.id),className:"mymessage-message-wcText"},"【",this.props.title,"】",a.createElement(o.UbbContainer,{code:this.props.content}))),a.createElement("div",{className:"mymessage-message-wcRead1"},a.createElement("div",{className:"mymessage-message-wcRead2"},this.props.isRead?"已读":"未读"))))},t}(a.Component);t.MyMessageSender=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(6),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"mymessage-message-wc"},a.createElement("div",{className:"mymessage-message-wcTime"},this.props.sendTime),a.createElement("div",{className:"mymessage-message-wcReceiver"},a.createElement("img",{className:"mymessage-message-wcPortraitUrl",src:this.props.chatPortraitUrl}),a.createElement("div",{className:"mymessage-message-wcContent"},a.createElement("div",{className:"mymessage-message-wcText",id:String(this.props.id)},"【",this.props.title,"】",a.createElement(o.UbbContainer,{code:this.props.content}))),a.createElement("div",{className:"mymessage-message-wcRead1"},a.createElement("div",{className:"mymessage-message-wcRead2"},this.props.isRead?"已读":"未读"))))},t}(a.Component);t.MyMessageReceiver=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(14),c=function(e){function t(t){var n=e.call(this,t)||this;return n.coverMessageResponse=function(e){return s.createElement(i.MyMessageResponsebox,{id:e.id,senderName:e.senderName,receiverName:e.receiverName,title:e.title,content:e.content,isRead:e.isRead,sendTime:e.sendTime,chatPortraitUrl:e.chatPortraitUrl,myPortraitUrl:e.myPortraitUrl})},n.state={data:[]},n}return r(t,e),t.prototype.componentWillMount=function(){return a(this,void 0,void 0,function(){var e,t,n,r,a,s,i,c,l,u,i,s,m;return o(this,function(o){switch(o.label){case 0:e=location.href.match(/access_token=(\S+)/),e&&(t=e[1]),n=[],r=[],a=-49,o.label=1;case 1:return a+=49,[4,fetch("https://api.cc98.org/Message?filter=receive",{headers:{Range:"bytes="+a+"-"+(a+49),Authorization:"Bearer "+t}})];case 2:return s=o.sent(),[4,s.json()];case 3:r=o.sent();for(i in r)"回复提示"==r[i].title&&n.push({id:r[i].id,senderName:r[i].senderName,receiverName:r[i].receiverName,title:r[i].title,content:r[i].content,isRead:r[i].isRead,sendTime:r[i].sendTime,chatPortraitUrl:"",myPortraitUrl:""});o.label=4;case 4:if(r.length%50==0)return[3,1];o.label=5;case 5:c=[];for(l in n)c.push(l);u=0,o.label=6;case 6:return u<c.length?(i=c[u],[4,fetch("https://api.cc98.org/User/Name/"+n[i].senderName)]):[3,10];case 7:return s=o.sent(),[4,s.json()];case 8:m=o.sent(),n[i].chatPortraitUrl=m.portraitUrl,o.label=9;case 9:return u++,[3,6];case 10:return this.setState({data:n}),[2]}})})},t.prototype.render=function(){return $(".mymessage-nav > div").removeClass("mymessage-nav-focus"),$("#response").addClass("mymessage-nav-focus"),s.createElement("div",{className:"mymessage-response"},this.state.data.map(this.coverMessageResponse))},t}(s.Component);t.MyMessageResponse=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(14),c=function(e){function t(t){var n=e.call(this,t)||this;return n.coverMessageResponse=function(e){return s.createElement(i.MyMessageResponsebox,{id:e.id,senderName:e.senderName,receiverName:e.receiverName,title:e.title,content:e.content,isRead:e.isRead,sendTime:e.sendTime,chatPortraitUrl:e.chatPortraitUrl,myPortraitUrl:e.myPortraitUrl})},n.state={data:[]},n}return r(t,e),t.prototype.componentWillMount=function(){return a(this,void 0,void 0,function(){var e,t,n,r,a,s,i,c,l,u,i,s,m;return o(this,function(o){switch(o.label){case 0:e=location.href.match(/access_token=(\S+)/),e&&(t=e[1]),n=[],r=[],a=-49,o.label=1;case 1:return a+=49,[4,fetch("https://api.cc98.org/Message?filter=receive",{headers:{Range:"bytes="+a+"-"+(a+49),Authorization:"Bearer "+t}})];case 2:return s=o.sent(),[4,s.json()];case 3:r=o.sent();for(i in r)"@提示"==r[i].title&&n.push({id:r[i].id,senderName:r[i].senderName,receiverName:r[i].receiverName,title:r[i].title,content:r[i].content,isRead:r[i].isRead,sendTime:r[i].sendTime,chatPortraitUrl:"",myPortraitUrl:""});o.label=4;case 4:if(r.length%50==0)return[3,1];o.label=5;case 5:c=[];for(l in n)c.push(l);u=0,o.label=6;case 6:return u<c.length?(i=c[u],[4,fetch("https://api.cc98.org/User/Name/"+n[i].senderName)]):[3,10];case 7:return s=o.sent(),[4,s.json()];case 8:m=o.sent(),n[i].chatPortraitUrl=m.portraitUrl,o.label=9;case 9:return u++,[3,6];case 10:return this.setState({data:n}),[2]}})})},t.prototype.render=function(){return $(".mymessage-nav > div").removeClass("mymessage-nav-focus"),$("#attme").addClass("mymessage-nav-focus"),s.createElement("div",{className:"mymessage-response"},this.state.data.map(this.coverMessageResponse))},t}(s.Component);t.MyMessageAttme=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(65),c=function(e){function t(t){var n=e.call(this,t)||this;return n.coverMessageSystem=function(e){return s.createElement(i.MyMessageSystembox,{id:e.id,senderName:e.senderName,receiverName:e.receiverName,title:e.title,content:e.content,isRead:e.isRead,sendTime:e.sendTime,chatPortraitUrl:e.chatPortraitUrl,myPortraitUrl:e.myPortraitUrl})},n.state={data:[]},n}return r(t,e),t.prototype.componentWillMount=function(){return a(this,void 0,void 0,function(){var e,t,n,r,a,s,i,c,l,u,i,s,m;return o(this,function(o){switch(o.label){case 0:e=location.href.match(/access_token=(\S+)/),e&&(t=e[1]),n=[],r=[],a=-49,o.label=1;case 1:return a+=49,[4,fetch("https://api.cc98.org/Message?filter=receive",{headers:{Range:"bytes="+a+"-"+(a+49),Authorization:"Bearer "+t}})];case 2:return s=o.sent(),[4,s.json()];case 3:r=o.sent();for(i in r)"系统消息"!=r[i].title&&r[i].senderName||n.push({id:r[i].id,senderName:r[i].senderName,receiverName:r[i].receiverName,title:r[i].title,content:r[i].content,isRead:r[i].isRead,sendTime:r[i].sendTime,chatPortraitUrl:"",myPortraitUrl:""});o.label=4;case 4:if(r.length%50==0)return[3,1];o.label=5;case 5:c=[];for(l in n)c.push(l);u=0,o.label=6;case 6:return u<c.length?(i=c[u],[4,fetch("https://api.cc98.org/User/Name/"+n[i].senderName)]):[3,10];case 7:return s=o.sent(),[4,s.json()];case 8:m=o.sent(),n[i].chatPortraitUrl=m.portraitUrl,o.label=9;case 9:return u++,[3,6];case 10:return this.setState({data:n}),[2]}})})},t.prototype.render=function(){return $(".mymessage-nav > div").removeClass("mymessage-nav-focus"),$("#system").addClass("mymessage-nav-focus"),s.createElement("div",{className:"mymessage-system"},this.state.data.map(this.coverMessageSystem))},t}(s.Component);t.MyMessageSystem=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"mymessage-system-box"},a.createElement("div",{className:"mymessage-system-box-title"},this.props.title),a.createElement("div",{className:"mymessage-system-box-date"},this.props.sendTime),a.createElement("div",{className:"mymessage-system-box-content"},this.props.content))},t}(a.Component);t.MyMessageSystembox=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(15),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"focus-root"},a.createElement("div",{className:"focus"},a.createElement("div",{className:"focus-allNewPost"},a.createElement("i",{className:"fa fa-home","aria-hidden":"true"}),"首页/全站新帖"),a.createElement(o.FocusPostAreaComponent,null)))},t}(a.Component);t.AllNewPost=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(8),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e="/topic/"+this.props.id;return a.createElement("div",{className:"focus-post"},a.createElement("img",{className:"focus-post-portraitUrl",src:this.props.portraitUrl}),a.createElement("div",{className:"focus-post-info1"},a.createElement("div",{className:"focus-post-authorInfo"},a.createElement("div",{className:"focus-post-blackText"},this.props.userName),a.createElement("div",{className:"focus-post-redText"},this.props.fanCount),a.createElement("div",{className:"focus-post-blackText"},"粉丝")),a.createElement("div",{className:"focus-post-title"},a.createElement("a",{href:e},this.props.title))),a.createElement("div",{className:"focus-post-info2"},a.createElement("div",{className:"focus-post-board"},this.props.boardName," / ",o(this.props.time).format("YYYY-MM-DD HH:mm:ss")),a.createElement("div",{className:"focus-post-response"},a.createElement("div",null,a.createElement("i",{className:"fa fa-thumbs-o-up","aria-hidden":"true"}),this.props.likeCount),a.createElement("div",null,a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}),this.props.hitCount),a.createElement("div",null,a.createElement("i",{className:"fa fa-commenting-o","aria-hidden":"true"}),this.props.replyCount))))},t}(a.Component);t.FocusPostComponent=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(69),s=n(15),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"focus-root"},a.createElement("div",{className:"focus"},a.createElement("div",{className:"focus-title"},"我的关注版面"),a.createElement(o.FocusBoardAreaComponent,null),a.createElement(s.FocusPostAreaComponent,null)))},t}(a.Component);t.MyFocusBoard=i},function(e,t,n){"use strict";function r(e){return o.createElement(s.FocusBoardComponent,{id:e.id,name:e.name})}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(70),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={data:[{id:100,name:"校园信息"},{id:459,name:"实习兼职"},{id:135,name:"开怀一笑"},{id:758,name:"似水流年"}]},n}return a(t,e),t.prototype.render=function(){return o.createElement("div",{className:"focus-board-area"},this.state.data.map(r))},t}(o.Component);t.FocusBoardAreaComponent=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"focus-board"},this.props.name)},t}(a.Component);t.FocusBoardComponent=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(4),c=n(5),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state={userName:"载入中……",userImgUrl:"/images/unLoggedOn.png"},r}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(a){switch(a.label){case 0:return i.getLocalStorage("accessToken")&&i.getLocalStorage("userName")?(e=i.getLocalStorage("userName"),[4,fetch("http://api.cc98.org/User/Name/"+e)]):[3,3];case 1:return t=a.sent(),[4,t.json()];case 2:n=a.sent(),r=n.portraitUrl,this.setState({userName:e,userImgUrl:r}),a.label=3;case 3:return[2]}})})},t.prototype.logOff=function(){i.removeLocalStorage("accessToken"),console.log("after remove token="+i.getLocalStorage("accessToken")),i.removeLocalStorage("userName"),location=window.location},t.prototype.render=function(){return c(document).ready(function(){var e=c(".userInfo").eq(0),t=c(".dropDownSub").eq(0),n=t.find("li");e.hover(function(){t.slideDown("fast")},function(){t.css("display","none")}),t.hover(function(){t.css("display","block")},function(){t.slideUp("fast")}),n.mouseover(function(){this.className="hover"}),n.mouseout(function(){this.className=""})}),"adddna"===this.state.userName&&alert("guna!"),i.getLocalStorage("accessToken")&&i.getLocalStorage("userName")?s.createElement("div",{id:"dropdown"},s.createElement("div",{className:"box"},s.createElement("div",{className:"userInfo"},s.createElement("div",{className:"userImg"},s.createElement("img",{src:this.state.userImgUrl})),s.createElement("div",{className:"userName"},this.state.userName)),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/",style:{color:"#fff"}},"首页")),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/focus",style:{color:"#fff"}},"关注")),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/newTopics",style:{color:"#fff"}},"新帖")),s.createElement("a",{href:"/boardList"},s.createElement("div",{className:"boardListLink",style:{margin:"0 0 0 10px"}},s.createElement("div",{style:{marginTop:"16px",color:"#fff"}},"版面")))),s.createElement("div",{className:"dropDownSubBox"},s.createElement("ul",{className:"dropDownSub"},s.createElement("a",{href:"/userCenter"}," ",s.createElement("li",null,"个人中心")),s.createElement("a",{href:"/myMessage"},s.createElement("li",null,"消息")),s.createElement("li",{onClick:this.logOff},"注销")))):s.createElement("div",{id:"dropdown"},s.createElement("div",{className:"box"},s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/",style:{color:"#fff"}},"首页")),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/logOn",style:{color:"#fff"}},"登录")),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/newTopics",style:{color:"#fff"}},"新帖")),s.createElement("a",{href:"/boardList"},s.createElement("div",{className:"boardListLink",style:{margin:"0 0 0 10px"}},s.createElement("div",{style:{marginTop:"16px",color:"#fff"}},"版面")))))},t}(s.Component);t.DropDown=l;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return c(document).ready(function(){var e=c(".searchBoxSelect"),t=c(".downArrow"),n=c(".searchBoxSub"),r=n.find("li");c(document).click(function(){n.css("display","none")}),e.click(function(){return"block"===n.css("display")?n.css("display","none"):n.css("display","block"),!1}),t.click(function(){return"block"===n.css("display")?n.css("display","none"):n.css("display","block"),!1}),r.click(function(){e.text(c(this).text())}),r.mouseover(function(){this.className="hover"}),r.mouseout(function(){this.className=""})}),s.createElement("div",{id:"search"},s.createElement("div",{className:"box"},s.createElement("div",{className:"searchBoxSelect"},"主题"),s.createElement("div",{className:"downArrow"},s.createElement("img",{src:"/images/downArrow.png",width:"12",height:"12"})),s.createElement("input",{name:"searchText",type:"text",placeholder:"猜猜能搜到什么..."}),s.createElement("div",{className:"fangdajing"},s.createElement("img",{src:"/images/fangdajing.ico",width:"15",height:"15"}))),s.createElement("ul",{className:"searchBoxSub"},s.createElement("li",null,"版面"),s.createElement("li",null,"主题"),s.createElement("li",null,"用户")))},t}(s.Component);t.Search=u;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"header"},s.createElement("div",{className:"topBar"},s.createElement("div",{className:"topBarRow"},s.createElement("div",{className:"row"},s.createElement("div",{style:{margin:"10px 0 0 0"}},s.createElement("a",{href:"/"},s.createElement("img",{src:"/images/矢量智能对象.ico"}))),s.createElement("div",{style:{margin:"15px 0 0 5px"}},s.createElement("a",{href:"/"},s.createElement("img",{src:"/images/CC98.ico"})))),s.createElement(l,null))),s.createElement("div",{className:"headerContent"},s.createElement("div",{className:"headerRow"},s.createElement("div",{className:"linkBar"},s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/网盘.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://share.cc98.org/",className:"linkText"},"网盘"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/游戏.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://www.cc98.org/game.asp",className:"linkText"},"游戏"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/勋章.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://v2.cc98.org/app/medalmanager.aspx",className:"linkText"},"勋章"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/抽卡.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://card.cc98.org/",className:"linkText"},"抽卡"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/gamble.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://gaming.cc98.org",className:"linkText"},"竞猜"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/NexusHD.jpg",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://www.nexushd.org",className:"linkText"},"NexusHD")))),s.createElement(u,null))))},t}(s.Component);t.Header=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"footer"},a.createElement("div",{className:"column"},a.createElement("div",{className:"footerRow"},a.createElement("div",{style:{marginRight:"15px",color:"#000"}},"友情链接"),a.createElement("a",{href:"http://www.zju.edu.cn/"},"浙江大学"),"|",a.createElement("a",{href:"http://www.cs.zju.edu.cn/"},"浙江大学计算机学院"),"|",a.createElement("a",{href:"http://www.zju88.org/agent/index.do"},"飘渺水云间"),"|",a.createElement("a",{href:"http://www.qsc.zju.edu.cn/"},"求是潮"),"|",a.createElement("a",{href:"http://luckweb.057101.com/bt2/index.asp"},"缘网"),"|",a.createElement("a",{href:"http://www.nexushd.org/login.php"},"NexusHD"),"|",a.createElement("a",{href:"https://www.zdgd.zju.edu.cn/"},"浙江大学广播电视网"),"|",a.createElement("a",{href:"http://zy.zju.edu.cn/"},"浙大搜索")),a.createElement("div",{className:"footerRow"},"Copyright © 2003-2017 CC98 Network Association. Email: contact@cc98.org",a.createElement("a",{href:"http://www.cc98.org/onlineshow.asp"}," 论坛统计"))))},t}(a.Component);t.Footer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(5),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i(document).ready(function(){var e=i(".recommended1Button"),t=i(".recommended1Content"),n=Math.floor(5*Math.random());t.eq(n).css("display","flex"),e.eq(n).css("background-color","rgb(53,177,255)"),e.mouseover(function(){var n=i(this).index();t.css("display","none"),t.eq(n).css("display","flex"),e.css("background-color","rgb(255,255,255)"),e.eq(n).css("background-color","rgb(53,177,255)")})}),s.createElement("div",{className:"recommended1"},s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题1"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要1"))),s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题2"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要2"))),s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题3"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要3"))),s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题4"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要4"))),s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题5"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要5")))),s.createElement("div",{className:"buttonRow"},s.createElement("div",{className:"recommended1Button"}),s.createElement("div",{className:"recommended1Button"}),s.createElement("div",{className:"recommended1Button"}),s.createElement("div",{className:"recommended1Button"}),s.createElement("div",{className:"recommended1Button"})))},t}(s.Component);t.Recommended1=c;var l=function(){function e(e,t,n,r){this.title=e,this.id=t,this.boardName=n,this.boardid=r}return e}();t.MainPageTopic=l;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={mainPageTopicState:new Array},n}return r(t,e),t.prototype.getTopicInfo=function(){return a(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(a){switch(a.label){case 0:return e=[],[4,fetch("http://api.cc98.org/Topic/Hot")];case 1:return t=a.sent(),[4,t.json()];case 2:for(n=a.sent(),r=0;r<10;r++)e[r]=new l(n[r].title,n[r].id,n[r].boardName,n[r].boardId);return[2,e]}})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,this.getTopicInfo()];case 1:return e=t.sent(),this.setState({mainPageTopicState:e}),[2]}})})},t.prototype.convertMainPageTopic=function(e){var t="/list/"+e.boardid,n="/topic/"+e.id;return s.createElement("div",{className:"listRow"},s.createElement("div",{className:"boardName"}," ",s.createElement("a",{href:t},"[",e.boardName,"]")),s.createElement("div",{className:"topicTitle"},s.createElement("a",{href:n},e.title)))},t.prototype.render=function(){return s.createElement("div",null,this.state.mainPageTopicState.map(this.convertMainPageTopic))},t}(s.Component);t.HotTopicComponent=u;var m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={mainPageTopicState:new Array},n}return r(t,e),t.prototype.getTopicInfo=function(){return a(this,void 0,void 0,function(){var e,t,n,r,a;return o(this,function(o){switch(o.label){case 0:return e=[],t="http://api.cc98.org/Topic/Board/459",[4,fetch(t,{headers:{Range:"bytes=0-9"}})];case 1:return n=o.sent(),[4,n.json()];case 2:for(r=o.sent(),a=0;a<10;a++)e[a]=new l(r[a].title,r[a].id,r[a].boardName,r[a].boardId);return[2,e]}})})},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,this.getTopicInfo()];case 1:return e=t.sent(),this.setState({mainPageTopicState:e}),[2]}})})},t.prototype.convertMainPageTopic=function(e){var t="/topic/"+e.id;return s.createElement("div",{className:"listRow"},s.createElement("div",{className:"topicTitle"},s.createElement("a",{href:t},e.title)))},t.prototype.render=function(){return s.createElement("div",null,this.state.mainPageTopicState.map(this.convertMainPageTopic))},t}(s.Component);t.Shixijianzhi=m;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"mainPage"},s.createElement("div",{className:"leftPart"},s.createElement("div",{className:"announcement"},s.createElement("div",{className:"blueBar1"},s.createElement("div",{className:"listName"},"论坛公告")),s.createElement("div",{className:"announcementContent"},s.createElement("div",{className:"row"},s.createElement("div",{className:"announcementDate"},"[2017.08.17]"),s.createElement("div",{className:"announcementText"},"公告1"),s.createElement("div",{className:"announcementLink1"},"★详情点击★")),s.createElement("div",{className:"row"},s.createElement("div",{className:"announcementDate"},"[2017.08.17]"),s.createElement("div",{className:"announcementText"},"公告2"),s.createElement("div",{className:"announcementLink1"},"★详情点击★")),s.createElement("div",{className:"row"},s.createElement("div",{className:"announcementDate"},"[2017.08.17]"),s.createElement("div",{className:"announcementText"},"公告3"),s.createElement("div",{className:"announcementLink1"},"★详情点击★")),s.createElement("div",{className:"row"}))),s.createElement(c,null),s.createElement("div",{className:"row"},s.createElement("div",{className:"list1"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"热门话题"),s.createElement("div",{className:"more"},"更多")),s.createElement("div",{className:"listContent1"},s.createElement(u,null))),s.createElement("div",{className:"list2"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"校园活动"),s.createElement("div",{className:"more"},"更多")),s.createElement("div",{className:"listContent1"},s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"★-----------------------------★")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"首页除了十大之外的部分还没施工好哦")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"其他部分的内容都是乱填哒")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"如果前辈你看不到十大的内容")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"那么可能是你忘了挂RVPN哦")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"★-----------------------------★")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"首页除了十大之外的部分还没施工好哦")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"其他部分的内容都是乱填哒")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"如果前辈你看不到十大的内容")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"那么可能是你忘了挂RVPN哦"))))),s.createElement("div",{className:"row"},s.createElement("div",{className:"list1"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"学术信息"),s.createElement("div",{className:"more"},"更多"))),s.createElement("div",{className:"list2"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"最热回复"),s.createElement("div",{className:"more"},"更多")))),s.createElement("div",{className:"row"},s.createElement("div",{className:"list1"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"最新动态"),s.createElement("div",{className:"more"},"更多"))),s.createElement("div",{className:"list2"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"求职广场"),s.createElement("div",{className:"more"},"更多")))),s.createElement("div",{className:"row"},s.createElement("div",{className:"list1"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"实习兼职"),s.createElement("div",{className:"more"},"更多")),s.createElement("div",{className:"listContent1"},s.createElement(m,null))),s.createElement("div",{className:"list2"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"失物招领"),s.createElement("div",{className:"more"},"更多"))))),s.createElement("div",{className:"rightPart"},s.createElement("div",{className:"recommended2"},s.createElement("div",{className:"dashedBorder"},s.createElement("div",{className:"heading"},"推荐")),s.createElement("div",{className:"column"},s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"广播台点歌通道")),s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"CC98抽卡游戏")),s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"CC98 share")),s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"推荐阅读投稿")),s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"社团及学生组织用户认证申请")))),s.createElement("div",{className:"ad"},s.createElement("img",{src:"/images/ad.jpg"})),s.createElement("div",{className:"news"},s.createElement("div",{className:"dashedBorder"},s.createElement("div",{className:"heading"},"校园新闻")),s.createElement("div",{className:"newsContent"},s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"))),s.createElement("div",{className:"boardRecommended"},s.createElement("div",{className:"heading"},"版面推荐"),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}))))},t}(s.Component);t.MainPage=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=n(75),i=n(76),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"user-center"},a.createElement("div",{className:"user-center-content"},a.createElement("div",{className:"user-center-head"},a.createElement("p",null,"用户详情")),a.createElement(o.BrowserRouter,null,a.createElement("div",{className:"user-center-body"},a.createElement(s.UserNavigation,null),a.createElement(i.UserRouter,null)))))},t}(a.Component);t.User=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleScroll=function(e){var t=document.getElementById("userCenterNavigation");window.pageYOffset>234&&"fixed"!==t.style.position&&(t.style.position="fixed"),window.pageYOffset<234&&t.style.position&&"inherit"!==t.style.position&&(t.style.position="inherit")},t.prototype.componentDidMount=function(){document.addEventListener("scroll",this.handleScroll)},t.prototype.componentWillUnmount=function(){document.removeEventListener("scroll",this.handleScroll)},t.prototype.render=function(){return a.createElement("div",{className:"user-center-navigation",id:"userCenterNavigation"},a.createElement("ul",null,a.createElement(i,{to:""+location.pathname,label:"主页",activeOnlyWhenExact:!0,myClassName:"fa-home"}),a.createElement("hr",null)))},t}(a.Component);t.UserNavigation=s;var i=function(e){var t=e.label,n=e.to,r=e.activeOnlyWhenExact,s=void 0!==r&&r,i=e.myClassName;return a.createElement(o.Route,{path:n,exact:s,children:function(e){var r=e.match;return a.createElement("li",{className:r?"user-center-navigation-active":""},a.createElement(o.Link,{className:""+i,to:n},a.createElement("p",null,t)))}})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(2),c=n(10),l=n(11),u=n(12),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.createElement("div",{className:"user-center-router"},s.createElement(i.Route,{path:"/user/",component:p}))},t}(s.Component);t.UserRouter=m;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return location.pathname.split("/")[2]?"name"!==location.pathname.split("/")[2]?[3,2]:[4,fetch("https://api.cc98.org/User/Name/"+location.pathname.split("/")[3])]:[2,0];case 1:return e=n.sent(),[3,4];case 2:return[4,fetch("https://api.cc98.org/User/"+location.pathname.split("/")[2])];case 3:e=n.sent(),n.label=4;case 4:return[4,e.json()];case 5:return t=n.sent(),this.setState({userInfo:t,userAvatarImgURL:t.portraitUrl,responseState:e.status}),[2]}})})},t.prototype.render=function(){return null!==this.state&&200===this.state.responseState?s.createElement("div",{className:"user-center-exact"},s.createElement(u.UserCenterExactAvatar,{userAvatarImgURL:this.state.userAvatarImgURL}),s.createElement(c.UserCenterExactProfile,{userInfo:this.state.userInfo}),s.createElement(l.UserCenterExactActivities,null)):s.createElement("p",null,"加载中")},t}(s.Component)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),s=n(78),i=n(79),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(o.BrowserRouter,null,a.createElement("div",null,a.createElement(o.Route,{path:"/logon",exact:!0,component:s.LogOnExact}),a.createElement(o.Route,{path:"/logon/logoff",component:i.LogOff})))},t}(a.Component);t.LogOn=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n(5),c=n(4),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loginName:"",loginPassword:"",loginMessage:"",isLogining:!1},n.handleNameChange=n.handleNameChange.bind(n),n.handlePasswordChange=n.handlePasswordChange.bind(n),n.handleLogin=n.handleLogin.bind(n),n}return r(t,e),t.prototype.shake=function(e){return e.classList.add("shake"),setTimeout(function(){e.classList.remove("shake")},500),e},t.prototype.handleNameChange=function(e){this.setState({loginName:e.target.value})},t.prototype.handlePasswordChange=function(e){this.setState({loginPassword:e.target.value})},t.prototype.handleLogin=function(e){return a(this,void 0,void 0,function(){var t,n,r,a,s;return o(this,function(o){switch(o.label){case 0:return e.preventDefault(),this.state.isLogining?[2,!1]:this.state.loginName?this.state.loginPassword?(this.setState({loginMessage:"登陆中",isLogining:!0}),t="https://openid.cc98.org/connect/token",n={client_id:"9a1fd200-8687-44b1-4c20-08d50a96e5cd",client_secret:"8b53f727-08e2-4509-8857-e34bf92b27f2",grant_type:"password",username:this.state.loginName,password:this.state.loginPassword,scope:"cc98-api openid"},[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i.param(n)})]):(this.setState({loginMessage:"请输入密码"}),this.shake(document.getElementById("loginPassword")).focus(),[2,!1]):(this.setState({loginMessage:"请输入用户名"}),this.shake(document.getElementById("loginName")).focus(),[2,!1]);case 1:return r=o.sent(),200!==r.status?(this.setState({loginMessage:"登陆失败 "+r.status,isLogining:!1}),[2,!1]):[4,r.json()];case 2:return a=o.sent(),s="Bearer "+encodeURIComponent(a.access_token),console.log("after logon token="+s),c.setLocalStorage("accessToken",s),c.setLocalStorage("userName",this.state.loginName),this.setState({loginMessage:"登陆成功 正在返回首页",isLogining:!1}),setTimeout(function(){location.pathname="/"},2e3),[2]}})})},t.prototype.catch=function(e){console.log("Oops, error",e),this.setState({loginMessage:"登陆失败",isLogining:!1})},t.prototype.render=function(){return s.createElement("div",{className:"login"},s.createElement("div",null,s.createElement("img",{src:"/images/login.png"}),s.createElement("div",null,s.createElement("img",{src:"/images/login_welcome.png"}),s.createElement("form",{onSubmit:this.handleLogin},s.createElement("div",{className:"login-form"},s.createElement("p",null,"用户名"),s.createElement("input",{type:"text",id:"loginName",onChange:this.handleNameChange,value:this.state.loginName})),s.createElement("div",{className:"login-form"},s.createElement("p",null,"密码"),s.createElement("input",{type:"password",id:"loginPassword",onChange:this.handlePasswordChange})),s.createElement("p",{id:"loginMessage"},this.state.loginMessage),s.createElement("button",{type:"submit",disabled:this.state.isLogining},"登陆账号")),s.createElement("p",null,s.createElement("span",null,"还没账号？我要 ",s.createElement("a",{href:""},"注册"))))))},t}(s.Component);t.LogOnExact=l;!function(){function e(){}}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={logOffInfo:"登出中"},n}return r(t,e),t.prototype.componentDidMount=function(){localStorage.removeItem("accessToken"),localStorage.removeItem("userName"),this.setState({logOffInfo:"登出成功 正在前往登录页"}),setTimeout(function(){location.pathname="/logon"},2e3)},t.prototype.render=function(){return a.createElement("div",{className:"login"},a.createElement("div",null,a.createElement("img",{src:"/images/login.png"}),a.createElement("div",null,a.createElement("p",{className:"LogOffInfo"},this.state.logOffInfo))))},t}(a.Component);t.LogOff=o},function(e,t){}]);