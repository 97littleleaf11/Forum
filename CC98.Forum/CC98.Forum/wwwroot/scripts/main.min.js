!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=29)}([function(e,t){e.exports=React},function(e,t,r){"use strict";function n(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i,c,l,u,p,m,d,h,f,g;return W(this,function(v){switch(v.label){case 0:return v.trys.push([0,5,,6]),n=b("accessToken"),o=20*(e-1),a=20*e-1,[4,fetch("http://apitest.niconi.cc/Board/"+t)];case 1:return s=v.sent(),404==s.status&&r.history.replace("/status/NotFoundBoard"),500===s.status&&r.history.replace("/status/ServerError"),[4,s.json()];case 2:return i=v.sent(),c=i.topicCount,l=void 0,l=20*e<=c?20:1===e&&c<19?c:c-20*(e-1),u=[],p="http://apitest.niconi.cc/Topic/Board/"+t+"?from="+o+"&size="+l,m=new Headers,m.append("Authorization",n),[4,fetch(p,{headers:m})];case 3:return d=v.sent(),401===d.status&&r.history.replace("/status/UnauthorizedBoard"),404===d.status&&r.history.replace("/status/NotFoundBoard"),500===d.status&&r.history.replace("/status/ServerError"),[4,d.json()];case 4:for(h=v.sent(),f=0;f<l;f++)u[f]=new G.TopicTitleAndContentState(h[f].title,h[f].userName,h[f].id,h[f].userId,h[f].lastPostUser,h[f].lastPostTime);return[2,u];case 5:return g=v.sent(),r.history.replace("/status/Disconnected"),[3,6];case 6:return[2]}})})}function o(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i,a,c,l,u,p,m,d;return W(this,function(h){switch(h.label){case 0:return h.trys.push([0,13,,14]),r=b("accessToken"),n=new Headers,n.append("Authorization",r),[4,fetch("http://apitest.niconi.cc/Post/Topic/"+e+"?from=0&size=1",{headers:n})];case 1:return o=h.sent(),404!==o.status?[3,3]:[4,o.text()];case 2:switch(a=h.sent()){case"topic_not_exists":t.history.replace("/status/NotFoundTopic");break;case"topic_is_deleted":t.history.replace("/status/TopicDeleted");break;default:t.history.replace("/status/NotFoundTopic")}t.history.replace("/status/NotFoundTopic"),h.label=3;case 3:return 500===o.status&&t.history.replace("/status/ServerError"),[4,o.json()];case 4:return s=h.sent(),[4,fetch("http://apitest.niconi.cc/Topic/"+e,{headers:n})];case 5:return i=h.sent(),404!==i.status?[3,7]:[4,i.text()];case 6:switch(a=h.sent()){case"topic_not_exists":t.history.replace("/status/NotFoundTopic");break;case"topic_is_deleted":t.history.replace("/status/TopicDeleted");break;default:t.history.replace("/status/NotFoundTopic")}h.label=7;case 7:return 401===i.status&&t.history.replace("/status/UnauthorizedTopic"),500===i.status&&t.history.replace("/status/ServerError"),[4,i.json()];case 8:return c=h.sent(),l=c.hitCount,u=null,1==s[0].isAnonymous?[3,11]:[4,fetch("http://apitest.niconi.cc/User/"+s[0].userId)];case 9:return p=h.sent(),404===p.status&&t.history.replace("/status/NotFoundUser"),[4,p.json()];case 10:return m=h.sent(),u=new G.TopicState(s[0].userName,s[0].title,s[0].content,s[0].time,m.signatureCode,m.portraitUrl||"https://www.cc98.org/pic/anonymous.gif",l,s[0].userId,s[0].likeCount,s[0].dislikeCount,s[0].id,s[0].isAnonymous,s[0].contentType),[3,12];case 11:u=new G.TopicState("匿名"+s[0].userName.toUpperCase(),s[0].title,s[0].content,s[0].time,"","https://www.cc98.org/pic/anonymous.gif",l,null,s[0].likeCount,s[0].dislikeCount,s[0].id,s[0].isAnonymous,s[0].contentType),h.label=12;case 12:return[2,u];case 13:return d=h.sent(),t.history.replace("/status/Disconnected"),[3,14];case 14:return[2]}})})}function a(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i,c,l,u,p,m,d,h,f,g,v,y,E;return W(this,function(w){switch(w.label){case 0:return w.trys.push([0,14,,15]),n=10*(t-1),o=10*t-1,a=b("accessToken"),s=new Headers,s.append("Authorization",a),1===t?[3,2]:[4,fetch("http://apitest.niconi.cc/Post/Topic/"+e+"?from="+n+"&size=10",{headers:s})];case 1:return c=w.sent(),[3,4];case 2:return[4,fetch("http://apitest.niconi.cc/Post/Topic/"+e+"?from=1&size=9",{headers:s})];case 3:c=w.sent(),w.label=4;case 4:return i=c,401===i.status&&r.history.replace("/status/UnauthorizedTopic"),404===i.status&&r.history.replace("/status/"),500===i.status&&r.history.replace("/status/ServerError"),[4,fetch("http://apitest.niconi.cc/Topic/"+e,{headers:s})];case 5:return l=w.sent(),404==l.status&&r.history.replace("/status/NotFoundTopic"),401==l.status&&r.history.replace("/status/UnauthorizedTopic"),[4,l.json()];case 6:return u=w.sent(),p=u.replyCount,[4,i.json()];case 7:m=w.sent(),d=[],h=void 0,h=1!==t&&10*t<=p?10:1===t&&p>=9?9:1===t&&p<9?p:p-10*(t-1)+1,f=0,w.label=8;case 8:return f<h?1==m[f].isAnonymous?[3,11]:[4,fetch("http://apitest.niconi.cc/user/name/"+m[f].userName)]:[3,13];case 9:return g=w.sent(),404===g.status&&(window.location.href="/status/NotFoundUser"),[4,g.json()];case 10:return v=w.sent(),d[f]=new G.ContentState(m[f].id,m[f].content,m[f].time,m[f].isDeleted,m[f].floor,m[f].isAnonymous,m[f].lastUpdateAuthor,m[f].lastUpdateTime,m[f].topicId,m[f].userName,v.postCount,v.portraitUrl,v.signatureCode,m[f].userId,v.privilege,m[f].likeCount,m[f].dislikeCount,m[f].id,m[f].contentType),[3,12];case 11:y="https://www.cc98.org/pic/anonymous.gif",d[f]=new G.ContentState(null,m[f].content,m[f].time,m[f].isDeleted,m[f].floor,m[f].isAnonymous,null,m[f].lastUpdateTime,m[f].topicId,"匿名"+m[f].userName.toUpperCase(),null,y,"",null,"匿名用户",m[f].likeCount,m[f].dislikeCount,m[f].id,m[f].contentType),w.label=12;case 12:return f++,[3,8];case 13:return[2,d];case 14:return E=w.sent(),r.history.replace("/status/Disconnected"),[3,15];case 15:return[2]}})})}function s(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i;return W(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/post/userlike?topicid="+e+"&postid="+t,{method:"POST",headers:o})];case 1:return a=c.sent(),401===a.status&&r.history.replace("/status/UnauthorizedTopic"),403===a.status&&r.history.replace("/status/OperationForbidden"),404===a.status&&r.history.replace("/status/NotFoundTopic"),500===a.status&&r.history.replace("/status/ServerError"),[4,a.json()];case 2:return s=c.sent(),[2,s];case 3:return i=c.sent(),r.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function i(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i;return W(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/post/userdislike?topicid="+e+"&postid="+t,{method:"POST",headers:o})];case 1:return a=c.sent(),401===a.status&&r.history.replace("/status/UnauthorizedTopic"),403===a.status&&r.history.replace("/status/OperationForbidden"),404===a.status&&r.history.replace("/status/NotFoundTopic"),500===a.status&&r.history.replace("/status/ServerError"),[4,a.json()];case 2:return s=c.sent(),[2,s];case 3:return i=c.sent(),r.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function c(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i;return W(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/likeState?topicid="+e+"&postid="+t,{headers:o})];case 1:return a=c.sent(),401===a.status&&r.history.replace("/status/UnauthorizedTopic"),403===a.status&&r.history.replace("/status/OperationForbidden"),404===a.status&&r.history.replace("/status/NotFoundTopic"),500===a.status&&r.history.replace("/status/ServerError"),[4,a.json()];case 2:return s=c.sent(),[2,s];case 3:return i=c.sent(),r.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function l(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i,c,l,u,p,m;return W(this,function(d){switch(d.label){case 0:return d.trys.push([0,9,,10]),r=b("accessToken"),n=new Headers,n.append("Authorization",r),[4,fetch("http://apitest.niconi.cc/Post/Topic/Hot/"+e,{headers:n})];case 1:return o=d.sent(),404===o.status&&t.history.replace("/status/NotFoundTopic"),401===o.status&&t.history.replace("/status/UnauthorizedTopic"),500===o.status&&t.history.replace("/status/ServerError"),[4,o.json()];case 2:a=d.sent(),s=[],i=a.length,c=0,d.label=3;case 3:return c<i?1==a[c].isAnonymous?[3,6]:[4,fetch("http://apitest.niconi.cc/user/name/"+a[c].userName)]:[3,8];case 4:return l=d.sent(),404===l.status&&t.history.replace("/status/NotFoundUser"),500===l.status&&t.history.replace("/status/ServerError"),[4,l.json()];case 5:return u=d.sent(),s[c]=new G.ContentState(a[c].id,a[c].content,a[c].time,a[c].isDeleted,a[c].floor,a[c].isAnonymous,a[c].lastUpdateAuthor,a[c].lastUpdateTime,a[c].topicId,a[c].userName,u.postCount,u.portraitUrl,u.signatureCode,a[c].userId,u.privilege,a[c].likeCount,a[c].dislikeCount,a[c].id,a[c].contentType),[3,7];case 6:p="https://www.cc98.org/pic/anonymous.gif",s[c]=new G.ContentState(null,a[c].content,a[c].time,a[c].isDeleted,a[c].floor,a[c].isAnonymous,null,a[c].lastUpdateTime,a[c].topicId,"匿名"+a[c].userName.toUpperCase(),null,p,"",null,"匿名用户",a[c].likeCount,a[c].dislikeCount,a[c].id,a[c].contentType),d.label=7;case 7:return c++,[3,3];case 8:return[2,s];case 9:return m=d.sent(),t.history.replace("/status/Disconnected"),[3,10];case 10:return[2]}})})}function u(e){return $.createElement(q.TopicTitleAndContent,{title:e.title,authorName:e.userName,id:e.id,authorId:e.userId,lastPostTime:e.lastPostTime,lastPostUserName:e.lastPostUser})}function p(e,t){void 0==e&&(e=1);var r=[];if(1==t)r=[1];else if(t<10&&t>1)if(void 0==e||1==e){var n=void 0;for(n=0;n<t;n++)r[n]=n+1;r[n]=-2,r[n+1]=-4}else if(2==e){var n=void 0;for(n=1;n<=t;n++)r[n]=n;r[0]=-1,r[n]=-2,r[n+1]=-4}else if(e!=t){var n=void 0;for(n=2;n<=t+1;n++)r[n]=n-1;r[0]=-3,r[1]=-1,r[n]=-2,r[n+1]=-4}else{var n=void 0;for(n=2;n<=t+1;n++)r[n]=n-1;r[0]=-3,r[1]=-1}else if(e+5<=t)r=void 0==e||1==e?[1,2,3,4,5,6,7,8,9,10,-2,-4]:e>1&&e<6?[-3,-1,1,2,3,4,5,6,7,8,9,10,-2,-4]:[-3,-1,e-4,e-3,e-2,e-1,e,e+1,e+2,e+3,e+4,e+5,-2,-4];else{if(e+5>t&&e!=t)return[-3,-1,t-9,t-8,t-7,t-6,t-5,t-4,t-3,t-2,t-1,t,-2,-4];if(e==t)return[-3,-1,t-9,t-8,t-7,t-6,t-5,t-4,t-3,t-2,t-1,t]}return r}function m(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i,c,l;return W(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/post/Topic/user?topicid="+e+"&userid="+t+"&from=0&size=1",{headers:o})];case 1:return a=u.sent(),401===a.status&&r.history.replace("/status/UnauthorizedTopic"),404===a.status&&r.history.replace("/status/NotFoundTopic"),500===a.status&&r.history.replace("/status/ServerError"),[4,a.json()];case 2:return s=u.sent(),[4,fetch("http://apitest.niconi.cc/user/name/"+s[0].userName)];case 3:return i=u.sent(),404===i.status&&r.history.replace("/status/NotFoundUser"),500===i.status&&r.history.replace("/status/ServerError"),[4,i.json()];case 4:return c=u.sent(),s[0].userImgUrl=c.portraitUrl,[2,s[0]];case 5:return l=u.sent(),r.history.replace("/status/Disconnected"),[3,6];case 6:return[2]}})})}function d(e,t,r,n,a){return Y(this,void 0,void 0,function(){var s,i,c,l,u,p,m,d,h,f,g,v,y,E,w;return W(this,function(N){switch(N.label){case 0:return N.trys.push([0,10,,11]),[4,o(e,a)];case 1:return s=N.sent(),i=void 0,c=void 0,s.userName===r?(c=!0,i=1===t?10*(t-1)+1:10*(t-1)):(c=!1,i=10*(t-1)),l=b("accessToken"),u=new Headers,u.append("Authorization",l),[4,fetch("http://apitest.niconi.cc/Post/Topic/user?topicid="+e+"&userId="+n+"&from="+i+"&size=10",{headers:u})];case 2:return p=N.sent(),401===p.status&&a.history.replace("/status/UnauthorizedTopic"),404===p.status&&a.history.replace("/status/NotFoundTopic"),500===p.status&&a.history.replace("/status/ServerError"),[4,p.json()];case 3:m=N.sent(),d=[],h=void 0,f=m[0].count,h=1!==t&&10*t<=f?10:1===t&&f>=9&&1==c?9:1===t&&f>=9&&0==c?10:1===t&&f<9?f:f-10*(t-1),g=0,N.label=4;case 4:return g<h?1==m[g].isAnonymous?[3,7]:[4,fetch("http://apitest.niconi.cc/user/name/"+m[g].userName)]:[3,9];case 5:return v=N.sent(),404===v.status&&a.history.replace("/status/NotFoundUser"),500===v.status&&a.history.replace("/status/ServerError"),[4,v.json()];case 6:return y=N.sent(),d[g]=new G.ContentState(m[g].id,m[g].content,m[g].time,m[g].isDeleted,m[g].floor,m[g].isAnonymous,m[g].lastUpdateAuthor,m[g].lastUpdateTime,m[g].topicId,m[g].userName,y.postCount,y.portraitUrl,y.signatureCode,m[g].userId,y.privilege,m[g].likeCount,m[g].dislikeCount,m[g].id,m[g].contentType),[3,8];case 7:E="https://www.cc98.org/pic/anonymous.gif",d[g]=new G.ContentState(null,m[g].content,m[g].time,m[g].isDeleted,m[g].floor,m[g].isAnonymous,null,m[g].lastUpdateTime,m[g].topicId,"匿名"+m[g].userName.toUpperCase(),null,E,"",null,"匿名用户",m[g].likeCount,m[g].dislikeCount,m[g].id,m[g].contentType),N.label=8;case 8:return g++,[3,4];case 9:return[2,d];case 10:return w=N.sent(),a.history.replace("/status/Disconnected"),[3,11];case 11:return[2]}})})}function h(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i,c,l,u,p,m,d,h,f,g;return W(this,function(v){switch(v.label){case 0:return v.trys.push([0,12,,13]),r=20,e>80&&(r=100-e),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/topic/new?from="+e+"&size="+r,{headers:o})];case 1:return a=v.sent(),401===a.status&&t.history.replace("/status/UnauthorizedTopic"),500===a.status&&t.history.replace("/status/ServerError"),[4,a.json()];case 2:s=v.sent(),i=[];for(c in s)i.push(c);l=0,v.label=3;case 3:return l<i.length?(u=i[l],s[u].userId?[4,fetch("http://apitest.niconi.cc/user/follow/fanCount?userid="+s[u].userId)]:[3,9]):[3,11];case 4:return p=v.sent(),404===p.status&&t.history.replace("/status/NotFoundUser"),500===p.status&&t.history.replace("/status/ServerError"),[4,p.json()];case 5:return m=v.sent(),s[u].fanCount=m,[4,fetch("http://apitest.niconi.cc/user/basic/"+s[u].userId)];case 6:return d=v.sent(),404===d.status&&t.history.replace("/status/NotFoundUser"),500===d.status&&t.history.replace("/status/ServerError"),[4,d.json()];case 7:return h=v.sent(),s[u].portraitUrl=h.portraitUrl,f=s[u],[4,N(s[u].boardId,t)];case 8:return f.boardName=v.sent(),[3,10];case 9:s[u].fanCount=0,s[u].portraitUrl="http://www.cc98.org/pic/anonymous.gif",s[u].boardName="心灵之约",v.label=10;case 10:return l++,[3,3];case 11:return[2,s];case 12:return g=v.sent(),t.history.replace("/status/Disconnected"),[3,13];case 13:return[2]}})})}function f(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i,c,l,u,p,m,d,h,f,g;return W(this,function(v){switch(v.label){case 0:return v.trys.push([0,12,,13]),r=20,e>80&&(r=100-e),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/topic/customboards/new?from="+e+"&size="+r,{headers:o})];case 1:return a=v.sent(),401===a.status&&t.history.replace("/status/UnauthorizedTopic"),500===a.status&&t.history.replace("/status/ServerError"),[4,a.json()];case 2:s=v.sent(),i=[];for(c in s)i.push(c);l=0,v.label=3;case 3:return l<i.length?(u=i[l],s[u].userId?[4,fetch("http://apitest.niconi.cc/user/follow/fanCount?userid="+s[u].userId)]:[3,9]):[3,11];case 4:return p=v.sent(),404===p.status&&t.history.replace("/status/NotFoundUser"),500===p.status&&t.history.replace("/status/ServerError"),[4,p.json()];case 5:return m=v.sent(),s[u].fanCount=m,[4,fetch("http://apitest.niconi.cc/user/basic/"+s[u].userId)];case 6:return d=v.sent(),404===d.status&&t.history.replace("/status/NotFoundUser"),500===d.status&&t.history.replace("/status/ServerError"),[4,d.json()];case 7:return h=v.sent(),s[u].portraitUrl=h.portraitUrl,f=s[u],[4,N(s[u].boardId,t)];case 8:return f.boardName=v.sent(),[3,10];case 9:s[u].fanCount=0,s[u].portraitUrl="http://www.cc98.org/pic/anonymous.gif",s[u].boardName="心灵之约",v.label=10;case 10:return l++,[3,3];case 11:return[2,s];case 12:return g=v.sent(),t.history.replace("/status/Disconnected"),[3,13];case 13:return[2]}})})}function g(e,t){var r=t;"object"==typeof r?(r=JSON.stringify(r),r="obj-"+r):r="str-"+r,sessionStorage.setItem(e,r)}function v(e){var t=sessionStorage.getItem(e);if(t)return 0===t.indexOf("obj-")?(t=t.slice(4),JSON.parse(t)):0===t.indexOf("str-")?t.slice(4):void 0}function y(e,t,r){void 0===r&&(r=0);var n=t;if("object"==typeof n?(n=JSON.stringify(n),n="obj-"+n):n="str-"+n,localStorage.setItem(e,n),0!==r){var o=(new Date).getTime(),a=o+1e3*r;localStorage.setItem(e+"_expirationTime",a.toString().slice(0,a.toString().length-3))}else localStorage.removeItem(e+"_expirationTime")}function b(e){var t=localStorage.getItem(e),r=localStorage.getItem(e+"_expirationTime");if(r){if((new Date).getTime()>1e3*Number.parseInt(r))return void localStorage.removeItem(e)}if(t)return 0===t.indexOf("obj-")?(t=t.slice(4),JSON.parse(t)):0===t.indexOf("str-")?t.slice(4):void 0}function E(e){localStorage.removeItem(e)}function w(e){sessionStorage.removeItem(e)}function N(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i,c;return W(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),(r=void 0,r=b("boardId_"+e))?[3,3]:(n=b("accessToken"),o=new Headers,o.append("Authorization",n),a="http://apitest.niconi.cc/board/"+e,[4,fetch(a,{headers:o})]);case 1:return s=l.sent(),404===s.status&&t.history.replace("/status/NotFoundBoard"),500===s.status&&t.history.replace("/status/ServerError"),[4,s.json()];case 2:i=l.sent(),r=i.name,y("boardId_"+e,r),l.label=3;case 3:return[2,r];case 4:return c=l.sent(),t.history.replace("/status/Disconnected"),[3,5];case 5:return[2]}})})}function _(){return!!b("accessToken")}function T(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i,c,l,u,p,m,d,c,h,f;return W(this,function(g){switch(g.label){case 0:return g.trys.push([0,9,,10]),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/message/recentcontactusers?from="+e+"&size="+t,{headers:o})];case 1:return a=g.sent(),401===a.status&&r.history.replace("/status/Loggout"),500===a.status&&r.history.replace("/status/ServerError"),[4,a.json()];case 2:s=g.sent(),i="http://apitest.niconi.cc/user/basic";for(c in s)i="0"==c?i+"?id="+s[c]:i+"&id="+s[c];return[4,fetch(i)];case 3:return l=g.sent(),404===l.status&&r.history.replace("/status/NotFoundUser"),500===l.status&&r.history.replace("/status/ServerError"),[4,l.json()];case 4:u=g.sent(),p=[];for(m in u)p.push(m);d=0,g.label=5;case 5:return d<p.length?(c=p[d],h=u[c],[4,k(u[c].id,0,10,r)]):[3,8];case 6:h.message=g.sent(),g.label=7;case 7:return d++,[3,5];case 8:return[2,u];case 9:return f=g.sent(),r.history.replace("/status/Disconnected"),[3,10];case 10:return[2]}})})}function k(e,t,r,n){return Y(this,void 0,void 0,function(){var o,a,s,i,c;return W(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),o=b("accessToken"),a=new Headers,a.append("Authorization",o),[4,fetch("http://apitest.niconi.cc/message/"+e+"?from="+t+"&size="+r,{headers:a})];case 1:return s=l.sent(),401===s.status&&n.history.replace("/status/Logout"),500===s.status&&n.history.replace("/status/ServerError"),[4,s.json()];case 2:return i=l.sent(),[2,i];case 3:return c=l.sent(),n.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function C(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i;return W(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),r=b("accessToken"),n=new Headers,n.append("Authorization",r),[4,fetch("http://apitest.niconi.cc/Topic/"+e,{headers:n})];case 1:return o=c.sent(),401===o.status&&t.history.replace("/status/UnauthorizedTopic"),404===o.status&&t.history.replace("/status/NotFoundTopic"),500===o.status&&t.history.replace("/status/ServerError"),[4,o.json()];case 2:return a=c.sent(),s=a.replyCount,s>=10?[2,(s-s%10)/10+1]:[2,1];case 3:return i=c.sent(),t.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function x(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i,c,l,u,p,m;return W(this,function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),r=b("accessToken"),n=new Headers,n.append("Authorization",r),[4,fetch("http://apitest.niconi.cc/Topic/"+e,{headers:n})];case 1:return o=d.sent(),401===o.status&&t.history.replace("/status/UnauthorizedTopic"),404===o.status&&t.history.replace("/status/NotFoundTopic"),500===o.status&&t.history.replace("/status/ServerError"),[4,o.json()];case 2:return a=d.sent(),s=a.title,i=a.boardId,[4,fetch("http://apitest.niconi.cc/Board/"+i,{headers:n})];case 3:return c=d.sent(),[4,c.json()];case 4:return l=d.sent(),u=l.name,p={boardId:i,topicId:e,boardName:u,title:s},[2,p];case 5:return m=d.sent(),t.history.replace("/status/Disconnected"),[3,6];case 6:return[2]}})})}function P(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s;return W(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),r="http://apitest.niconi.cc/user/name/"+e,[4,fetch(r)];case 1:return n=i.sent(),404===n.status&&t.history.replace("/status/NotFoundUser"),500===n.status&&t.history.replace("/status/ServerError"),[4,n.json()];case 2:return o=i.sent(),a={portraitUrl:o.portraitUrl,userName:o.name,fanCount:o.fanCount,displayTitle:o.displayTitle,birthday:o.birthday,prestige:o.prestige,gender:o.gender,levelTitle:o.levelTitle},[2,a];case 3:return s=i.sent(),t.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function S(e,t){return Y(this,void 0,void 0,function(){var r,n,a,s,i,c,l;return W(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),r=b("accessToken"),n=new Headers,n.append("Authorization",r),[4,o(e,t)];case 1:return a=u.sent(),s=a.postid,[4,fetch("http://apitest.niconi.cc/post/likestate?topicid="+e+"&postid="+s,{headers:n})];case 2:return i=u.sent(),(401===i.status&&t.history.replace("/status/UnauthorizedTopic"),403===i.status&&t.history.replace("/status/OperationForbidden"),404===i.status&&t.history.replace("/status/NotFoundTopic"),500!==i.status)?[3,3]:(t.history.replace("/status/ServerError"),[3,5]);case 3:return[4,i.json()];case 4:return c=u.sent(),[2,c];case 5:return[3,7];case 6:return l=u.sent(),t.history.replace("/status/Disconnected"),[3,7];case 7:return[2]}})})}function O(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i;return W(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/post/likestate?topicid="+e+"&postid="+t,{headers:o})];case 1:return a=c.sent(),401===a.status&&r.history.replace("/status/UnauthorizedTopic"),403===a.status&&r.history.replace("/status/OperationForbidden"),404===a.status&&r.history.replace("/status/NotFoundTopic"),500===a.status&&r.history.replace("/status/ServerError"),[4,a.json()];case 2:return s=c.sent(),[2,s];case 3:return i=c.sent(),r.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function I(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i,c,l;return W(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),r="http://apitest.niconi.cc/post/topic/"+e,n=testEditor.getMarkdown(),o={content:n,contentType:1,title:""},a=JSON.stringify(o),s=b("accessToken"),i=new Headers,i.append("Authorization",s),i.append("Content-Type","application/json"),[4,fetch(r,{method:"POST",headers:i,body:a})];case 1:return c=u.sent(),401===c.status&&t.history.replace("/status/Logout"),402===c.status&&t.history.replace("/status/ContentNeeded"),403===c.status&&t.history.replace("/status/OperationForbidden"),404===c.status&&t.history.replace("/status/NotFoundTopic"),500===c.status&&t.history.replace("/status/ServerError"),[3,3];case 2:return l=u.sent(),t.history.replace("/status/Disconnected"),[3,3];case 3:return[2]}})})}function j(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i;return W(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),r=b("accessToken"),n=new Headers,n.append("Authorization",r),[4,fetch("http://apitest.niconi.cc/Board/"+e,{headers:n})];case 1:return o=c.sent(),404===o.status&&t.history.replace("/status/NotFoundBoard"),500===o.status&&t.history.replace("/status/ServerError"),[4,o.json()];case 2:return a=c.sent(),s=a.name,[2,s];case 3:return i=c.sent(),t.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function M(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i;return W(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),r=b("accessToken"),n=new Headers,n.append("Authorization",r),o="http://apitest.niconi.cc/Board/"+e,[4,fetch(o,{headers:n})];case 1:return a=c.sent(),404===a.status&&t.history.replace("/status/NotFoundBoard"),500===a.status&&t.history.replace("/status/ServerError"),[4,a.json()];case 2:return s=c.sent(),[2,s];case 3:return i=c.sent(),t.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function U(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i;return W(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),r=b("accessToken"),n=new Headers,n.append("Authorization",r),[4,fetch("http://apitest.niconi.cc/Board/"+e,{headers:n})];case 1:return o=c.sent(),404===o.status&&t.history.replace("/status/NotFoundBoard"),500===o.status&&t.history.replace("/status/ServerError"),[4,o.json()];case 2:return a=c.sent(),s=a.topicCount,[2,(s-s%20)/20+1];case 3:return i=c.sent(),t.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function L(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i,c,l,u,p,m;return W(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/Board/"+e,{headers:o})];case 1:return a=d.sent(),404===a.status&&r.history.replace("/status/NotFoundBoard"),500===a.status&&r.history.replace("/status/ServerError"),[4,a.json()];case 2:return s=d.sent(),i=s.bigPaper,c=void 0,c=t?parseInt(t):1,l=e,[4,U(l,r)];case 3:return u=d.sent(),p={bigPaper:i,totalPage:u,page:c},[2,p];case 4:return m=d.sent(),r.history.replace("/status/Disconnected"),[3,5];case 5:return[2]}})})}function A(e,t,r){return Y(this,void 0,void 0,function(){var n,o,a,s,i,c;return W(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),n=b("accessToken"),o=new Headers,o.append("Authorization",n),[4,fetch("http://apitest.niconi.cc/post/topic/user?topicid="+e+"&userid="+t+"&from=0&size=1",{headers:o})];case 1:return a=l.sent(),401===a.status&&r.history.replace("/status/UnauthorizedTopic"),404===a.status&&r.history.replace("/status/NotFoundBoard"),500===a.status&&r.history.replace("/status/ServerError"),[4,a.json()];case 2:return s=l.sent(),i=s[0].count,i>10?[2,(i-i%10)/10+1]:[2,1];case 3:return c=l.sent(),r.history.replace("/status/Disconnected"),[3,4];case 4:return[2]}})})}function R(e,t){return Y(this,void 0,void 0,function(){var r,n,o,a,s,i,c,l,u,p,m,d,o,a,h,f,c,g,i,v,p;return W(this,function(y){switch(y.label){case 0:if(!(r=location.href.match(/id=(\S+)/)))return[3,10];for(n=parseInt(r[1]),o=0;o<e.length&&e[o].id!=n;o++);return 0!=o?[3,1]:[3,9];case 1:return o<e.length?(a=e[o],e.splice(o,1),e.unshift(a),[3,9]):[3,2];case 2:s=void 0,i=void 0,c=1,y.label=3;case 3:return y.trys.push([3,6,,7]),[4,fetch("http://apitest.niconi.cc/user/basic/"+n)];case 4:return s=y.sent(),404===s.status&&t.history.replace("/status/NotFoundUser"),500===s.status&&t.history.replace("/status/ServerError"),[4,s.json()];case 5:return i=y.sent(),[3,7];case 6:return l=y.sent(),t.history.replace("/status/Disconnected"),c=0,[3,7];case 7:return 1!=c?[3,9]:(u=i,[4,k(n,0,10,t)]);case 8:u.message=y.sent(),p=[i],e=p.concat(e),y.label=9;case 9:return[3,19];case 10:if(!(m=location.href.match(/name=(\S+)/)))return[3,19];for(d=m[1],o=0;o<e.length&&e[o].name!=d;o++);return 0!=o?[3,11]:[3,19];case 11:return o<e.length?(a=e[o],e.splice(o,1),e.unshift(a),[3,19]):[3,12];case 12:h=void 0,f=void 0,c=1,y.label=13;case 13:return y.trys.push([13,16,,17]),[4,fetch("http://apitest.niconi.cc/user/name/"+d)];case 14:return h=y.sent(),404===h.status&&t.history.replace("/status/NotFoundUser"),500===h.status&&t.history.replace("/status/ServerError"),[4,h.json()];case 15:return f=y.sent(),[3,17];case 16:return g=y.sent(),t.history.replace("/status/Disconnected"),c=0,[3,17];case 17:return 1!=c?[3,19]:(i={id:null,name:"",portraitUrl:"",message:[]},i.id=f.id,i.name=f.name,i.portraitUrl=f.portraitUrl,v=i,[4,k(i.id,0,10,t)]);case 18:v.message=y.sent(),p=[i],e=p.concat(e),y.label=19;case 19:return[2,e]}})})}function H(e,t){return Y(this,void 0,void 0,function(){var r,n,o;return W(this,function(a){switch(a.label){case 0:return r=b("accessToken"),n=new Headers,n.append("Authorization",r),n.append("content-type","application/json"),[4,fetch("http://apitest.niconi.cc/message/send",{method:"POST",headers:n,body:e})];case 1:return o=a.sent(),401===o.status&&t.history.replace("/status/Loggout"),500===o.status&&t.history.replace("/status/ServerError"),[2,o]}})})}function D(){var e=0,t=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(t=document.documentElement.scrollTop),e-t>0?e:t}function B(){var e=0,t=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t}function F(){return"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function z(){return D()+F()+300>B()}var Y=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},W=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var G=r(5),$=r(0),q=r(9);t.getBoardTopicAsync=n,t.getTopic=o,t.getTopicContent=a,t.like=s,t.dislike=i,t.getLikeStateAndCount=c,t.getHotReplyContent=l,t.convertHotTopic=u,t.getPager=p,t.getCurUserTopic=m,t.getCurUserTopicContent=d,t.getAllNewTopic=h,t.getFocusTopic=f,t.setStorage=g,t.getStorage=v,t.setLocalStorage=y,t.getLocalStorage=b,t.removeLocalStorage=E,t.removeStorage=w,t.getBoardName=N,t.isLogOn=_,t.getRecentContact=T,t.getRecentMessage=k,t.getTotalReplyCount=C,t.getCategory=x,t.getUserDetails=P,t.getLikeState=S,t.refreshLikeState=O,t.sendTopic=I,t.getListCategory=j,t.getBoardMessage=M,t.getListTotalPage=U,t.getBasicBoardMessage=L,t.getCurUserTotalReplyPage=A,t.sortContactList=R,t.sendMessage=H,t.getScrollTop=D,t.getScrollHeight=B,t.getWindowHeight=F,t.isBottom=z},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.UbbCodeContextData=o;var a=function(){function e(e,t){this._engine=e,this._options=t}return Object.defineProperty(e.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._engine.data},enumerable:!0,configurable:!0}),e}();t.UbbCodeContext=a;var s=function(){function e(){this.autoDetectUrl=!0,this.allowExternalUrl=!0,this.allowImage=!0,this.allowMediaContent=!0,this.allowAutoPlay=!0,this.compatibility=i.Recommended}return e}();t.UbbCodeOptions=s;var i;!function(e){e[e.Transitional=0]="Transitional",e[e.Recommended=1]="Recommended",e[e.EnforceMorden=2]="EnforceMorden"}(i=t.UbbCompatiblityMode||(t.UbbCompatiblityMode={}));var c;!function(e){e[e.String=0]="String",e[e.ItemSeperator=1]="ItemSeperator",e[e.NameValueSeperator=2]="NameValueSeperator"}(c||(c={}));var l,u=function(){function e(e,t){this.type=e,this.value=t}return e.stringValue=function(t){return new e(c.String,t)},e.itemSeperator=new e(c.ItemSeperator,null),e.nameValueSeperator=new e(c.NameValueSeperator,null),e}();!function(e){e[e.Text=0]="Text",e[e.Tag=1]="Tag"}(l||(l={}));var p=function(){function e(e){this._parent=e}return Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),e}(),m=function(e){function t(t,r){var n=e.call(this,r)||this;return n._text=t,n}return n(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return l.Text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),t.prototype.clone=function(e){return new t(this._text,e)},t}(p),d=function(e){function t(t,r){var n=e.call(this,r)||this;return n._isClosed=!1,n._subSegments=[],n._tagData=t,n}return n(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return l.Tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isClosed",{get:function(){return this._isClosed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagData",{get:function(){return this._tagData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subSegments",{get:function(){return this._subSegments},enumerable:!0,configurable:!0}),t.forceClose=function(e,r){if(e.type===l.Text)r._subSegments.push(e.clone(r));else{var n=e;if(n.isClosed)r._subSegments.push(e.clone(r));else{console.warn("标签 %s 没有正确关闭，已经被转换为纯文字。",n.tagData.tagName),r._subSegments.push(new m("["+n._tagData.orignalString+"]",e.parent));for(var o=0,a=n._subSegments;o<a.length;o++){var s=a[o];t.forceClose(s,r)}}}},t.prototype.close=function(){var e=this._subSegments;this._subSegments=[];for(var r=0,n=e;r<n.length;r++){var o=n[r];t.forceClose(o,this)}this._isClosed=!0},t.prototype.clone=function(e){var r=new t(this._tagData,e);r._content=this._content,r._isClosed=this._isClosed;for(var n=0,o=this._subSegments;n<o.length;n++){var a=o[n];r._subSegments.push(a.clone(r))}return r},t.prototype.getContentText=function(){for(var e=[],t=0,r=this._subSegments;t<r.length;t++){var n=r[t];n.type===l.Text?e.push(n.text):e.push(n.getFullText())}return e.join("")},t.prototype.getFullText=function(){return this.tagData.startTagString+this.getContentText()+this.tagData.endTagString},t}(p),h=function(){function e(e,t){if(!t)throw new Error("参数不能为空。");this._originalString=e,this._parameters=t,this._namedParameters={};for(var r=0,n=t;r<n.length;r++){var o=n[r];o.name&&(this._namedParameters[o.name]=o.value)}}return Object.defineProperty(e.prototype,"orignalString",{get:function(){return this._originalString},enumerable:!0,configurable:!0}),e.parse=function(t){if(!t)return null;var r=function(e){for(var t=0,r=[],n=c.ItemSeperator;;){var o=function(r){for(;;){if(t>=e.length)return null;var n=e[t];{if(!/\s/i.test(n)){if(","===n)return t++,u.itemSeperator;if("="===n)return t++,u.nameValueSeperator;if('"'===n||"'"===n)return u.stringValue(function(){var r=e[t],n=e.indexOf('"',t+1);n<0&&(console.error("UBB: 解析标签字符串 %s 时无法找到位置 %d 处 %s 对应的结束字符串。",e,t,r),n=e.length);var o=t+1;return t=n+1,e.substring(o,n)}());var o=t,a=r===c.ItemSeperator?/[=,]/i:/,/i,s=e.substring(t+1).match(a);if(s){var i=s.index+t+1;return t=i,u.stringValue(e.substring(o,i))}return t=e.length,u.stringValue(e.substring(o))}t++}}}(n);if(!o)break;r.push(o),n=o.type}return r}(t);if(0===r.length)return null;var n=function(e){var r=[];if(!e||0===e.length)return console.error("UBB: 无法将标签字符串 %s 解析为参数的集合。",t),r;for(var n=null,o=null,a=c.ItemSeperator,s=0,i=e;s<i.length;s++){var l=i[s];switch(l.type){case c.ItemSeperator:r.push(new f(n,o)),n=null,o=null,a=c.ItemSeperator;break;case c.NameValueSeperator:if(a!==c.String)throw new Error("名称值分隔符只能出现在值之后。");n=o,o=null,a=c.NameValueSeperator;break;default:if(a===c.String)throw new Error("不能连续出现多个值。");o=l.value,a=c.String}}return r.push(new f(n,o)),r[0].name||(r[0]=new f(r[0].value,null)),r}(r);return new e(t,n)},Object.defineProperty(e.prototype,"tagName",{get:function(){return this._parameters[0].name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startTagString",{get:function(){return"["+this.orignalString+"]"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endTagString",{get:function(){return"[/"+this.tagName+"]"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainValue",{get:function(){return this._parameters[0].value},enumerable:!0,configurable:!0}),e.prototype.value=function(e){if("number"==typeof e)return this._parameters[e].value;if("string"==typeof e)return this._namedParameters[e];throw new Error("参数必须是字符串或者数字。")},e.prototype.name=function(e){return this._parameters[e].name},e.prototype.parameter=function(e){return this._parameters[e]},e}();t.UbbTagData=h;var f=function(){function e(e,t){this._name=e,this._value=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(),g=function(){function e(){}return e.renderTagAsString=function(e,t){return[e.startTagString,t,e.endTagString]},e}();t.UbbTagHandler=g;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.exec=function(e,t){return this.execCore(e.getContentText(),e.tagData,t)},t}(g);t.TextTagHandler=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.exec=function(e,t){for(var r=[],n=0,o=e.subSegments;n<o.length;n++){var a=o[n];r.push(t.engine.execSegment(a,t))}return this.execCore(r,e.tagData,t)},t}(g);t.RecursiveTagHandler=y;var b=function(){function e(){this._namedTagHandlerList={},this._unnamedTagHanlderList=[]}return e.prototype.getHandler=function(e){var t=this._namedTagHandlerList[e];if(t)return t;for(var r=0,n=this._unnamedTagHanlderList;r<n.length;r++){var o=n[r];if(o.supportedTagNames.test(e))return o}return null},e.prototype.register=function(e){this.registerInstance(new e)},e.prototype.registerInstance=function(e){if(!e||!e.supportedTagNames)throw new Error("参数 tagHandler 无效，或者未提供正确的标签名称。");"string"==typeof e.supportedTagNames?this.registerNamedCore([e.supportedTagNames],e):e.supportedTagNames instanceof Array?this.registerNamedCore(e.supportedTagNames,e):this.registerUnnamedCore(e)},e.prototype.registerNamedCore=function(e,t){for(var r=0,n=e;r<n.length;r++){var o=n[r];o in this._namedTagHandlerList?console.error("标签 %s 的处理程序已经被注册。",o):this._namedTagHandlerList[o]=t}},e.prototype.registerUnnamedCore=function(e){this._unnamedTagHanlderList.push(e)},e}(),E=function(){function e(){this._tagHandlers=new b,this._data=new o}return Object.defineProperty(e.prototype,"tagHandlers",{get:function(){return this._tagHandlers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.getHandler=function(e){return this._tagHandlers.getHandler(e)},e.prototype.exec=function(e,t){var r=new a(this,t);return this.execCore(e,r)},e.tryHandleEndTag=function(e,t){for(var r=t;r&&r.tagData;){if(r.tagData.tagName===e)return r.close(),r.parent;r=r.parent}return console.warn("UBB: 找不到结束标签 %s 的开始标签，该标签将被作为一般文字处理。",e),t.subSegments.push(new m("[/"+e+"]",t)),t},e.buildSegmentsCore=function(t,r){for(var n=/([\s\S]*?)\[(.*?)]/gi;;){var o=n.lastIndex,a=n.exec(t);if(!a){var s=t.substring(o);return void(s&&r.subSegments.push(new m(s,r)))}var i=a[1],c=a[2];i&&r.subSegments.push(new m(i,r));var l=c.match(/^\/(.*)$/i);if(l){var u=l[1];r=e.tryHandleEndTag(u,r)}else try{var p=h.parse(c),f=new d(p,r);r.subSegments.push(f),r=f;continue}catch(e){console.warn("标签字符串 %s 解析失败，将被视为普通文字。",c),r.subSegments.push(new m("["+c+"]",r))}}},e.prototype.execCore=function(t,r){var n=new d(null,null);e.buildSegmentsCore(t,n);for(var o=[],a=0,s=n.subSegments;a<s.length;a++){var i=s[a];o.push(this.execSegment(i,r))}return o},e.prototype.execSegment=function(e,t){if(e.type===l.Text)return e.text;var r=e,n=this.getHandler(r.tagData.tagName);return n?n.exec(r,t):(console.warn("没有找到标签 %s 的处理程序，将被视为一般文字。",r.tagData.tagName),r.getFullText())},e}();t.UbbCodeEngine=E},function(e,t){e.exports=ReactRouterDOM},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(33),s=function(){function e(){}return e}();t.UbbContainerProps=s;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props.engine||a.createEngine(),t=this.props.options||new a.UbbCodeOptions,r=e.exec(this.props.code||"",t),n={whiteSpace:"pre-wrap",width:"100%"};return t.compatibility===a.UbbCompatiblityMode.Transitional?o.createElement("blockquote",{style:n},r):o.createElement("article",{style:n},r)},t}(o.Component);t.UbbContainer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();t.AppState=n;var o=function(){function e(){}return e}();t.TopicVoteState=o;var a=function(){function e(){}return e}();t.PostTopicState=a;var s=function(){function e(){}return e}();t.AuthorMessageState=s;var i=function(){function e(){}return e}();t.TopicTitleState=i;var c=function(){function e(e,t,r,n,o,a,s,i,c,l,u,p,m,d,h,f,g,v,y){this.userName=l,this.id=e,this.content=t,this.time=r,this.isAnonymous=a,this.isDelete=n,this.floor=o,this.lastUpdateAuthor=s,this.lastUpdateTime=i,this.topicId=c,this.sendTopicNumber=u,this.userImgUrl=p,this.signature=m,this.userId=d,this.privilege=h,this.likeNumber=f,this.dislikeNumber=g,this.postid=v,this.contentType=y}return e}();t.ContentState=c;var l=function(){function e(){}return e}();t.TopicGoodState=l;var u=function(){function e(){}return e}();t.ReplierState=u;var p=function(){function e(){}return e}();t.MainPageTopicState=p;var m=function(){function e(){}return e}();t.ListHeadState=m;var d=function(){function e(){}return e}();t.ListNoticeState=d;var h=function(){function e(){}return e}();t.ListTagState=h;var f=function(){function e(){}return e}();t.ListContentState=f;var g=function(){function e(e,t,r,n,o,a){this.userName=t,this.title=e,this.id=r,this.userId=n,this.lastPostUser=o,this.lastPostTime=a}return e}();t.TopicTitleAndContentState=g;var v=function(){function e(){}return e}();t.ListPagerState=v;var y=function(){function e(e){this.pageNumber=e}return e}();t.PagerState=y;var b=function(){function e(e,t,r,n,o,a,s,i,c,l,u,p,m){this.userName=e,this.time=n,this.title=t,this.content=r,this.signature=o,this.userImgUrl=a,this.hitCount=s,this.userId=i,this.likeNumber=c,this.dislikeNumber=l,this.postid=u,this.isAnonymous=p,this.contentType=m}return e}();t.TopicState=b;var E=function(){function e(){}return e}();t.LoginState=E;var w=function(){function e(){}return e}();t.AlreadyLoginState=w;var N=function(){function e(e,t,r,n,o){this.name=e,this.todayPostCount=t,this.totalPostCount=r,this.id=n,this.masters=o}return e}();t.Board=N;var _=function(){function e(){}return e}();t.BoardState=_;var T=function(){function e(){}return e}();t.UserInfo=T;var k=function(){function e(){}return e}();t.UserRecentPost=k;var C=function(){function e(){}return e}();t.UserFanInfo=C;var x=function(){function e(){}return e}();t.UserFavoritesBoardInfo=x},function(e,t){e.exports=$},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(3),s=r(12),i=r(9),c=r(13),l=r(14),u=r(15),p=r(18),m=r(19),d=r(21),h=r(22),f=r(23),g=r(24),v=r(25),y=r(11),b=r(26),E=r(27),w=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.match=t.match,n}return n(t,e),t}(o.Component);t.RouteComponent=w;var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{style:{width:"100%"}},o.createElement(a.BrowserRouter,null,o.createElement("div",{style:{backGroundColor:"#F5FAFD",justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",minWidth:"1140px"}},o.createElement(h.Header,null),o.createElement(a.Route,{exact:!0,path:"/",component:g.MainPage}),o.createElement(a.Route,{exact:!0,path:"/topic/:topicid/:page?",component:s.Post}),o.createElement(a.Route,{exact:!0,path:"/topic/:topicid/user/:userId/:page?",component:c.CurUserPost}),o.createElement(a.Route,{path:"/list/:boardId/:page?",component:i.List}),o.createElement(a.Route,{exact:!0,path:"/boardlist",component:l.BoardList}),o.createElement(a.Route,{path:"/usercenter",component:u.UserCenter}),o.createElement(a.Route,{path:"/message",component:p.Message}),o.createElement(a.Route,{path:"/focus",component:d.Focus}),o.createElement(a.Route,{path:"/newtopics",component:m.AllNewTopic}),o.createElement(a.Route,{path:"/user",component:v.User}),o.createElement(a.Route,{path:"/logon",component:y.LogOn}),o.createElement(a.Route,{path:"/createtopic/:boardId",component:b.CreateTopic}),o.createElement(a.Route,{path:"/status/logout",component:E.LogOut}),o.createElement(a.Route,{path:"/status/UnauthorizedBoard",component:E.UnauthorizedBoard}),o.createElement(a.Route,{path:"/status/UnauthorizedTopic",component:E.UnauthorizedTopic}),o.createElement(a.Route,{path:"/status/NotFoundTopic",component:E.NotFoundTopic}),o.createElement(a.Route,{path:"/status/NotFoundBoard",component:E.NotFoundBoard}),o.createElement(a.Route,{path:"/status/NotFoundUser",component:E.NotFoundUser}),o.createElement(a.Route,{path:"/status/ServerError",component:E.ServerError}),o.createElement(a.Route,{path:"/status/OperationForbidden",component:E.OperationForbidden}),o.createElement(a.Route,{path:"/status/Disconnected",component:E.Disconnected}),o.createElement(a.Route,{path:"/status/TopicDeleted",component:E.TopicDeleted}),o.createElement(f.Footer,null))))},t}(o.Component);t.App=N},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e,t=this,r=[],n={backgroundColor:"#ccc"};if(this.props.totalPage<=7){for(e=this.props.totalPage;e--;)r.unshift(e+1);r=r.map(function(e,r){return o.createElement("li",null,o.createElement("a",{href:""+t.props.href+e},o.createElement("button",{type:"button",style:e==t.props.currentPage?n:{}},e)))})}else if(this.props.currentPage-1<=3){for(e=7;e--;)r.unshift(e+1);r=r.map(function(e,r){return o.createElement("li",null,o.createElement("a",{href:""+t.props.href+e},o.createElement("button",{type:"button",style:e==t.props.currentPage?n:{}},e)))}),r.push(o.createElement("li",null,o.createElement("button",{disabled:!0},"···"))),r.push(o.createElement("li",null,o.createElement("a",{href:""+this.props.href+this.props.totalPage},o.createElement("button",{type:"button"},this.props.totalPage))))}else if(this.props.totalPage-this.props.currentPage<=3){for(e=7;e--;)r.unshift(e-6+this.props.totalPage);r=r.map(function(e,r){return o.createElement("li",null,o.createElement("a",{href:""+t.props.href+e},o.createElement("button",{type:"button",style:e==t.props.currentPage?n:{}},e)))}),r.unshift(o.createElement("li",null,o.createElement("button",{disabled:!0},"···"))),r.unshift(o.createElement("li",null,o.createElement("a",{href:this.props.href+"1"},o.createElement("button",{type:"button"},1))))}else{for(e=7;e--;)r.unshift(e-3+this.props.currentPage);r=r.map(function(e,r){return o.createElement("li",null,o.createElement("a",{href:""+t.props.href+e},o.createElement("button",{type:"button",disabled:e==t.props.currentPage,style:e==t.props.currentPage?n:{}},e)))}),r.push(o.createElement("li",null,o.createElement("button",{disabled:!0},"···"))),r.push(o.createElement("li",null,o.createElement("a",{href:""+this.props.href+this.props.totalPage},o.createElement("button",{type:"button"},this.props.totalPage)))),r.unshift(o.createElement("li",null,o.createElement("button",{disabled:!0},"···"))),r.unshift(o.createElement("li",null,o.createElement("a",{href:this.props.href+"1"},o.createElement("button",{type:"button"},1))))}return o.createElement("div",{id:"userCenterPageCount"},o.createElement("ul",null,r))},t}(o.Component);t.UserCenterPageCount=a;!function(){function e(){}}()},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1),c=r(4),l=r(3),u=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),Object.defineProperty(t.prototype,"match",{get:function(){return this.props.match},enumerable:!0,configurable:!0}),t}(s.Component);t.RouteComponent=u;var p=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={page:1,totalPage:1,boardId:null,bigPaper:""},n}return n(t,e),t.prototype.getTotalListPage=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return[4,i.getListTotalPage(e,this.context.router)];case 1:return t=r.sent(),[2,t]}})})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return[4,i.getBasicBoardMessage(e.match.params.boardId,e.match.params.page,this.context.router)];case 1:return t=r.sent(),this.setState({bigPaper:t.bigPaper,page:t.page,totalPage:t.totalPage,boardId:e.match.params.boardId}),[2]}})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getBasicBoardMessage(this.match.params.boardId,this.match.params.page,this.context.router)];case 1:return e=t.sent(),this.setState({bigPaper:e.bigPaper,page:e.page,totalPage:e.totalPage,boardId:this.match.params.boardId}),[2]}})})},t.prototype.render=function(){return s.createElement("div",{id:"listRoot"},s.createElement(m,{boardId:this.match.params.boardId}),s.createElement(d,{key:this.state.page,boardId:this.match.params.boardId}),s.createElement(h,{bigPaper:this.state.bigPaper}),s.createElement(f,{page:this.state.page,totalPage:this.state.totalPage,boardid:this.state.boardId}),s.createElement(y,null),s.createElement(l.Route,{path:"/list/:boardId/:page?",component:b}),s.createElement(g,{page:this.state.page,totalPage:this.state.totalPage,boardid:this.state.boardId}))},t}(u);t.List=p;var m=function(e){function t(t){var r=e.call(this,t)||this;return r.state={boardId:"",boardName:""},r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return console.log("cate"+this.props.boardId),[4,i.getListCategory(this.props.boardId,this.context.router)];case 1:return e=t.sent(),this.setState({boardId:this.props.boardId,boardName:e}),[2]}})})},t.prototype.render=function(){var e="/list/"+this.state.boardId;return s.createElement("div",{className:"row",style:{width:"100%",justifyContent:"flex-start",color:"blue",fontSize:"0.75rem"}},"››",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:"/"},"首页")," → ",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:e},this.state.boardName))},t}(u);t.Category=m;var d=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={imgUrl:"/images/ListImg.jpg",listName:"学术信息",todayTopics:210,totalTopics:12e3,adsUrl:"/images/ads.jpg",listManager:[],isAnomynous:!1,isEncrypted:!1,isHidden:!1,isLocked:!1},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getBoardMessage(this.props.boardId,this.context.router)];case 1:return e=t.sent(),this.setState({listName:e.name,todayTopics:e.todayCount,totalTopics:e.topicCount,listManager:e.boardMasters}),[2]}})})},t.prototype.componentWillRecieveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return[4,i.getBoardMessage(e.boardId,this.context.router)];case 1:return t=r.sent(),this.setState({listName:t.name,todayTopics:t.todayCount,totalTopics:t.topicCount,listManager:t.boardMasters}),[2]}})})},t.prototype.generateMasters=function(e){var t=e.toString(),r=encodeURIComponent(e.toString()),n="/user/name/"+r;return s.createElement("div",{style:{marginRight:"10px"}},s.createElement("a",{href:n},t))},t.prototype.render=function(){return s.createElement("div",{className:"column",style:{width:"100%"}},s.createElement("div",{className:"row",style:{flexDirection:"row",justifyContent:"space-between"}},s.createElement("div",{style:{flexgrow:"1",flexDirection:"row",display:"flex"}},s.createElement("div",{id:"ListImg"},s.createElement("img",{src:this.state.imgUrl})),s.createElement("div",{className:"column",style:{marginTop:"1.25rem",marginLeft:"0.625rempx"}},s.createElement("div",{className:"row",style:{marginTop:"0.625rem"}},s.createElement("div",null,"今日主题"),s.createElement("div",{style:{marginLeft:"0.625rem"}},this.state.todayTopics)),s.createElement("div",{className:"row",style:{marginTop:"0.625rem"}},s.createElement("div",null,"总主题"),s.createElement("div",{style:{marginLeft:"1.25rem"}},this.state.totalTopics)))),s.createElement("div",{className:"column",style:{flexgrow:"0"}},s.createElement("div",{id:"like"},s.createElement("button",{style:{border:"none",color:"#F5FAFC"}},"✰"),"  收藏版面"),s.createElement("div",null,s.createElement("img",{src:this.state.adsUrl,style:{width:"15.625rem",height:"3.75rem"}})))),s.createElement("div",{className:"row",style:{marginTop:"0.3125rem"}},s.createElement("span",null,"版主 : "),s.createElement("div",{className:"row",style:{marginLeft:"0.3125rem"}},this.state.listManager.map(this.generateMasters))))},t}(u);t.ListHead=d;var h=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={notice:"1. 请大家首先阅读心灵之约版规再发帖，如有违规不接受pm卖萌求情；2. 诚征新版主，请去论坛事务版搜之前的版面负责人申请帖并遵循格式发帖，如有不明可以站短站务组组长咨询。3. 不要留联系方式！不要留联系方式！不要留联系方式！重要的事说三遍！，留任何联系方式tp1000天。 4. 更新了版规，增加了tp规则：成功诱导对方留联系方式的，tp1000天；修订了锁沉规则：有意义言之有物、希望继续讨论的长篇读后感将给予保留。5. 请理性讨论，不要人身攻击。违者tp1天起，累犯或严重的，上不封顶。"},n}return n(t,e),t.prototype.render=function(){return s.createElement("div",{className:"notice",style:{marginTop:"0.625rem"}},s.createElement("div",{style:{backgroundColor:"#3399FE"}},s.createElement("div",{style:{marginLeft:"0.9375rem",marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"1rem",color:"#FFFFFF"}},"本版公告")),s.createElement("div",{className:"substance"},s.createElement(c.UbbContainer,{code:this.props.bigPaper})))},t}(u);t.ListNotice=h;var f=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={pager:[1,2,3,4,5]},n}return n(t,e),t.prototype.generatePageLink=function(e){return s.createElement(v,{pageNumber:e,boardid:this.props.boardid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){var e="/createTopic/"+this.props.boardid;return s.createElement("div",{className:"row",style:{width:"100%",marginLeft:"0.3125rem",marginRight:"0.3125rem",marginTop:"0.9375rem",justifyContent:"space-between",alignItems:"flex-end"}},s.createElement("div",{style:{marginBottom:"1.25rem"}},s.createElement(l.Link,{className:"button orange",to:e},"发主题"),s.createElement("button",{className:"button green",style:{marginLeft:"1.25rem"}},"发投票")),s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(s.Component);t.ListButtonAndPager=f;var g=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={pager:[1,2,3,4,5]},n}return n(t,e),t.prototype.generatePageLink=function(e){return s.createElement(v,{pageNumber:e,boardid:this.props.boardid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{className:"row",style:{width:"100%",marginTop:"0.9375rem",justifyContent:"space-between",alignItems:"flex-end"}},s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(s.Component);t.PagerDown=g;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e;return this.props.pageNumber>0?(e="/list/"+this.props.boardid+"/"+this.props.pageNumber,this.props.pageNumber!==this.props.curPage?s.createElement("li",{className:"page-item"},s.createElement(l.Link,{to:e,className:"page-link"},this.props.pageNumber)):s.createElement("li",{className:"page-item active"},s.createElement(l.Link,{to:e,className:"page-link "},this.props.pageNumber))):-1==this.props.pageNumber?(e="/list/"+this.props.boardid+"/"+(this.props.curPage-1),s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"‹"))):-2==this.props.pageNumber?(e="/list/"+this.props.boardid+"/"+(this.props.curPage+1),s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"›"))):-3==this.props.pageNumber?(e="/list/"+this.props.boardid+"/1",s.createElement("li",{className:"page-item"}," ",s.createElement(l.Link,{className:"page-link",to:e},"«"))):-4==this.props.pageNumber?(e="/list/"+this.props.boardid+"/"+this.props.totalPage,s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"»"))):void 0},t}(s.Component);t.PageModel=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return s.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:"100%",marginLeft:"0.3125rem",marginRight:"0.3125rem",borderTop:"dashed #EAEAEA thin",marginTop:"1.5625rem",marginBottom:"25px"}},s.createElement("div",{className:"row"},"  ",s.createElement("button",{id:"tagButton"},"全部"),s.createElement("button",{className:"chooseTag"},"dota ",s.createElement("span",{className:"tagNumber"},"1234")),s.createElement("button",{className:"chooseTag"},"csgo ",s.createElement("span",{className:"tagNumber"},"5687"))))},t}(s.Component);t.ListTag=y;var b=function(e){function t(t,r){var n=e.call(this)||this;return n.state={items:[]},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return console.log("Did"+this.match.params.boardId),[4,i.getBoardTopicAsync(1,this.match.params.boardId,this.context.router)];case 1:return e=t.sent(),this.setState({items:e}),[2]}})})},t.prototype.convertTopicToElement=function(e){return s.createElement(E,{key:e.id,title:e.title,authorName:e.userName,id:e.id,authorId:e.userId,lastPostTime:e.lastPostTime,lastPostUserName:e.lastPostUser})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){switch(o.label){case 0:return r=e.match.params.page,t=r?parseInt(r):1,[4,i.getBoardTopicAsync(t,e.match.params.boardId,this.context.router)];case 1:return n=o.sent(),this.setState({items:n}),[2]}})})},t.prototype.render=function(){return s.createElement("div",{className:"listContent "},s.createElement("div",{className:"row",style:{justifyContent:"space-between"}},s.createElement("div",{className:"row",style:{alignItems:"center"}},s.createElement("div",{className:"listContentTag"},"全部"),s.createElement("div",{className:"listContentTag"},"精华"),s.createElement("div",{className:"listContentTag"},"最热")),s.createElement("div",{className:"row",style:{alignItems:"center"}},s.createElement("div",{style:{marginRight:"18.5rem"}},s.createElement("span",null,"作者")),s.createElement("div",{style:{marginRight:"7.6875rem"}},s.createElement("span",null,"最后发表")))),s.createElement("div",null,this.state.items.map(this.convertTopicToElement)))},t}(u);t.ListContent=b;var E=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={title:n.props.title,authorName:n.props.authorName,likeNumber:123,dislikeNumber:11,commentNumber:214,lastPostUserName:n.props.lastPostUserName,lastPostTime:n.props.lastPostTime,id:n.props.id,authorId:n.props.authorId},n}return n(t,e),t.prototype.render=function(){var e="/topic/"+this.state.id;return s.createElement("div",{id:"changeColor"},s.createElement("div",{className:"row topicInList"},s.createElement(l.Link,{to:e},s.createElement("div",{style:{marginLeft:"1.25rem"}}," ",s.createElement("span",null,this.state.title))),s.createElement("div",{className:"row",style:{width:"50%",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"}},s.createElement("div",{style:{width:"15rem",marginRight:"0.625rem",marginLeft:"1rem"}}," ",s.createElement("span",null,s.createElement("a",null,this.state.authorName))),s.createElement("div",{className:"row",style:{width:"25rem",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"}},s.createElement("div",{id:"liked",style:{display:"flex"}},s.createElement("i",{className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"timeProp tagSize"},this.state.likeNumber)),s.createElement("div",{id:"disliked",style:{display:"flex"}},s.createElement("i",{className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"timeProp tagSize"},this.state.dislikeNumber)),s.createElement("div",{id:"commentsAmount",style:{display:"flex"}},s.createElement("i",{className:"fa fa-commenting-o fa-lg"}),s.createElement("span",{className:"timeProp tagSize"},this.state.commentNumber))),s.createElement("div",{id:"lastReply",style:{width:"15rem"}},s.createElement("div",null,this.state.lastPostUserName," ")),s.createElement("div",{style:{width:"30rem",marginRight:"20px"}},s.createElement("div",{style:{wordBreak:"keepAll"}},moment(this.state.lastPostTime).format("YYYY-MM-DD HH:mm:ss"))))))},t}(s.Component);t.TopicTitleAndContent=E},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"user-post"},o.createElement("div",{className:"user-post-info"},o.createElement("a",{className:"user-post-board",href:"/list/"+this.props.userRecentPost.boardId},this.props.userRecentPost.board),o.createElement("a",{className:"user-post-date"},this.props.userRecentPost.date),o.createElement("a",{className:"user-post-title"},this.props.userRecentPost.title)),o.createElement("div",{className:"user-post-content"},o.createElement("p",null,o.createElement("a",{href:"/topic/"+this.props.userRecentPost.id},this.props.userRecentPost.content)),this.props.userRecentPost.approval?o.createElement("a",{className:"fa-thumbs-o-up"}," "+this.props.userRecentPost.approval):null,this.props.userRecentPost.disapproval?o.createElement("a",{className:"fa-thumbs-o-down"}," "+this.props.userRecentPost.disapproval):null))},t}(o.Component);t.UserCenterExactActivitiesPost=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(3),s=r(81),i=r(82),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement(a.BrowserRouter,null,o.createElement("div",null,o.createElement(a.Route,{path:"/logon",exact:!0,component:s.LogOnExact}),o.createElement(a.Route,{path:"/logon/logoff",component:i.LogOff})))},t}(o.Component);t.LogOn=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1),c=r(6),l=r(3),u=r(4),p=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),Object.defineProperty(t.prototype,"match",{get:function(){return this.props.match},enumerable:!0,configurable:!0}),t}(s.Component);t.RouteComponent=p;var m=function(e){function t(t,r){var n=e.call(this,t,r)||this,o=editormd("test-editormd",{width:"100%",height:640,path:"/scripts/lib/editor.md/lib/",saveHTMLToTextarea:!1});return n.handleChange=n.handleChange.bind(n),n.state={page:1,topicid:n.match.params.topicid,totalPage:1,userName:null,editor:o},n}return n(t,e),t.prototype.handleChange=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e=this.match.params.page?parseInt(this.match.params.page):1,[4,this.getTotalPage(this.match.params.topicid)];case 1:return t=n.sent(),r=this.match.params.userName,this.setState({page:e,topicid:this.match.params.topicid,totalPage:t,userName:r}),[2]}})})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){switch(o.label){case 0:return t=e.match.params.page?parseInt(e.match.params.page):1,r=e.match.params.userName,[4,this.getTotalPage(this.match.params.topicid)];case 1:return n=o.sent(),this.setState({page:t,topicid:e.match.params.topicid,totalPage:n,userName:r}),[2]}})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e=this.match.params.page?parseInt(this.match.params.page):1,[4,this.getTotalPage(this.match.params.topicid)];case 1:return t=n.sent(),r=this.match.params.userName,this.setState({page:e,topicid:this.match.params.topicid,totalPage:t,userName:r}),[2]}})})},t.prototype.getTotalPage=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,i.getTotalReplyCount(e,this.context.router)]})})},t.prototype.returnTopic=function(){return s.createElement(b,{imgUrl:"/images/ads.jpg",page:this.state.page,topicid:this.state.topicid,userId:null})},t.prototype.render=function(){var e=null,t=null;return 1===this.state.page&&(e=s.createElement(b,{imgUrl:"/images/ads.jpg",page:this.state.page,topicid:this.state.topicid,userId:null}),t=s.createElement(l.Route,{path:"/topic/:topicid/:page?",component:f})),s.createElement("div",{className:"center",style:{width:"80%"}},s.createElement("div",{className:"row",style:{width:"100%",justifyContent:"space-between",borderBottom:"#EAEAEA solid thin",alignItems:"center"}},s.createElement(d,{topicId:this.state.topicid}),s.createElement(C,{page:this.state.page,topicid:this.state.topicid,totalPage:this.state.totalPage})),e,t,s.createElement(l.Route,{path:"/topic/:topicid/:page?",component:h}),s.createElement(x,{page:this.state.page,topicid:this.state.topicid,totalPage:this.state.totalPage}),s.createElement(O,{onChange:this.handleChange,topicid:this.state.topicid,editor:this.state.editor}))},t}(p);t.Post=m;var d=function(e){function t(t){var r=e.call(this,t)||this;return r.state={boardId:"",topicId:"",boardName:"",title:""},r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getCategory(this.props.topicId,this.context.router)];case 1:return e=t.sent(),this.setState({boardId:e.boardId,topicId:e.topicId,boardName:e.boardName,title:e.title}),[2]}})})},t.prototype.render=function(){var e="/list/"+this.state.boardId,t="/topic/"+this.state.topicId;return s.createElement("div",{style:{color:"blue",fontSize:"0.75rem"}},"››",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:"/"},"首页")," → ",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:e},this.state.boardName)," → ",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:t},this.state.title))},t}(s.Component);t.Category=d;var h=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={contents:[]},n}return n(t,e),t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){switch(o.label){case 0:return t=e.match.params.page||1,r="TopicContent_"+e.match.params.topicid+"_"+t,[4,i.getTopicContent(e.match.params.topicid,t,this.context.router)];case 1:return n=o.sent(),this.setState({contents:n}),[2]}})})},t.prototype.generateContents=function(e){return s.createElement("div",{className:"reply"},s.createElement("div",{style:{marginTop:"1rem",marginBotton:"0.3125rem",border:"#EAEAEA solid thin"}},s.createElement(v,{key:e.postid,isAnonymous:e.isAnonymous,userId:e.userId,topicid:e.topicId,userName:e.userName,replyTime:e.time,floor:e.floor,userImgUrl:e.userImgUrl,sendTopicNumber:e.sendTopicNumber,privilege:e.privilege}),s.createElement(_,{key:e.content,content:e.content,signature:e.signature,topicid:e.topicId,postid:e.postid,contentType:e.contentType})))},t.prototype.render=function(){return s.createElement("div",{className:"center",style:{width:"100%"}},this.state.contents.map(this.generateContents))},t}(p);t.Reply=h;var f=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={contents:[]},n}return n(t,e),t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return t=e.match.params.page||1,1!=t?[3,2]:[4,i.getHotReplyContent(e.match.params.topicid,this.context.router)];case 1:r=n.sent(),this.setState({contents:r}),n.label=2;case 2:return[2]}})})},t.prototype.generateContents=function(e){var t=(e.floor%10).toString();return s.createElement("div",{className:"reply",id:t},s.createElement("div",{style:{marginTop:"1rem",marginBotton:"0.3125rem",border:"#EAEAEA solid thin"}},s.createElement(g,{key:e.id,userId:e.userId,topicid:e.topicId,userName:e.userName,replyTime:e.time,floor:e.floor,userImgUrl:e.userImgUrl,sendTopicNumber:e.sendTopicNumber,privilege:e.privilege,isAnonymous:e.isAnonymous}),s.createElement(_,{key:e.content,content:e.content,signature:e.signature,topicid:e.topicId,postid:e.id,contentType:e.contentType})))},t.prototype.render=function(){return c(".header").scrollTop(),s.createElement("div",{className:"center",style:{width:"100%"}},this.state.contents.map(this.generateContents))},t}(p);t.HotReply=f;var g=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={},n}return n(t,e),t.prototype.render=function(){var e="/user/"+this.props.userId,t=encodeURIComponent(e),r="/topic/"+this.props.topicid+"/user/"+this.props.userId,n="/message/message/"+this.props.userId;c(document).ready(function(){c(".authorImg").mouseenter(function(e){var t=e.currentTarget;c(t).next(".userDetails").show()}),c(".mouse-userDetails").mouseleave(function(e){var t=e.currentTarget;c(t).find(".userDetails").hide()})});var o="帖数";this.props.userId||(o="");var a;a=1!=this.props.isAnonymous?s.createElement(y,{userName:this.props.userName}):null;var i;return"超级版主"===this.props.privilege?i=s.createElement("a",{style:{color:"pink"},href:e},this.props.userName):"全站贵宾"===this.props.privilege?i=s.createElement("a",{style:{color:"blue"},href:e},this.props.userName):"注册用户"===this.props.privilege||"匿名"==this.props.privilege||"匿名用户"===this.props.privilege?i=s.createElement("a",{style:{color:"black"},href:e},this.props.userName):"管理员"===this.props.privilege&&(i=s.createElement("a",{style:{color:"red"},href:e},this.props.userName)),s.createElement("div",{className:"replyRoot"},s.createElement("div",{className:"row",style:{width:"100%",display:"flex",marginBottom:"0.625rem"}},s.createElement("div",{className:"row mouse-userDetails",style:{height:"15.625rem"}},s.createElement("div",{className:"authorImg"},s.createElement("a",{href:t},s.createElement("img",{src:this.props.userImgUrl}))),s.createElement("div",{className:"userDetails",style:{display:"none",position:"absolute",zindedx:"1"}},a)),s.createElement("div",{className:"column",id:"rpymes"},s.createElement("div",{className:"row",id:"replierMes"},s.createElement("div",{style:{color:"red",marginLeft:"1rem"}},s.createElement("span",null,"最热回复"),s.createElement("span",null,"(第"),s.createElement("span",null,this.props.floor),s.createElement("span",null,"楼)")),s.createElement("div",{className:"rpyClr",style:{marginLeft:"0.625rem"}},i),s.createElement("div",{id:"topicsNumber",style:{marginLeft:"0.625rem",display:"flex",flexWrap:"nowrap",wordBreak:"keepAll",marginRight:"0.75rem"}},o," ",s.createElement("span",{style:{color:"red"}},this.props.sendTopicNumber)," ")),s.createElement("div",{className:"row",style:{display:"flex",flexWrap:"nowrap"}},s.createElement("div",{id:"clockimg",style:{marginLeft:"0.375rem"}},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"})),s.createElement("div",null,s.createElement("span",{className:"timeProp"},moment(this.props.replyTime).format("YYYY-MM-DD HH:mm:ss"))))),s.createElement("div",{id:"operation"},s.createElement(l.Link,{className:"operation",to:""},"引用"),s.createElement(l.Link,{className:"operation",to:""},"编辑"),s.createElement(l.Link,{className:"operation",to:n},"私信"),s.createElement(l.Link,{className:"operation",to:""},"举报"),s.createElement(l.Link,{className:"operation",to:r},"只看此用户"))))},t}(p);t.HotReplier=g;var v=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.render=function(){var e="/user/"+this.props.userId,t=encodeURIComponent(e),r="/message/message/"+this.props.userId,n=s.createElement("a",{href:t},s.createElement("img",{src:this.props.userImgUrl}));1==this.props.isAnonymous&&(n=s.createElement("img",{src:this.props.userImgUrl}));var o="/topic/"+this.props.topicid+"/user/"+this.props.userId;c(document).ready(function(){c(".authorImg").mouseenter(function(e){var t=e.currentTarget;c(t).next(".userDetails").show()}),c(".mouse-userDetails").mouseleave(function(e){var t=e.currentTarget;c(t).find(".userDetails").hide()})});var a="帖数";this.props.userId||(a="");var i;i=1!=this.props.isAnonymous?s.createElement(y,{userName:this.props.userName}):null;var u;return"超级版主"===this.props.privilege?u=s.createElement("a",{style:{color:"pink"},href:e},this.props.userName):"全站贵宾"===this.props.privilege?u=s.createElement("a",{style:{color:"blue"},href:e},this.props.userName):"注册用户"===this.props.privilege?u=s.createElement("a",{style:{color:"black"},href:e},this.props.userName):"匿名"==this.props.privilege||"匿名用户"===this.props.privilege?u=s.createElement("div",{style:{color:"black"}},this.props.userName):"管理员"===this.props.privilege&&(u=s.createElement("a",{style:{color:"red"},href:e},this.props.userName)),s.createElement("div",{className:"replyRoot"},s.createElement("div",{className:"row",style:{width:"100%",display:"flex",marginBottom:"0.625rem"}},s.createElement("div",{className:"row mouse-userDetails",style:{height:"15.625rem"}},s.createElement("div",{className:"authorImg"},n),s.createElement("div",{className:"userDetails",style:{display:"none",position:"absolute"}},i)),s.createElement("div",{className:"column",id:"rpymes"},s.createElement("div",{className:"row",id:"replierMes"},s.createElement("div",{style:{marginLeft:"0.625rem"}},s.createElement("span",null,"第"),s.createElement("span",{style:{color:"red"}},this.props.floor),s.createElement("span",null,"楼")),s.createElement("div",{className:"rpyClr",style:{marginLeft:"0.625rem"}},u),s.createElement("div",{id:"topicsNumber",style:{marginLeft:"0.625rem",display:"flex",flexWrap:"nowrap",wordBreak:"keepAll",marginRight:"0.75rem"}},a," ",s.createElement("span",{style:{color:"red"}},this.props.sendTopicNumber)," ")),s.createElement("div",{className:"row",style:{display:"flex",flexWrap:"nowrap"}},s.createElement("div",{id:"clockimg",style:{marginLeft:"0.375rem"}},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"})),s.createElement("div",null,s.createElement("span",{className:"timeProp"},moment(this.props.replyTime).format("YYYY-MM-DD HH:mm:ss"))))),s.createElement("div",{id:"operation"},s.createElement(l.Link,{className:"operation",to:""},"引用"),s.createElement(l.Link,{className:"operation",to:""},"编辑"),s.createElement(l.Link,{className:"operation",to:r},"私信"),s.createElement(l.Link,{className:"operation",to:""},"举报"),s.createElement(l.Link,{className:"operation",to:o},"只看此用户"))))},t}(p);t.Replier=v;var y=function(e){function t(t){var r=e.call(this,t)||this;return r.state={portraitUrl:null,userName:null,fanCount:null,displayTitle:null,birthday:null,gender:null,prestige:null,levelTitle:null},r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getUserDetails(this.props.userName,this.context.router)];case 1:return e=t.sent(),this.setState({portraitUrl:e.portraitUrl,userName:e.userName,fanCount:e.fanCount,displayTitle:e.displayTitle,birthday:e.birthday,prestige:e.prestige,gender:e.gender,levelTitle:e.levelTitle}),[2]}})})},t.prototype.render=function(){var e=this.state.displayTitle;null===this.state.displayTitle&&(e=this.state.levelTitle);var t,r=moment(this.state.birthday).format("YYYY");t="9999"===r?moment(this.state.birthday).format("MM-DD"):moment(this.state.birthday).format("YYYY-MM-DD"),null==this.state.birthday&&(t="保密");var n;n=0===this.state.gender?s.createElement("i",{style:{color:"pink"},className:"fa fa-venus fa-lg fa-fw"}):s.createElement("i",{style:{color:"blue"},className:"fa fa-mars fa-lg fa-fw"});var o="/user/name/"+this.props.userName,a=encodeURI(o),i=s.createElement("a",{href:a}," ",s.createElement("img",{src:this.state.portraitUrl}));return s.createElement("div",{className:"popup"},s.createElement("div",{className:"popup_title"},s.createElement("div",{className:"row"},s.createElement("div",{className:"row authorImg",style:{marginLeft:"10px",marginTop:"10px"}},i),s.createElement("div",{className:"column",style:{marginLeft:"1.6rem",marginTop:"2rem"}},s.createElement("div",{className:"row"},s.createElement("div",{style:{fontFamily:"微软雅黑",color:"blue",marginRight:"0.63rem"}}," ",this.state.userName),"   ",s.createElement("div",{style:{marginRight:"0.63rem"}},"   粉丝  "),s.createElement("div",{style:{color:"red"}},this.state.fanCount)),s.createElement("div",{className:"row",style:{marginTop:"0.63rem",fontSize:"0.87rem"}},e)),s.createElement("div",null,s.createElement("div",{id:"watch",style:{width:"5rem",backgroundColor:"#FF6A6A",marginRight:"0.63rem",marginLeft:"1.6rem",marginTop:"2rem",height:"2rem"}},"关注"))),s.createElement("div",{className:"row",style:{fontSize:"0.87rem"}},s.createElement("div",{style:{marginLeft:"7.2rem"}},"威望 ",this.state.prestige),s.createElement("div",{style:{marginLeft:"1rem"}},"生日 ",t),s.createElement("div",{style:{marginLeft:"1rem"}},n))))},t}(p);t.UserDetails=y;var b=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={topicMessage:{title:"加载中...",time:"",content:"",signature:"",postid:0},likeState:0},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getTopic(this.props.topicid,this.context.router)];case 1:return e=t.sent(),this.setState({topicMessage:e}),[2]}})})},t.prototype.render=function(){return this.state.topicMessage.userId==this.props.userId||null==this.props.userId?s.createElement("div",{className:"root",id:"1"},s.createElement("div",{className:"essay"},s.createElement(E,{authorId:this.state.topicMessage.userId,authorName:this.state.topicMessage.userName,authorImgUrl:this.state.topicMessage.userImgUrl,isAnonymous:this.state.topicMessage.isAnonymous}),s.createElement(w,{Title:this.state.topicMessage.title,Time:this.state.topicMessage.time,HitCount:this.state.topicMessage.hitCount}),s.createElement("div",{id:"ads"},s.createElement("img",{width:"100%",src:this.props.imgUrl}))),s.createElement(N,{postid:this.state.topicMessage.postid,content:this.state.topicMessage.content,signature:this.state.topicMessage.signature,topicid:this.props.topicid,userId:this.state.topicMessage.userId,contentType:this.state.topicMessage.contentType}),s.createElement(T,null),s.createElement(k,null)):null},t}(p);t.PostTopic=b;var E=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={userName:"Mana",fansNumber:233,imgUrl:n.props.authorImgUrl},n}return n(t,e),t.prototype.render=function(){var e="/message/message/"+this.props.authorId,t="/user/"+this.props.authorId,r=s.createElement("a",{href:t},s.createElement("img",{src:this.props.authorImgUrl})),n=s.createElement("div",{id:"authorName"},s.createElement("p",null,s.createElement("a",{href:t},this.props.authorName)));return 1==this.props.isAnonymous&&(r=s.createElement("img",{src:this.props.authorImgUrl}),n=s.createElement("div",{id:"authorName"},s.createElement("p",null,this.props.authorName))),s.createElement("div",{className:"row",id:"authormes"},s.createElement("div",{className:"authorImg"},r),s.createElement("div",{className:"column",style:{marginRight:"1rem"}},s.createElement("div",{className:"row authorFans",style:{justifyContent:"space-between"}},n,s.createElement("div",{id:"fans",className:"row"},s.createElement("div",{style:{marginRight:"0.1875rem"}},"粉丝"),s.createElement("div",{style:{color:"#EE0000"}},this.state.fansNumber))),s.createElement("div",{className:"row"},s.createElement("div",{id:"watch",style:{marginLeft:"1rem"}},"关注"),s.createElement("a",{id:"email",href:e,style:{marginLeft:"1rem"}},"私信"))))},t}(p);t.AuthorMessage=E;var w=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={isNotice:!0,isTop:!0,title:"这是一个长长啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊的标题",tag:"女装/开车",time:"2017.8.12",likeNumber:1,dislikeNumber:1,viewTimes:2366},n}return n(t,e),t.prototype.returnProps=function(e,t,r){return s.createElement("div",{id:"title1",className:"row",style:{justifyContent:"flex-start"}},s.createElement("div",{id:"essayTitle"},r))},t.prototype.render=function(){return s.createElement("div",{id:"title"},s.createElement("div",{className:"column",id:"topicTitleProp"},s.createElement("div",{id:"essay1",className:"row"},this.returnProps(this.state.isTop,this.state.isNotice,this.props.Title)),s.createElement("div",{className:"row",id:"essayProp"},s.createElement("div",{id:"tags"},s.createElement("div",{className:"tagProp tagSize"},"标签： ",this.state.tag),s.createElement("div",{className:"tagProp"})),s.createElement("div",{id:"time"},s.createElement("div",{className:"viewProp"},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"}))," ",s.createElement("div",{className:"timeProp tagSize"},moment(this.props.Time).format("YYYY-MM-DD HH:mm:ss"))),s.createElement("div",{id:"viewtimes"},s.createElement("div",{className:"viewProp"},s.createElement("i",{className:"fa fa-eye fa-lg fa-fw"}),"  ")," ",s.createElement("div",{className:"timeProp tagSize"},this.props.HitCount,"次")))))},t}(p);t.TopicTitle=w;var N=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={likeNumber:666,dislikeNumber:233,likeState:0},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getLikeState(this.props.topicid,this.context.router)];case 1:return e=t.sent(),1===e.likeState?c("#commentliked").css("color","red"):2===e.likeState&&c("#commentdisliked").css("color","red"),this.setState({likeNumber:e.likeCount,dislikeNumber:e.dislikeCount,likeState:e.likeState}),[2]}})})},t.prototype.like=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return 1!==this.state.likeState?[3,2]:[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 1:return t.sent(),c("#commentliked").css("color","black"),[3,7];case 2:return 2!==this.state.likeState?[3,5]:[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 3:return t.sent(),[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 4:return t.sent(),c("#commentliked").css("color","red"),c("#commentdisliked").css("color","black"),[3,7];case 5:return[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 6:t.sent(),c("#commentliked").css("color","red"),t.label=7;case 7:return[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 8:return e=t.sent(),this.setState({likeNumber:e.likeCount,dislikeNumber:e.dislikeCount,likeState:e.likeState}),[2]}})})},t.prototype.dislike=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return 2!==this.state.likeState?[3,2]:[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 1:return t.sent(),c("#commentdisliked").css("color","black"),[3,7];case 2:return 1!==this.state.likeState?[3,5]:[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 3:return t.sent(),[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 4:return t.sent(),c("#commentliked").css("color","black"),c("#commentdisliked").css("color","red"),[3,7];case 5:return[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 6:t.sent(),c("#commentdisliked").css("color","red"),t.label=7;case 7:return[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 8:return e=t.sent(),this.setState({likeNumber:e.likeCount,dislikeNumber:e.dislikeCount,likeState:e.likeState}),[2]}})})},t.prototype.render=function(){var e="doc-content"+this.props.postid,t="/topic/"+this.props.topicid+"/user/"+this.props.userId,r=s.createElement(u.UbbContainer,{code:this.props.content}),n=s.createElement("div",{id:e},s.createElement("textarea",{name:"editormd-markdown-doc",style:{display:"none"}},this.props.content));editormd.markdownToHTML(e,{htmlDecode:"style,script,iframe",emoji:!0,taskList:!0,tex:!0,flowChart:!0,sequenceDiagram:!0,codeFold:!0});var o=r;return 1===this.props.contentType&&(o=n),""==this.props.signature?s.createElement("div",{className:"content"},s.createElement("div",{className:"substance"},o),s.createElement("div",{className:"comment1"},s.createElement("div",{id:"commentlike",className:"buttonFont"},s.createElement("button",{className:"commentbutton"},s.createElement("i",{className:"fa fa-star-o fa-lg"})),"   收藏文章 "),s.createElement("div",{id:"commentliked",className:"upup",style:{marginRight:"0.7rem"}},s.createElement("i",{title:"赞",onClick:this.like.bind(this),className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:"commentdisliked",className:"downdown"},s.createElement("i",{title:"踩",onClick:this.dislike.bind(this),className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike",className:"buttonFont row"}," ",s.createElement("div",{className:"commentbutton"},"   评分"),s.createElement("div",{className:"commentbutton"},"   编辑")),s.createElement("div",{className:"operation1"},"引用"),s.createElement(l.Link,{className:"operation1",to:t},"只看此用户"))):s.createElement("div",{className:"content"},s.createElement("div",{className:"substance"},o," "),s.createElement("div",{className:"signature"},s.createElement(u.UbbContainer,{code:this.props.signature})),s.createElement("div",{className:"comment"},s.createElement("div",{id:"commentlike",style:{marginRight:"0.7rem"},className:"buttonFont"},s.createElement("button",{className:"commentbutton"},s.createElement("i",{className:"fa fa-star-o fa-lg"})),"   收藏文章 "),s.createElement("div",{id:"commentliked",className:"upup",style:{marginRight:"0.7rem"}},s.createElement("i",{title:"赞",onClick:this.like.bind(this),className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:"commentdisliked",className:"downdown"},s.createElement("i",{title:"踩",onClick:this.dislike.bind(this),className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike",className:"buttonFont row"}," ",s.createElement("div",{className:"commentbutton"},"   评分"),s.createElement("div",{className:"commentbutton"},"   编辑")),s.createElement("div",{className:"operation1"},"引用"),s.createElement(l.Link,{className:"operation1",to:t},"只看此用户")))},t}(p);t.TopicContent=N;var _=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={likeNumber:1,dislikeNumber:1,likeState:0},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e="#like"+this.props.postid,t="#dislike"+this.props.postid,[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 1:return r=n.sent(),1===r.likeState?c(e).css("color","red"):2===r.likeState&&c(t).css("color","red"),this.setState({likeNumber:r.likeCount,dislikeNumber:r.dislikeCount,likeState:r.likeState}),[2]}})})},t.prototype.like=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e="#like"+this.props.postid,t="#dislike"+this.props.postid,1!==this.state.likeState?[3,2]:[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 1:return n.sent(),c(e).css("color","black"),[3,7];case 2:return 2!==this.state.likeState?[3,5]:[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 3:return n.sent(),[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 4:return n.sent(),c(e).css("color","red"),c(t).css("color","black"),[3,7];case 5:return[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 6:n.sent(),c(e).css("color","red"),n.label=7;case 7:return[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 8:return r=n.sent(),this.setState({likeNumber:r.likeCount,dislikeNumber:r.dislikeCount,likeState:r.likeState}),[2]}})})},t.prototype.dislike=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e="#like"+this.props.postid,t="#dislike"+this.props.postid,2!==this.state.likeState?[3,2]:[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 1:return n.sent(),c(t).css("color","black"),[3,7];case 2:return 1!==this.state.likeState?[3,5]:[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 3:return n.sent(),[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 4:return n.sent(),c(e).css("color","black"),c(t).css("color","red"),[3,7];case 5:return[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 6:n.sent(),c(t).css("color","red"),n.label=7;case 7:return[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 8:return r=n.sent(),this.setState({likeNumber:r.likeCount,dislikeNumber:r.dislikeCount,likeState:r.likeState}),[2]}})})},t.prototype.render=function(){var e="like"+this.props.postid,t="dislike"+this.props.postid,r="doc-content"+this.props.postid,n=s.createElement(u.UbbContainer,{code:this.props.content}),o=s.createElement("div",{id:r},s.createElement("textarea",{name:"editormd-markdown-doc",style:{display:"none"}},this.props.content));editormd.markdownToHTML(r,{htmlDecode:"style,script,iframe",emoji:!0,taskList:!0,tex:!0,flowChart:!0,sequenceDiagram:!0,codeFold:!0});var a;return a=n,1===this.props.contentType&&(a=o),""==this.props.signature?s.createElement("div",{className:"root",style:{marginTop:"-170px"}},s.createElement("div",{className:"reply-content"},s.createElement("div",{className:"substance"},a),s.createElement("div",{className:"comment1"},s.createElement("div",{id:e,className:"upup",style:{marginRight:"0.7rem"}},s.createElement("i",{title:"赞",onClick:this.like.bind(this),className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:t,className:"downdown"},s.createElement("i",{title:"踩",onClick:this.dislike.bind(this),className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike"}," ",s.createElement("div",{className:"commentbutton"},"   评分"))))):s.createElement("div",{className:"root",style:{marginTop:"-170px"}},s.createElement("div",{className:"reply-content"},s.createElement("div",{className:"substance"},a),s.createElement("div",{className:"comment"},s.createElement("div",{id:e,className:"upup",style:{marginRight:"0.7rem"}},s.createElement("i",{title:"赞",onClick:this.like.bind(this),className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:t,className:"downdown"},s.createElement("i",{title:"踩",onClick:this.dislike.bind(this),className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike"}," ",s.createElement("div",{className:"commentbutton"},"   评分"))),s.createElement("div",{className:"signature"},s.createElement(u.UbbContainer,{code:this.props.signature}))))},t}(p);t.ReplyContent=_;var T=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={userName:"Mana",grade:10,reward:20,credit:"6666炒鸡赞",imgUrl:"/images/authorImg.jpg"},n}return n(t,e),t.prototype.render=function(){return s.createElement("div",{className:"good tagSize"},s.createElement("div",{id:"userImage"},s.createElement("img",{src:this.state.imgUrl})," "),s.createElement("div",{id:"userName"},s.createElement("span",null,this.state.userName)),s.createElement("div",{id:"grades"},s.createElement("span",null,"评分 "),s.createElement("span",{id:"grade"},"+",this.state.grade)),s.createElement("div",{id:"reward"},s.createElement("span",null,"赏金 "),s.createElement("span",{id:"money"},this.state.reward),s.createElement("span",null,"论坛币")),s.createElement("div",{id:"credit"},s.createElement("span",null,this.state.credit)))},t}(p);t.TopicGood=T;var k=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={option:"我认为他说的很对",votes:60,totalVotes:220,voted:!1},n}return n(t,e),t.prototype.render=function(){return s.createElement("div",{className:"vote"},s.createElement("div",{className:"row"},s.createElement("input",{id:"checkbox",type:"checkbox"})," ",s.createElement("span",{id:"option1",style:{marginLeft:"0.9375rem"}},this.state.option," ")),s.createElement("div",{className:"row",style:{alignItems:"center"}},s.createElement("div",{className:"progress"},s.createElement("div",{className:"voteResult"})),s.createElement("span",{style:{marginLeft:"0.9375rem"}},this.state.votes),s.createElement("span",null," (",this.state.votes/this.state.totalVotes*100,"%)")),s.createElement("div",{style:{marginLeft:"1.25rem"}},this.state.voted?s.createElement("span",null,"你已经投过票啦"):s.createElement("button",{className:"operation"},"投票")))},t}(p);t.TopicVote=k;var C=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={pager:[1,2,3,4,5]},n}return n(t,e),t.prototype.generatePageLink=function(e){return s.createElement(P,{pageNumber:e,topicid:this.props.topicid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this))))},t}(p);t.TopicPager=C;var x=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={pager:[1,2,3,4,5]},n}return n(t,e),t.prototype.generatePageLink=function(e){return s.createElement(P,{pageNumber:e,topicid:this.props.topicid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{className:"row",style:{width:"100%",justifyContent:"space-between",alignItems:"flex-end"}},s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(p);t.TopicPagerDown=x;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e;return this.props.pageNumber>0?(e="/topic/"+this.props.topicid+"/"+this.props.pageNumber,this.props.pageNumber!=this.props.curPage?s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},this.props.pageNumber)):s.createElement("li",{className:"page-item active"},s.createElement(l.Link,{className:"page-link",to:e},this.props.pageNumber))):-1==this.props.pageNumber?(e="/topic/"+this.props.topicid+"/"+(this.props.curPage-1),s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"‹"))):-2==this.props.pageNumber?(e="/topic/"+this.props.topicid+"/"+(this.props.curPage+1),s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"›"))):-3==this.props.pageNumber?(e="/topic/"+this.props.topicid,s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"‹‹"))):(e="/topic/"+this.props.topicid+"/"+this.props.totalPage,s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"››")))},t}(s.Component);t.PageModel=P;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return s.createElement("div",{id:"userMessageBox"},this.props.userName)},t}(s.Component);t.UserMessageBox=S;var O=function(e){function t(t){var r=e.call(this,t)||this;return r.state={content:""},r}return n(t,e),t.prototype.sendUbbTopic=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s;return a(this,function(a){switch(a.label){case 0:return e="http://apitest.niconi.cc/post/topic/"+this.props.topicid,t={content:this.state.content,contentType:0,title:""},r=JSON.stringify(t),n=i.getLocalStorage("accessToken"),o=new Headers,o.append("Authorization",n),o.append("Content-Type","application/json"),[4,fetch(e,{method:"POST",headers:o,body:r})];case 1:return s=a.sent(),this.props.onChange(),this.setState({content:""}),[2]}})})},t.prototype.sendMdTopic=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,c,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e="http://apitest.niconi.cc/post/topic/"+this.props.topicid,t=testEditor.getMarkdown(),r={content:t,contentType:1,title:""},n=JSON.stringify(r),o=i.getLocalStorage("accessToken"),s=new Headers,s.append("Authorization",o),s.append("Content-Type","application/json"),[4,fetch(e,{method:"POST",headers:s,body:n})];case 1:return c=a.sent(),402===c.status&&alert("请输入内容"),testEditor.setMarkdown(""),this.props.onChange(),this.setState({content:""}),[3,3];case 2:return l=a.sent(),console.log("Error"),console.log(l),[3,3];case 3:return[2]}})})},t.prototype.getInitialState=function(){return{value:""}},t.prototype.handleChange=function(e){this.setState({content:e.target.value})},t.prototype.render=function(){return editormd("test-editormd",{width:"100%",height:640,path:"/scripts/lib/editor.md/lib/",saveHTMLToTextarea:!1}),s.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},s.createElement("div",{id:"sendTopic"},s.createElement("form",null,s.createElement("div",{id:"test-editormd",className:"editormd"},s.createElement("textarea",{className:"editormd-markdown-textarea",name:"test-editormd-markdown-doc",value:this.state.content}))),s.createElement("div",{className:"row",style:{justifyContent:"center",marginBottom:"1.25rem "}},s.createElement("div",{id:"post-topic-button",onClick:this.sendMdTopic.bind(this),className:"button blue",style:{marginTop:"1.25rem",width:"4.5rem",letterSpacing:"0.3125rem"}},"回复"))),s.createElement("div",{id:"sendTopic"},s.createElement("div",{id:"sendTopic-options"},s.createElement("ul",{className:"editor__menu clearfix",id:"wmd-button-row"},s.createElement("li",{title:"加粗 <strong> Ctrl+B",className:"wmd-button",id:"wmd-bold-button"},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"0px 0px"}})),s.createElement("li",{title:"斜体 <em> Ctrl+I",className:"wmd-button",id:"wmd-italic-button",style:{left:" 25px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:" -20px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer1"}),s.createElement("li",{title:"链接 <a> Ctrl+L",className:"wmd-button",id:"wmd-link-button",style:{left:"75px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-40px 0px"}})),s.createElement("li",{title:"引用 <blockquote> Ctrl+Q",className:"wmd-button",id:"wmd-quote-button",style:{left:" 100px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-60px 0px"}})),s.createElement("li",{title:"代码 <pre><code> Ctrl+K",className:"wmd-button",id:"wmd-code-button",style:{left:" 125px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-80px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer2"}),s.createElement("li",{title:"图片 <img> Ctrl+G",className:"wmd-button",id:"wmd-image-button",style:{left:"150px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-100px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer2"}),s.createElement("li",{title:"数字列表 <ol> Ctrl+O",className:"wmd-button",id:"wmd-olist-button",style:{left:" 200px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-120px 0px"}})),s.createElement("li",{title:"普通列表 <ul> Ctrl+U",className:"wmd-button",id:"wmd-ulist-button",style:{left:"225px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:" -140px 0px"}})),s.createElement("li",{title:"标题 <h1>/<h2> Ctrl+H",className:"wmd-button",id:"wmd-heading-button",style:{left:"250px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-160px 0px"}})),s.createElement("li",{title:"分割线 <hr> Ctrl+R",className:"wmd-button",id:"wmd-hr-button",style:{left:"275px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-180px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer3"}),s.createElement("li",{title:"撤销 - Ctrl+Z",className:"wmd-button",id:"wmd-undo-button",style:{left:"325px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-200px 0px"}})),s.createElement("li",{title:"重做 - Ctrl+Y",className:"wmd-button",id:"wmd-redo-button",style:{left:"350px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-220px -20px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer4"}),s.createElement("li",{title:"Markdown 语法",className:"wmd-button",id:"wmd-help-button",style:{left:" 400px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-300px 0px"}})))),s.createElement("form",null,s.createElement("div",null,s.createElement("textarea",{id:"sendTopic-input",name:"sendTopic-input",value:this.state.content,onChange:this.handleChange.bind(this)})))),s.createElement("div",{className:"row",style:{justifyContent:"center",marginBottom:"1.25rem "}},s.createElement("div",{id:"post-topic-button",onClick:this.sendUbbTopic.bind(this),className:"button blue",style:{marginTop:"1.25rem",width:"4.5rem",letterSpacing:"0.3125rem"}},"回复")))},t}(p);t.SendTopic=O},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1),c=r(3),l=r(59),u=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),Object.defineProperty(t.prototype,"match",{get:function(){return this.props.match},enumerable:!0,configurable:!0}),t}(s.Component);t.RouteComponent=u;var p=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={page:1,topicid:n.match.params.topicid,totalPage:1,userId:559244},n}return n(t,e),t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){switch(o.label){case 0:return t=e.match.params.page?parseInt(e.match.params.page):1,r=e.match.params.userId,[4,this.getTotalPage.bind(this)(this.match.params.topicid)];case 1:return n=o.sent(),console.log("kk"+e.match.params.userId),this.setState({page:t,topicid:e.match.params.topicid,totalPage:n,userId:e.match.params.userId}),[2]}})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e=this.match.params.page?parseInt(this.match.params.page):1,[4,this.getTotalPage.bind(this)(this.match.params.topicid)];case 1:return t=n.sent(),r=this.match.params.userId,console.log("this"+r),this.setState({page:e,topicid:this.match.params.topicid,totalPage:t,userId:r}),[2]}})})},t.prototype.getTotalPage=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,i.getCurUserTotalReplyPage(e,this.match.params.userId,this.context.router)];case 1:return[2,t.sent()]}})})},t.prototype.render=function(){var e=null;return 1==this.state.page&&(e=s.createElement(l.PostTopic,{imgUrl:"/images/ads.jpg",page:this.state.page,topicid:this.state.topicid,userId:this.state.userId})),s.createElement("div",{className:"center",style:{width:"80%"}},s.createElement(d,{userId:this.state.userId,page:this.state.page,topicid:this.state.topicid,totalPage:this.state.totalPage}),e,s.createElement(c.Route,{path:"/topic/:topicid/user/:userId/:page?",component:m}),s.createElement(f,{userId:this.state.userId,page:this.state.page,topicid:this.state.topicid,totalPage:this.state.totalPage}))},t}(u);t.CurUserPost=p;var m=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={contents:[]},n}return n(t,e),t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,s,c,l;return a(this,function(a){switch(a.label){case 0:return t=e.match.params.page||1,r="TopicContent_"+e.match.params.topicid+"_"+t,o="http://apitest.niconi.cc/user/"+e.match.params.userId,[4,fetch(o)];case 1:return s=a.sent(),[4,s.json()];case 2:return c=a.sent(),l=c.name,[4,i.getCurUserTopicContent(e.match.params.topicid,t,l,e.match.params.userId,this.context.router)];case 3:return n=a.sent(),this.setState({contents:n}),[2]}})})},t.prototype.generateContents=function(e){return s.createElement("div",{className:"reply"},s.createElement("div",{style:{marginTop:"1rem",marginBotton:"0.3125rem",border:"#EAEAEA solid thin"}},s.createElement(l.Replier,{key:e.postid,isAnonymous:e.isAnonymous,userId:e.userId,topicid:e.topicId,userName:e.userName,replyTime:e.time,floor:e.floor,userImgUrl:e.userImgUrl,sendTopicNumber:e.sendTopicNumber,privilege:e.privilege}),s.createElement(l.ReplyContent,{key:e.content,content:e.content,signature:e.signature,topicid:e.topicId,postid:e.postid,contentType:e.contentType})))},t.prototype.render=function(){return s.createElement("div",{className:"center",style:{width:"100%"}},this.state.contents.map(this.generateContents))},t}(u);t.Reply=m;var d=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={pager:[1,2,3,4,5]},n}return n(t,e),t.prototype.generatePageLink=function(e){return s.createElement(h,{userId:this.props.userId,pageNumber:e,topicid:this.props.topicid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){return t=i.getPager(e.page,e.totalPage),console.log("new="+e.userId),this.setState({pager:t}),[2]})})},t.prototype.render=function(){return s.createElement("div",{className:"row",style:{width:"1140px",height:"50px",marginTop:"15px",justifyContent:"space-between",borderBottom:" #EAEAEA solid thin",alignItems:"flex-end"}},s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(u);t.TopicPager=d;var h=function(e){function t(t){var r=e.call(this,t)||this;return r.state={userName:""},r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return[4,fetch("http://apitest.niconi.cc/user/"+this.props.userId)];case 1:return e=n.sent(),console.log("cc"+this.props.userId),[4,e.json()];case 2:return t=n.sent(),r=t.name,this.setState({userName:r}),[2]}})})},t.prototype.render=function(){if(this.props.pageNumber>0){var e="/topic/"+this.props.topicid+"/user/"+this.props.userId+"/"+this.props.pageNumber;return this.props.pageNumber!=this.props.curPage?s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},this.props.pageNumber)):s.createElement("li",{className:"page-item active"},s.createElement(c.Link,{className:"page-link",to:e},this.props.pageNumber))}if(-1==this.props.pageNumber){var e="/topic/"+this.props.topicid+"/user/"+this.props.userId+"/"+(this.props.curPage-1);return s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},"<"))}if(-2==this.props.pageNumber){var e="/topic/"+this.props.topicid+"/user/"+this.props.userId+"/"+(this.props.curPage+1);return s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},">"))}if(-3==this.props.pageNumber){var e="/topic/"+this.props.topicid+"/user/"+this.props.userId+"/1";return s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},"<<"))}var e="/topic/"+this.props.topicid+"/user/"+this.props.userId+"/"+this.props.totalPage;return s.createElement("li",{className:"page-item"},s.createElement(c.Link,{className:"page-link",to:e},">>"))},t}(s.Component);t.PageModel=h;var f=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={pager:[1,2,3,4,5]},n}return n(t,e),t.prototype.generatePageLink=function(e){return s.createElement(h,{userId:this.props.userId,pageNumber:e,topicid:this.props.topicid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{className:"row",style:{width:"100%",justifyContent:"space-between",alignItems:"flex-end"}},s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(u);t.TopicPagerDown=f},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(5),c=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.state={thisBoardState:[]},r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,o;return a(this,function(a){switch(a.label){case 0:return e=[],t=[],c.getStorage("board_2")?[3,3]:[4,fetch("http://apitest.niconi.cc/Board/Root")];case 1:return r=a.sent(),[4,r.json()];case 2:for(n=a.sent(),o=0;o<20;o++)t[o]=new i.Board(n[o].name,n[o].todayCount,n[o].postCount,n[o].id,n[o].boardMastersString),c.setStorage("board_"+n[o].id.toString(),t[o]),e[o]="board_"+n[o].id.toString();return c.setStorage("boardList",e),[3,4];case 3:for(e=c.getStorage("boardList"),o=0;o<20;o++)t[o]=c.getStorage(e[o]);a.label=4;case 4:return this.setState({thisBoardState:t}),[2]}})})},t.prototype.generateRootBoard=function(e){return s.createElement(u,{board:e})},t.prototype.render=function(){return s.createElement("div",{className:"boardList"},this.state.thisBoardState.map(this.generateRootBoard))},t}(s.Component);t.BoardList=l;var u=function(e){function t(t){var r=e.call(this,t)||this,n=r.props.board;return 2===n.id||29===n.id||35===n.id||37===n.id?r.state={isExpanded:!1}:r.state={isExpanded:!0},r.toggleIsExpanded=r.toggleIsExpanded.bind(r),r}return n(t,e),t.prototype.toggleIsExpanded=function(){this.setState(function(e){return{isExpanded:!e.isExpanded}})},t.prototype.render=function(){var e=this.state.isExpanded?"flex":"none",t=this.state.isExpanded?"-":"+",r=this.props.board;return 758===r.id?s.createElement("div",{className:"anArea"},s.createElement("div",{className:"column",style:{border:"2px solid #e9e9e9"}},s.createElement("div",{className:"row",style:{marginTop:"15px",marginBottom:"15px"}},s.createElement("div",{className:"areaName"},s.createElement("a",{href:"/list/758"},r.name)),s.createElement("div",{className:"areaName"},"主管：",r.masters)))):s.createElement("div",{className:"anArea"},s.createElement("div",{className:"column",style:{border:"2px solid #e9e9e9"}},s.createElement("div",{className:"row",style:{marginTop:"15px",marginBottom:"15px"}},s.createElement("div",{className:"areaName"},r.name),s.createElement("div",{className:"areaName"},"主管：",r.masters),s.createElement("div",{className:"hideBoard",onClick:this.toggleIsExpanded}," ",t)),s.createElement("div",{className:"hiddenContent",style:{display:e}}," ",s.createElement(p,{boardid:r.id}))))},t}(s.Component);t.RootBoard=u;var p=function(e){function t(t){var r=e.call(this,t)||this;return r.state={thisBoardState:[]},r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r,n;return a(this,function(o){switch(o.label){case 0:return e=[],[4,fetch("http://apitest.niconi.cc/Board/"+this.props.boardid+"/Sub")];case 1:return t=o.sent(),[4,t.json()];case 2:for(r=o.sent(),n=0;n<r.length;n++)e[n]=new i.Board(r[n].name,r[n].todayCount,r[n].postCount,r[n].id,r[n].masters);return this.setState({thisBoardState:e}),[2]}})})},t.prototype.convertChildBoard=function(e){return s.createElement("div",{className:"boardContent"},s.createElement("a",{href:"/list/"+e.id},s.createElement("div",{className:"greenBackdrop"})),s.createElement("a",{href:"/list/"+e.id},s.createElement("div",{className:"boardName2"},e.name)),s.createElement("div",{className:"boardInfo"},"今日发帖 ",e.todayPostCount," / 总主题数 ",e.totalPostCount))},t.prototype.convertNoImgChildBoard=function(e){return s.createElement("div",{className:"noImgBoardContent"},s.createElement("a",{href:"/list/"+e.id},s.createElement("div",{className:"boardName2"},e.name)))},t.prototype.render=function(){return 2===this.props.boardid||29===this.props.boardid||35===this.props.boardid||37===this.props.boardid?s.createElement("div",{className:"areaContent"},this.state.thisBoardState.map(this.convertNoImgChildBoard)):s.createElement("div",{className:"areaContent"},this.state.thisBoardState.map(this.convertChildBoard))},t}(s.Component);t.ChildBoard=p},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(3),s=r(60),i=r(61),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"user-center"},o.createElement("div",{className:"user-center-content"},o.createElement("div",{className:"user-center-head"},o.createElement("p",null,"个人中心")),o.createElement(a.BrowserRouter,null,o.createElement("div",{className:"user-center-body"},o.createElement(s.UserCenterNavigation,null),o.createElement(i.UserCenterRouter,null)))))},t}(o.Component);t.UserCenter=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(64),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"user-activities"},o.createElement("p",null,"近期动态"),o.createElement(a.UserCenterExactActivitiesPosts,null))},t}(o.Component);t.UserCenterExactActivities=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"user-avatar"},o.createElement("img",{className:"user-avatar-img",src:this.props.userAvatarImgURL}),o.createElement("div",{className:"user-badge"}))},t}(o.Component);t.UserCenterExactAvatar=a},function(e,t,r){"use strict";function n(e){$(".message-nav > div").removeClass("message-nav-focus"),$(e).addClass("message-nav-focus")}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=r(66),i=r(71),c=r(72),l=r(73),u=r(3),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return a.createElement("div",{className:"message-root"},a.createElement("div",{className:"message"},a.createElement("div",{className:"message-title"},"我的消息"),a.createElement(u.BrowserRouter,null,a.createElement("div",{className:"message-content"},a.createElement("div",{className:"message-nav"},a.createElement("div",{id:"response"},a.createElement(u.NavLink,{to:"/message/response"},"回复我的")),a.createElement("div",{id:"attme"},a.createElement(u.NavLink,{to:"/message/attme"},"@我的")),a.createElement("div",{id:"likes"},a.createElement(u.NavLink,{to:"/message/likes"},"收到的赞")),a.createElement("div",{id:"system"},a.createElement(u.NavLink,{to:"/message/system"},"系统通知")),a.createElement("div",{id:"message"},a.createElement(u.NavLink,{to:"/message/message"},"我的私信"))),a.createElement(u.Route,{path:"/message/response",component:i.MessageResponse}),a.createElement(u.Route,{path:"/message/attme",component:c.MessageAttme}),a.createElement(u.Route,{path:"/message/likes",component:m}),a.createElement(u.Route,{path:"/message/system",component:l.MessageSystem}),a.createElement(u.Route,{path:"/message/message",component:s.MessageMessage})))))},t}(a.Component);t.Message=p,t.changeNav=n;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return n("#likes"),a.createElement("div",null,"这里是我收到的赞")},t}(a.Component);t.Likes=m},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(74),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"focus-root"},o.createElement("div",{className:"focus"},o.createElement("div",{className:"focus-allNewTopic"},o.createElement("i",{className:"fa fa-home","aria-hidden":"true"}),"首页/全站新帖"),o.createElement(a.AllNewTopicArea,null)))},t}(o.Component);t.AllNewTopic=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e="/topic/"+this.props.id,t="/list/"+this.props.boardId;return o.createElement("div",{className:"focus-topic"},o.createElement(s,{userId:this.props.userId,portraitUrl:this.props.portraitUrl}),o.createElement("div",{className:"focus-topic-info1"},o.createElement("div",{className:"focus-topic-authorInfo"},o.createElement("div",{className:"focus-topic-blackText"},this.props.userName),o.createElement("div",{className:"focus-topic-redText"},this.props.fanCount),o.createElement("div",{className:"focus-topic-blackText"},"粉丝")),o.createElement("div",{className:"focus-topic-title"},o.createElement("a",{href:e,target:"_blank"},this.props.title))),o.createElement("div",{className:"focus-topic-info2"},o.createElement("div",{className:"focus-topic-board"},o.createElement("a",{href:t,target:"_blank"},this.props.boardName),"  /  ",moment(this.props.time).format("YYYY-MM-DD HH:mm:ss")),o.createElement("div",{className:"focus-topic-response"},o.createElement("div",null,o.createElement("i",{className:"fa fa-thumbs-o-up","aria-hidden":"true"}),this.props.likeCount),o.createElement("div",null,o.createElement("i",{className:"fa fa-commenting-o","aria-hidden":"true"}),this.props.replyCount),o.createElement("div",null,o.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}),this.props.hitCount))))},t}(o.Component);t.FocusTopicSingle=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){if(this.props.userId){var e="/user/"+this.props.userId;return o.createElement("a",{href:e,target:"_blank"},o.createElement("img",{className:"focus-topic-portraitUrl",src:this.props.portraitUrl}))}return o.createElement("img",{className:"focus-topic-portraitUrl",src:this.props.portraitUrl})},t}(o.Component);t.PortaritrUrl=s;var i=function(){function e(){}return e}();t.PortaritrUrlProps=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(75),s=r(77),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"focus-root"},o.createElement("div",{className:"focus"},o.createElement("div",{className:"focus-title"},"我的关注版面"),o.createElement(a.FocusBoardArea,null),o.createElement(s.FocusTopicArea,null)))},t}(o.Component);t.Focus=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1),c=r(6),l=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={userName:"载入中……",userImgUrl:"/images/unLoggedOn.png"},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r,n;return a(this,function(o){switch(o.label){case 0:return i.getLocalStorage("accessToken")?(console.log("token未过期"),e=i.getLocalStorage("userName"),[4,fetch("http://apitest.niconi.cc/User/Name/"+e)]):[3,3];case 1:return t=o.sent(),[4,t.json()];case 2:return r=o.sent(),n=r.portraitUrl,this.setState({userName:e,userImgUrl:n}),[3,4];case 3:i.getLocalStorage("userName")&&(console.log("token已过期，正在重新获取"),this.reLogOn()),o.label=4;case 4:return[2]}})})},t.prototype.reLogOn=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,l,u,p,m;return a(this,function(a){switch(a.label){case 0:return e="https://openid.cc98.org/connect/token",t={client_id:"9a1fd200-8687-44b1-4c20-08d50a96e5cd",client_secret:"8b53f727-08e2-4509-8857-e34bf92b27f2",grant_type:"password",username:i.getLocalStorage("userName"),password:i.getLocalStorage("password"),scope:"cc98-api openid"},r=new Headers,r.append("Content-Type","application/x-www-form-urlencoded"),[4,fetch(e,{method:"POST",headers:r,body:c.param(t)})];case 1:return n=a.sent(),200!==n.status&&(console.log("自动刷新token失败，请重新登录"),this.logOff()),[4,n.json()];case 2:return o=a.sent(),s="Bearer "+encodeURIComponent(o.access_token),i.setLocalStorage("accessToken",s,o.expires_in),console.log("刷新token成功"),l=i.getLocalStorage("userName"),[4,fetch("http://apitest.niconi.cc/User/Name/"+l)];case 3:return u=a.sent(),[4,u.json()];case 4:return p=a.sent(),m=p.portraitUrl,this.setState({userName:l,userImgUrl:m}),[2]}})})},t.prototype.catch=function(e){console.log("Oops, error",e),console.log("自动刷新token失败，请重新登录"),this.logOff()},t.prototype.logOff=function(){i.removeLocalStorage("accessToken"),console.log("after remove token="+i.getLocalStorage("accessToken")),i.removeLocalStorage("userName"),i.removeLocalStorage("password"),i.removeLocalStorage("userInfo"),i.removeStorage("focusBoardList"),i.removeStorage("focusBoardTopic"),i.removeStorage("recentContact"),location=window.location},t.prototype.render=function(){return i.getLocalStorage("accessToken")&&i.getLocalStorage("userName")?(c(document).ready(function(){var e=c(".userInfo").eq(0),t=c(".dropDownSub").eq(0),r=t.find("li");e.hover(function(){t.slideDown("fast")},function(){t.css("display","none")}),t.hover(function(){t.css("display","block")},function(){t.slideUp("fast")}),r.mouseover(function(){this.className="hover"}),r.mouseout(function(){this.className=""})}),s.createElement("div",{id:"dropdown"},s.createElement("div",{className:"box"},s.createElement("div",{className:"userInfo"},s.createElement("div",{className:"userImg"},s.createElement("img",{src:this.state.userImgUrl})),s.createElement("div",{className:"userName"},this.state.userName)),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/",style:{color:"#fff"}},"首页")),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/focus",style:{color:"#fff"}},"关注")),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/newTopics",style:{color:"#fff"}},"新帖")),s.createElement("a",{href:"/boardList"},s.createElement("div",{className:"boardListLink",style:{margin:"0 0 0 10px"}},s.createElement("div",{style:{marginTop:"16px",color:"#fff"}},"版面")))),s.createElement("div",{className:"dropDownSubBox"},s.createElement("ul",{className:"dropDownSub"},s.createElement("a",{href:"/userCenter"}," ",s.createElement("li",null,"个人中心")),s.createElement("a",{href:"/message"},s.createElement("li",null,"消息")),s.createElement("li",{onClick:this.logOff},"注销"))))):s.createElement("div",{id:"dropdown"},s.createElement("div",{className:"box"},s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/",style:{color:"#fff"}},"首页")),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/logOn",style:{color:"#fff"}},"登录")),s.createElement("div",{className:"topBarText",style:{margin:"0 10px 0 10px"}},s.createElement("a",{href:"/newTopics",style:{color:"#fff"}},"新帖")),s.createElement("a",{href:"/boardList"},s.createElement("div",{className:"boardListLink",style:{margin:"0 0 0 10px"}},s.createElement("div",{style:{marginTop:"16px",color:"#fff"}},"版面")))))},t}(s.Component);t.DropDown=l;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return c(document).ready(function(){var e=c(".searchBoxSelect"),t=c(".downArrow"),r=c(".searchBoxSub"),n=r.find("li");c(document).click(function(){r.css("display","none")}),e.click(function(){return"block"===r.css("display")?r.css("display","none"):r.css("display","block"),!1}),t.click(function(){return"block"===r.css("display")?r.css("display","none"):r.css("display","block"),!1}),n.click(function(){e.text(c(this).text())}),n.mouseover(function(){this.className="hover"}),n.mouseout(function(){this.className=""})}),s.createElement("div",{id:"search"},s.createElement("div",{className:"box"},s.createElement("div",{className:"searchBoxSelect"},"主题"),s.createElement("div",{className:"downArrow"},s.createElement("img",{src:"/images/downArrow.png",width:"12",height:"12"})),s.createElement("input",{name:"searchText",type:"text",placeholder:"猜猜能搜到什么..."}),s.createElement("div",{className:"fangdajing"},s.createElement("img",{src:"/images/fangdajing.ico",width:"15",height:"15"}))),s.createElement("ul",{className:"searchBoxSub"},s.createElement("li",null,"版面"),s.createElement("li",null,"主题"),s.createElement("li",null,"用户")))},t}(s.Component);t.Search=u;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return s.createElement("div",{className:"header"},s.createElement("div",{className:"topBar"},s.createElement("div",{className:"topBarRow"},s.createElement("div",{className:"row"},s.createElement("div",{style:{margin:"10px 0 0 0"}},s.createElement("a",{href:"/"},s.createElement("img",{src:"/images/矢量智能对象.ico"}))),s.createElement("div",{style:{margin:"15px 0 0 5px"}},s.createElement("a",{href:"/"},s.createElement("img",{src:"/images/CC98.ico"})))),s.createElement(l,null))),s.createElement("div",{className:"headerContent"},s.createElement("div",{className:"headerRow"},s.createElement("div",{className:"linkBar"},s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/网盘.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://share.cc98.org/",className:"linkText"},"网盘"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/游戏.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://www.cc98.org/game.asp",className:"linkText"},"游戏"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/勋章.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://v2.cc98.org/app/medalmanager.aspx",className:"linkText"},"勋章"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/抽卡.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://card.cc98.org/",className:"linkText"},"抽卡"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/gamble.ico",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://gaming.cc98.org",className:"linkText"},"竞猜"))),s.createElement("div",{className:"row",style:{margin:"0 10px 0 10px"}},s.createElement("div",{style:{margin:"3px 10px 0 0"}},s.createElement("img",{src:"/images/NexusHD.jpg",width:"15",height:"15"})),s.createElement("div",null,s.createElement("a",{href:"http://www.nexushd.org",className:"linkText"},"NexusHD")))),s.createElement(u,null))))},t}(s.Component);t.Header=p},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"footer"},o.createElement("div",{className:"column"},o.createElement("div",{className:"footerRow"},o.createElement("div",{style:{marginRight:"15px",color:"#000"}},"友情链接"),o.createElement("a",{href:"http://www.zju.edu.cn/"},"浙江大学"),"|",o.createElement("a",{href:"http://www.cs.zju.edu.cn/"},"浙江大学计算机学院"),"|",o.createElement("a",{href:"http://www.zju88.org/agent/index.do"},"飘渺水云间"),"|",o.createElement("a",{href:"http://www.qsc.zju.edu.cn/"},"求是潮"),"|",o.createElement("a",{href:"http://luckweb.057101.com/bt2/index.asp"},"缘网"),"|",o.createElement("a",{href:"http://www.nexushd.org/login.php"},"NexusHD"),"|",o.createElement("a",{href:"https://www.zdgd.zju.edu.cn/"},"浙江大学广播电视网"),"|",o.createElement("a",{href:"http://zy.zju.edu.cn/"},"浙大搜索")),o.createElement("div",{className:"footerRow"},"Copyright © 2003-2017 CC98 Network Association. Email: contact@cc98.org",o.createElement("a",{href:"http://www.cc98.org/onlineshow.asp"}," 论坛统计"))))},t}(o.Component);t.Footer=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(6),c=r(1),l=r(4),u=function(e){function t(t){var r=e.call(this,t)||this;return r.state={announcementContent:"加载中……"},r}return n(t,e),t.prototype.getAnnouncement=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return[4,fetch("http://apitest.niconi.cc/config/global")];case 1:return e=n.sent(),[4,e.json()];case 2:return t=n.sent(),r=t.announcement,[2,r]}})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this.getAnnouncement()];case 1:return e=t.sent(),this.setState({announcementContent:e}),[2]}})})},t.prototype.render=function(){return s.createElement("div",{className:"announcementContent"},s.createElement(l.UbbContainer,{code:this.state.announcementContent}))},t}(s.Component);t.Announcement=u;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return i(document).ready(function(){var e=i(".recommended1Button"),t=i(".recommended1Content"),r=Math.floor(5*Math.random());t.eq(r).css("display","flex"),e.eq(r).css("background-color","rgb(53,177,255)"),e.mouseover(function(){var r=i(this).index();t.css("display","none"),t.eq(r).css("display","flex"),e.css("background-color","rgb(255,255,255)"),e.eq(r).css("background-color","rgb(53,177,255)")})}),s.createElement("div",{className:"recommended1"},s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题1"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要1"))),s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题2"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要2"))),s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题3"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要3"))),s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题4"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要4"))),s.createElement("div",{className:"recommended1Content"},s.createElement("div",{className:"recommended1Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"column"},s.createElement("div",{className:"recommended1Title"},"推荐阅读标题5"),s.createElement("div",{className:"recommended1Abstract"},"推荐阅读摘要5")))),s.createElement("div",{className:"buttonRow"},s.createElement("div",{className:"recommended1Button"}),s.createElement("div",{className:"recommended1Button"}),s.createElement("div",{className:"recommended1Button"}),s.createElement("div",{className:"recommended1Button"}),s.createElement("div",{className:"recommended1Button"})))},t}(s.Component);t.Recommended1=p;var m=function(){function e(e,t,r,n){this.title=e,this.id=t,this.boardName=r,this.boardid=n}return e}();t.MainPageTopic=m;var d=function(e){function t(t){var r=e.call(this,t)||this;return r.state={mainPageTopicState:new Array},r}return n(t,e),t.prototype.getTopicInfo=function(){return o(this,void 0,void 0,function(){var e,t,r,n;return a(this,function(o){switch(o.label){case 0:return e=[],[4,fetch("http://apitest.niconi.cc/Topic/Hot")];case 1:return t=o.sent(),[4,t.json()];case 2:for(r=o.sent(),n=0;n<10;n++)e[n]=new m(r[n].title,r[n].id,r[n].boardName,r[n].boardId);return[2,e]}})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this.getTopicInfo()];case 1:return e=t.sent(),this.setState({mainPageTopicState:e}),[2]}})})},t.prototype.convertMainPageTopic=function(e){var t="/list/"+e.boardid,r="/topic/"+e.id;return s.createElement("div",{className:"listRow"},s.createElement("div",{className:"boardName"}," ",s.createElement("a",{href:t},"[",e.boardName,"]")),s.createElement("div",{className:"topicTitle"},s.createElement("a",{href:r},e.title)))},t.prototype.render=function(){return s.createElement("div",null,this.state.mainPageTopicState.map(this.convertMainPageTopic))},t}(s.Component);t.HotTopicComponent=d;var h=function(e){function t(t){var r=e.call(this,t)||this;return r.state={mainPageTopicState:new Array},r}return n(t,e),t.prototype.getTopicInfo=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s;return a(this,function(a){switch(a.label){case 0:return e=[],t="http://apitest.niconi.cc/Topic/Board/459?from=0&size=10",r=new Headers,r.append("Range","bytes=0-9"),[4,fetch(t,{headers:r})];case 1:return n=a.sent(),[4,n.json()];case 2:for(o=a.sent(),s=0;s<10;s++)e[s]=new m(o[s].title,o[s].id,o[s].boardName,o[s].boardId);return[2,e]}})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this.getTopicInfo()];case 1:return e=t.sent(),this.setState({mainPageTopicState:e}),[2]}})})},t.prototype.convertMainPageTopic=function(e){var t="/topic/"+e.id;return s.createElement("div",{className:"listRow"},s.createElement("div",{className:"topicTitle"},s.createElement("a",{href:t},e.title)))},t.prototype.render=function(){return s.createElement("div",null,this.state.mainPageTopicState.map(this.convertMainPageTopic))},t}(s.Component);t.Shixijianzhi=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.test=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o;return a(this,function(a){switch(a.label){case 0:return e="http://apitest.niconi.cc/topic/test",t=c.getLocalStorage("accessToken"),console.log(t),r=new Headers,r.append("Content-Type","application/x-www-form-urlencoded"),r.append("Authorization",t),[4,fetch(e,{method:"GET",headers:r,body:{token:t}})];case 1:return n=a.sent(),[4,n.json()];case 2:return o=a.sent(),console.log(o),[2]}})})},t.prototype.render=function(){return s.createElement("div",{onClick:this.test},"这里是萌萌的adddna测试的地方~")},t}(s.Component);t.Test=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return s.createElement("div",{className:"mainPage"},s.createElement("div",{className:"leftPart"},s.createElement("div",{className:"announcement"},s.createElement("div",{className:"blueBar1"},s.createElement("div",{className:"listName"},"论坛公告")),s.createElement(u,null)),s.createElement(p,null),s.createElement("div",{className:"row"},s.createElement("div",{className:"list1"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"热门话题"),s.createElement("div",{className:"more"},"更多")),s.createElement("div",{className:"listContent1"},s.createElement(d,null))),s.createElement("div",{className:"list2"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"校园活动"),s.createElement("div",{className:"more"},"更多")),s.createElement("div",{className:"listContent1"},s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"★-----------------------------★")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"首页除了十大之外的部分还没施工好哦")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"其他部分的内容都是乱填哒")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"如果前辈你看不到十大的内容")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"那么可能是你忘了挂RVPN哦")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"★-----------------------------★")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"首页除了十大之外的部分还没施工好哦")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"其他部分的内容都是乱填哒")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"如果前辈你看不到十大的内容")),s.createElement("div",{className:"row"}," ",s.createElement("div",{className:"boardName"},"[提示]"),s.createElement("div",{className:"topicTitle"},"那么可能是你忘了挂RVPN哦"))))),s.createElement("div",{className:"row"},s.createElement("div",{className:"list1"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"学术信息"),s.createElement("div",{className:"more"},"更多")),s.createElement(f,null)),s.createElement("div",{className:"list2"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"最热回复"),s.createElement("div",{className:"more"},"更多")))),s.createElement("div",{className:"row"},s.createElement("div",{className:"list1"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"最新动态"),s.createElement("div",{className:"more"},"更多"))),s.createElement("div",{className:"list2"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"求职广场"),s.createElement("div",{className:"more"},"更多")))),s.createElement("div",{className:"row"},s.createElement("div",{className:"list1"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"实习兼职"),s.createElement("div",{className:"more"},"更多")),s.createElement("div",{className:"listContent1"},s.createElement(h,null))),s.createElement("div",{className:"list2"},s.createElement("div",{className:"blueBar2"},s.createElement("div",{className:"listName"},"失物招领"),s.createElement("div",{className:"more"},"更多"))))),s.createElement("div",{className:"rightPart"},s.createElement("div",{className:"recommended2"},s.createElement("div",{className:"dashedBorder"},s.createElement("div",{className:"heading"},"推荐")),s.createElement("div",{className:"column"},s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"广播台点歌通道")),s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"CC98抽卡游戏")),s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"CC98 share")),s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"推荐阅读投稿")),s.createElement("div",{className:"row"},s.createElement("div",{className:"recommended2Img"},s.createElement("img",{src:"/images/recommended2Img.jpg"})),s.createElement("div",{className:"recommended2Title"},"社团及学生组织用户认证申请")))),s.createElement("div",{className:"ad"},s.createElement("img",{src:"/images/ad.jpg"})),s.createElement("div",{className:"news"},s.createElement("div",{className:"dashedBorder"},s.createElement("div",{className:"heading"},"校园新闻")),s.createElement("div",{className:"newsContent"},s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"),s.createElement("div",{className:"newsText"},"校论坛CC98倒闭啦"))),s.createElement("div",{className:"boardRecommended"},s.createElement("div",{className:"heading"},"版面推荐"),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}),s.createElement("div",{className:"blueBackdrop"}))))},t}(s.Component);t.MainPage=g},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(3),s=r(78),i=r(79),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"user-center"},o.createElement("div",{className:"user-center-content"},o.createElement("div",{className:"user-center-head"},o.createElement("p",null,"用户详情")),o.createElement(a.BrowserRouter,null,o.createElement("div",{className:"user-center-body"},o.createElement(s.UserNavigation,null),o.createElement(i.UserRouter,null)))))},t}(o.Component);t.User=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1),c=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),Object.defineProperty(t.prototype,"match",{get:function(){return this.props.match},enumerable:!0,configurable:!0}),t}(s.Component);t.RouteComponent=c;var l=function(e){function t(t){var r=e.call(this,t)||this;return r.state={topicId:null,title:"",content:"",ready:!1},r}return n(t,e),t.prototype.ready=function(){this.setState({ready:!0})},t.prototype.sendMdTopic=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,s,c,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),t="http://apitest.niconi.cc/topic/board/"+this.match.params.boardId,r={content:e,contentType:1,title:this.state.title},n=JSON.stringify(r),o=i.getLocalStorage("accessToken"),s=new Headers,s.append("Authorization",o),s.append("Content-Type","application/json"),[4,fetch(t,{method:"POST",headers:s,body:n})];case 1:return c=a.sent(),402===c.status&&alert("请输入内容"),[4,c.text()];case 2:return l=a.sent(),window.location.href="/topic/"+l,[3,4];case 3:return u=a.sent(),console.log("Error"),console.log(u),[3,4];case 4:return[2]}})})},t.prototype.sendUbbTopic=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,c;return a(this,function(a){switch(a.label){case 0:return e="http://apitest.niconi.cc/topic/board/"+this.match.params.boardId,t={content:this.state.content,contentType:0,title:this.state.title},r=JSON.stringify(t),n=i.getLocalStorage("accessToken"),o=new Headers,o.append("Authorization",n),o.append("Content-Type","application/json"),[4,fetch(e,{method:"POST",headers:o,body:r})];case 1:return s=a.sent(),[4,s.text()];case 2:return c=a.sent(),window.location.href="/topic/"+c,[2]}})})},t.prototype.onTitleChange=function(e){this.setState({title:e})},t.prototype.onUbbChange=function(e){this.setState({content:e})},t.prototype.render=function(){return s.createElement("div",{className:"column",style:{justifyContent:"center",width:"80%"}},s.createElement("div",{className:"createTopicBoardName"}," 版面名称 > 发表主题"),s.createElement(u,{boardId:this.match.params.boardId,onChange:this.onTitleChange.bind(this)}),s.createElement("div",{className:"createTopicType"},s.createElement("div",{className:"createTopicListName"},"发帖类型"),s.createElement("input",{type:"radio",checked:!0,name:"type",value:"normal"})," 普通",s.createElement("input",{type:"radio",name:"type",value:"academic"})," 学术信息",s.createElement("div",{style:{color:"rgb(255,0,0)"}},"（活动帖和学术贴请选择正确的发帖类型）")),s.createElement("div",{className:"createTopicOption"},s.createElement("div",{className:"createTopicListName"},"选项"),s.createElement("input",{type:"radio",checked:!0,name:"option",value:"all"}),"回复所有人可见",s.createElement("input",{type:"radio",name:"option",value:"host"}),"回复仅楼主可见",s.createElement("input",{type:"radio",name:"option",value:"special"}),"回复仅特定用户可见"),s.createElement(p,{onChange:this.onUbbChange.bind(this)}),s.createElement("div",{id:"post-topic-button",onClick:this.sendUbbTopic.bind(this),className:"button blue",style:{marginTop:"1.25rem",width:"4.5rem",letterSpacing:"0.3125rem",alignSelf:"center"}},"发帖"))},t}(c);t.CreateTopic=l;var u=function(e){function t(t){var r=e.call(this,t)||this;return r.state={title:""},r}return n(t,e),t.prototype.handleTitleChange=function(e){this.props.onChange(e.target.value),this.setState({title:e.target.value})},t.prototype.render=function(){return editormd("test-editormd",{width:"100%",height:500,path:"/scripts/lib/editor.md/lib/",saveHTMLToTextarea:!1}),s.createElement("div",{className:"createTopicTitle"},s.createElement("div",{className:"createTopicListName"},"主题标题"),s.createElement("div",{className:"createTopicListName"},"标签1"),s.createElement("div",{className:"createTopicListName"},"标签2"),s.createElement("form",null,s.createElement("div",null,s.createElement("textarea",{id:"sendTopic-title",name:"sendTopic-input",value:this.state.title,onBlur:this.handleTitleChange.bind(this)}))))},t}(s.Component);t.InputTitle=u;var p=function(e){function t(t){var r=e.call(this,t)||this;return r.state={content:""},r}return n(t,e),t.prototype.handleUbbChange=function(e){this.props.onChange(e.target.value),this.setState({content:e.target.value})},t.prototype.render=function(){return s.createElement("div",{id:"sendTopic"},s.createElement("div",{id:"sendTopic-options"},s.createElement("ul",{className:"editor__menu clearfix",id:"wmd-button-row"},s.createElement("li",{title:"加粗 <strong> Ctrl+B",className:"wmd-button",id:"wmd-bold-button"},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"0px 0px"}})),s.createElement("li",{title:"斜体 <em> Ctrl+I",className:"wmd-button",id:"wmd-italic-button",style:{left:" 25px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:" -20px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer1"}),s.createElement("li",{title:"链接 <a> Ctrl+L",className:"wmd-button",id:"wmd-link-button",style:{left:"75px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-40px 0px"}})),s.createElement("li",{title:"引用 <blockquote> Ctrl+Q",className:"wmd-button",id:"wmd-quote-button",style:{left:" 100px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-60px 0px"}})),s.createElement("li",{title:"代码 <pre><code> Ctrl+K",className:"wmd-button",id:"wmd-code-button",style:{left:" 125px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-80px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer2"}),s.createElement("li",{title:"图片 <img> Ctrl+G",className:"wmd-button",id:"wmd-image-button",style:{left:"150px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-100px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer2"}),s.createElement("li",{title:"数字列表 <ol> Ctrl+O",className:"wmd-button",id:"wmd-olist-button",style:{left:" 200px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-120px 0px"}})),s.createElement("li",{title:"普通列表 <ul> Ctrl+U",className:"wmd-button",id:"wmd-ulist-button",style:{left:"225px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:" -140px 0px"}})),s.createElement("li",{title:"标题 <h1>/<h2> Ctrl+H",className:"wmd-button",id:"wmd-heading-button",style:{left:"250px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-160px 0px"}})),s.createElement("li",{title:"分割线 <hr> Ctrl+R",className:"wmd-button",id:"wmd-hr-button",style:{left:"275px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-180px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer3"}),s.createElement("li",{title:"撤销 - Ctrl+Z",className:"wmd-button",id:"wmd-undo-button",style:{left:"325px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-200px 0px"}})),s.createElement("li",{title:"重做 - Ctrl+Y",className:"wmd-button",id:"wmd-redo-button",style:{left:"350px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-220px -20px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer4"}),s.createElement("li",{title:"Markdown 语法",className:"wmd-button",id:"wmd-help-button",style:{left:" 400px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-300px 0px"}})))),s.createElement("form",null,s.createElement("div",null,s.createElement("textarea",{id:"sendTopic-input",name:"sendTopic-input",value:this.state.content,onChange:this.handleUbbChange.bind(this)}))),s.createElement("div",{className:"row",style:{justifyContent:"center",marginBottom:"1.25rem "}}))},t}(s.Component);t.InputUbbContent=p;var m=function(e){function t(t){var r=e.call(this,t)||this;return r.state={content:""},r}return n(t,e),t.prototype.send=function(){var e=testEditor.getMarkdown();console.log("content"+e),this.props.onChange(e)},t.prototype.render=function(){return editormd("test-editormd",{width:"100%",height:680,path:"/scripts/lib/editor.md/lib/",saveHTMLToTextarea:!1}),s.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},s.createElement("div",{id:"sendTopic"},s.createElement("form",null,s.createElement("div",{id:"test-editormd",className:"editormd"},s.createElement("textarea",{className:"editormd-markdown-textarea",name:"test-editormd-markdown-doc"}))),s.createElement("div",{className:"row",style:{justifyContent:"center",marginBottom:"1.25rem "}},s.createElement("div",{id:"post-topic-button",className:"button blue",style:{marginTop:"1.25rem",width:"4.5rem",letterSpacing:"0.3125rem"},onClick:this.send.bind(this)},"发帖"))))},t}(s.Component);t.InputMdContent=m},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(11),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.createElement("div",null,"您当前未登录"),o.createElement(a.LogOn,null))},t}(o.Component);t.LogOut=s;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",null,"帖子被删除")},t}(o.Component);t.TopicDeleted=i;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",null,"网络连接中断")},t}(o.Component);t.Disconnected=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",null,"401您没有权限进入这个版面")},t}(o.Component);t.UnauthorizedBoard=l;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",null,"401您没有权限进入这个帖子")},t}(o.Component);t.UnauthorizedTopic=u;var p=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.componentDidMount=function(){console.log(this.context),console.log(this.context.router),console.log(this.context.router.history),this.context.router.history.push("/status/NotFoundTopic")},t.prototype.render=function(){return o.createElement("div",null,"404版面不存在")},t}(o.Component);t.NotFoundBoard=p;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",null,"404帖子不存在")},t}(o.Component);t.NotFoundTopic=m;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",null,"404用户不存在")},t}(o.Component);t.NotFoundUser=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",null,"500服务器错误")},t}(o.Component);t.ServerError=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",null,"402需要输入内容")},t}(o.Component);t.ContentNeeded=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",null,"403操作被拒绝")},t}(o.Component);t.OperationForbidden=g},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1),c=function(e){function t(t){var r=e.call(this,t)||this;return r.state={buttonInfo:"取消关注",buttonIsDisabled:!1,isFollowing:!0},r.unfollow=r.unfollow.bind(r),r.follow=r.follow.bind(r),r}return n(t,e),t.prototype.unfollow=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o;return a(this,function(a){switch(a.label){case 0:return this.setState({buttonIsDisabled:!0,buttonInfo:"取关中"}),e=i.getLocalStorage("accessToken"),t=this.props.userFanInfo.id,r="http://apitest.niconi.cc/user/unfollow/"+t,n=new Headers,n.append("Authorization",e),[4,fetch(r,{method:"DELETE",headers:n})];case 1:return o=a.sent(),200===o.status?this.setState({buttonIsDisabled:!1,buttonInfo:"重新关注",isFollowing:!1}):this.setState({buttonIsDisabled:!1,buttonInfo:"取关失败",isFollowing:!0}),[2]}})})},t.prototype.follow=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o;return a(this,function(a){switch(a.label){case 0:return this.setState({buttonIsDisabled:!0,buttonInfo:"关注中"}),e=i.getLocalStorage("accessToken"),t=this.props.userFanInfo.id,r="http://apitest.niconi.cc/user/follow/"+t,n=new Headers,n.append("Authorization",e),[4,fetch(r,{method:"POST",headers:n})];case 1:return o=a.sent(),console.log(o),200===o.status&&this.setState({buttonIsDisabled:!1,buttonInfo:"取消关注",isFollowing:!0}),[2]}})})},t.prototype.render=function(){return s.createElement("div",{className:"user-center-myfollowings-user"},s.createElement("img",{src:this.props.userFanInfo.avatarImgURL}),s.createElement("p",null,s.createElement("span",{className:"user-center-myfollowings-user-id"},s.createElement("a",{href:"/user/"+this.props.userFanInfo.id},this.props.userFanInfo.name)),"主题",s.createElement("span",{className:"user-center-myfollowings-user-posts"},this.props.userFanInfo.posts),"粉丝",s.createElement("span",{className:"user-center-myfollowings-user-fans"},this.props.userFanInfo.fans)),s.createElement("button",{type:"button",id:this.state.isFollowing?"":"follow",onClick:this.state.isFollowing?this.unfollow:this.follow,disabled:this.state.buttonIsDisabled},this.state.buttonInfo))},t}(s.Component);t.UserCenterMyFollowingsUser=c},function(e,t,r){r(30),e.exports=r(93)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(31),a=r(32);o.render(n.createElement(a.App,null),document.getElementById("root"))},function(e,t){e.exports=ReactDOM},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(3),s=r(12),i=r(9),c=r(13),l=r(14),u=r(15),p=r(18),m=r(19),d=r(21),h=r(22),f=r(23),g=r(24),v=r(25),y=r(11),b=r(26),E=r(27),w=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.match=t.match,n}return n(t,e),t}(o.Component);t.RouteComponent=w;var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{style:{width:"100%"}},o.createElement(a.BrowserRouter,null,o.createElement("div",{style:{backGroundColor:"#F5FAFD",justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",minWidth:"1140px"}},o.createElement(h.Header,null),o.createElement(a.Route,{exact:!0,path:"/",component:g.MainPage}),o.createElement(a.Route,{exact:!0,path:"/topic/:topicid/:page?",component:s.Post}),o.createElement(a.Route,{exact:!0,path:"/topic/:topicid/user/:userId/:page?",component:c.CurUserPost}),o.createElement(a.Route,{path:"/list/:boardId/:page?",component:i.List}),o.createElement(a.Route,{exact:!0,path:"/boardlist",component:l.BoardList}),o.createElement(a.Route,{path:"/usercenter",component:u.UserCenter}),o.createElement(a.Route,{path:"/message",component:p.Message}),o.createElement(a.Route,{path:"/focus",component:d.Focus}),o.createElement(a.Route,{path:"/newtopics",component:m.AllNewTopic}),o.createElement(a.Route,{path:"/user",component:v.User}),o.createElement(a.Route,{path:"/logon",component:y.LogOn}),o.createElement(a.Route,{path:"/createtopic/:boardId",component:b.CreateTopic}),o.createElement(a.Route,{path:"/status/logout",component:E.LogOut}),o.createElement(a.Route,{path:"/status/UnauthorizedBoard",component:E.UnauthorizedBoard}),o.createElement(a.Route,{path:"/status/UnauthorizedTopic",component:E.UnauthorizedTopic}),o.createElement(a.Route,{path:"/status/NotFoundTopic",component:E.NotFoundTopic}),o.createElement(a.Route,{path:"/status/NotFoundBoard",component:E.NotFoundBoard}),o.createElement(a.Route,{path:"/status/NotFoundUser",component:E.NotFoundUser}),o.createElement(a.Route,{path:"/status/ServerError",component:E.ServerError}),o.createElement(a.Route,{path:"/status/OperationForbidden",component:E.OperationForbidden}),o.createElement(a.Route,{path:"/status/Disconnected",component:E.Disconnected}),o.createElement(a.Route,{path:"/status/TopicDeleted",component:E.TopicDeleted}),o.createElement(f.Footer,null))))},t}(o.Component);t.App=N},function(e,t,r){"use strict";function n(){var e=new o.UbbCodeEngine;return e.tagHandlers.register(a.BTagHandler),e.tagHandlers.register(s.ImageTagHandler),e.tagHandlers.register(i.ITagHandler),e.tagHandlers.register(c.SizeTagHandler),e.tagHandlers.register(l.QuoteTagHandler),e.tagHandlers.register(u.ColorTagHandler),e.tagHandlers.register(p.UrlTagHandler),e.tagHandlers.register(m.UTagHandler),e.tagHandlers.register(d.DelTagHandler),e.tagHandlers.register(h.MP3TagHandler),e.tagHandlers.register(f.CursorTagHandler),e.tagHandlers.register(g.EnglishTagHandler),e.tagHandlers.register(v.UserTagHandler),e.tagHandlers.register(y.CodeTagHandler),e.tagHandlers.register(E.FontTagHandler),e.tagHandlers.register(w.AlignTagHandler),e.tagHandlers.register(N.UploadTagHandler),e.tagHandlers.register(_.LeftTagHandler),e.tagHandlers.register(T.CenterTagHandler),e.tagHandlers.register(k.RightTagHandler),e.tagHandlers.register(C.TableTagHandler),e.tagHandlers.register(x.TdTagHandler),e.tagHandlers.register(P.ThTagHandler),e.tagHandlers.register(S.TrTagHandler),e.tagHandlers.register(b.UnresolvedTagHandler),e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=r(34),s=r(35),i=r(36),c=r(37),l=r(38),u=r(39),p=r(40),m=r(41),d=r(42),h=r(43),f=r(44),g=r(45),v=r(46),y=r(47),b=r(48),E=r(49),w=r(50),N=r(51),_=r(52),T=r(53),k=r(54),C=r(55),x=r(56),P=r(57),S=r(58);t.createEngine=n,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(2))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"b"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){return o.createElement("span",{style:{fontWeight:"bold"}},e)},t}(a.RecursiveTagHandler);t.BTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"img"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=e,s=t.value("title"),c=parseInt(t.value("img"));return r.options.allowImage?r.options.compatibility===a.UbbCompatiblityMode.EnforceMorden?1===c?o.createElement(i,{imageUri:n,title:s,isShowed:!1}):o.createElement("figure",null,o.createElement(i,{imageUri:n,title:s,isShowed:!0}),o.createElement("figcaption",null,s)):1===c?o.createElement(i,{imageUri:n,title:s,isShowed:!1}):o.createElement(i,{imageUri:n,title:s,isShowed:!0}):o.createElement(i,{imageUri:n,title:s,isShowed:!1})},t}(a.TextTagHandler);t.ImageTagHandler=s;var i=function(e){function t(t){var r=e.call(this,t)||this;return r.state={isShowed:r.props.isShowed},r.toggleIsShowed=r.toggleIsShowed.bind(r),r}return n(t,e),t.prototype.toggleIsShowed=function(){console.log("显示图片！"),this.setState(function(e){return{isShowed:!e.isShowed}})},t.prototype.render=function(){return this.state.isShowed?o.createElement("img",{src:this.props.imageUri,alt:this.props.title}):o.createElement("div",{className:"hiddenImage",onClick:this.toggleIsShowed},"点击查看图片")},t}(o.Component);t.Image=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"i"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){return o.createElement("i",null,e)},t}(a.RecursiveTagHandler);t.ITagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"size"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=parseInt(t.value("size"));if(isNaN(n)||n<=0)return e;n=n>7?3.5:n/2,n/=1.5;var a={fontSize:n+"rem"};return o.createElement("span",{style:a},e)},t}(a.RecursiveTagHandler);t.SizeTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return["quote","quotex"]},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n={padding:"13px 19px 13px 17px",backgroundColor:"#F5FAFF",border:"1px solid rgb(204,204,204)",margin:"30px",maxHeight:"800px",overflowY:"auto"};return o.createElement("div",{style:n},e)},t}(a.RecursiveTagHandler);t.QuoteTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"color"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=t.value("color"),a={color:n};return o.createElement("span",{style:a},e)},t}(a.RecursiveTagHandler);t.ColorTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"url"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=t.value("url");return n||(n=e),!1===r.options.allowExternalUrl&&0===n.indexOf("http")&&n.split("/").length>1&&"www.cc98.org"!==n.split("/")[2]?e:o.createElement("a",{href:n},e)},t}(a.RecursiveTagHandler);t.UrlTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"u"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n={textDecoration:"underline"};return r.options.compatibility===a.UbbCompatiblityMode.EnforceMorden?o.createElement("span",{style:n},e):o.createElement("u",null,e)},t}(a.RecursiveTagHandler);t.UTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"del"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n={textDecoration:"line-through"};return o.createElement("span",{style:n},e)},t}(a.RecursiveTagHandler);t.DelTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"mp3"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){if(!1===r.options.allowMediaContent)return e;var n=!1;return"1"===t.value("mp3")&&!0===r.options.allowAutoPlay&&(n=!0),o.createElement("audio",{src:e,controls:!0,autoPlay:n})},t}(a.TextTagHandler);t.MP3TagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"cursor"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=t.value("cursor"),a={cursor:n};return o.createElement("span",{style:a},e)},t}(a.RecursiveTagHandler);t.CursorTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"english"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n={fontFamily:"Arial"};return o.createElement("span",{style:n},e)},t}(a.RecursiveTagHandler);t.EnglishTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"user"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=e,a={cursor:"pointer"};return o.createElement("a",{href:"/user/name"+encodeURI(n),style:a},n)},t}(a.TextTagHandler);t.UserTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"code"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=e.split("\n").map(function(e,t){return o.createElement("li",null,e)});return o.createElement("div",{className:"ubb-code"},o.createElement("ol",null,n))},t}(a.TextTagHandler);t.CodeTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return/.*/i},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){return console.warn("检测到未处理的标签 %s，该标签将被当做一般文字。",t.tagName),o.UbbTagHandler.renderTagAsString(t,e)},t}(o.RecursiveTagHandler);t.UnresolvedTagHandler=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"font"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=t.value("font"),a={fontFamily:n};return o.createElement("span",{style:a},e)},t}(a.RecursiveTagHandler);t.FontTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"align"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=t.value("align"),a={textAlign:n};return o.createElement("span",{style:a},o.createElement("div",null,e))},t}(a.RecursiveTagHandler);t.AlignTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"upload"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n=e,s=t.value("title");if(!r.options.allowImage)return e;var i=o.createElement("img",{src:n,alt:s});return r.options.compatibility===a.UbbCompatiblityMode.EnforceMorden?o.createElement("figure",null,i,o.createElement("figcaption",null,s)):i},t}(a.TextTagHandler);t.UploadTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"left"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n={textAlign:"left"};return o.createElement("span",{style:n},o.createElement("div",null,e))},t}(a.RecursiveTagHandler);t.LeftTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"center"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n={textAlign:"center"};return o.createElement("span",{style:n},o.createElement("div",null,e))},t}(a.RecursiveTagHandler);t.CenterTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"right"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){var n={textAlign:"right"};return o.createElement("span",{style:n},o.createElement("div",null,e))},t}(a.RecursiveTagHandler);t.RightTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"table"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){return o.createElement("table",{className:"UBBTableTag"},e)},t}(a.RecursiveTagHandler);t.TableTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"td"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){return o.createElement("td",null,e)},t}(a.RecursiveTagHandler);t.TdTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"th"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){return o.createElement("th",null,e)},t}(a.RecursiveTagHandler);t.ThTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"supportedTagNames",{get:function(){return"tr"},enumerable:!0,configurable:!0}),t.prototype.execCore=function(e,t,r){return o.createElement("tr",null,e)},t}(a.RecursiveTagHandler);t.TrTagHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1),c=r(6),l=r(3),u=r(4),p=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),Object.defineProperty(t.prototype,"match",{get:function(){return this.props.match},enumerable:!0,configurable:!0}),t}(s.Component);t.RouteComponent=p;var m=function(e){function t(t,r){var n=e.call(this,t,r)||this,o=editormd("test-editormd",{width:"100%",height:640,path:"/scripts/lib/editor.md/lib/",saveHTMLToTextarea:!1});return n.handleChange=n.handleChange.bind(n),n.state={page:1,topicid:n.match.params.topicid,totalPage:1,userName:null,editor:o},n}return n(t,e),t.prototype.handleChange=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e=this.match.params.page?parseInt(this.match.params.page):1,[4,this.getTotalPage(this.match.params.topicid)];case 1:return t=n.sent(),r=this.match.params.userName,this.setState({page:e,topicid:this.match.params.topicid,totalPage:t,userName:r}),[2]}})})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){switch(o.label){case 0:return t=e.match.params.page?parseInt(e.match.params.page):1,r=e.match.params.userName,[4,this.getTotalPage(this.match.params.topicid)];case 1:return n=o.sent(),this.setState({page:t,topicid:e.match.params.topicid,totalPage:n,userName:r}),[2]}})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e=this.match.params.page?parseInt(this.match.params.page):1,[4,this.getTotalPage(this.match.params.topicid)];case 1:return t=n.sent(),r=this.match.params.userName,this.setState({page:e,topicid:this.match.params.topicid,totalPage:t,userName:r}),[2]}})})},t.prototype.getTotalPage=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,i.getTotalReplyCount(e,this.context.router)]})})},t.prototype.returnTopic=function(){return s.createElement(b,{imgUrl:"/images/ads.jpg",page:this.state.page,topicid:this.state.topicid,userId:null})},t.prototype.render=function(){var e=null,t=null;return 1===this.state.page&&(e=s.createElement(b,{imgUrl:"/images/ads.jpg",page:this.state.page,topicid:this.state.topicid,userId:null}),t=s.createElement(l.Route,{path:"/topic/:topicid/:page?",component:f})),s.createElement("div",{className:"center",style:{width:"80%"}},s.createElement("div",{className:"row",style:{width:"100%",justifyContent:"space-between",borderBottom:"#EAEAEA solid thin",alignItems:"center"}},s.createElement(d,{topicId:this.state.topicid}),s.createElement(C,{page:this.state.page,topicid:this.state.topicid,totalPage:this.state.totalPage})),e,t,s.createElement(l.Route,{path:"/topic/:topicid/:page?",component:h}),s.createElement(x,{page:this.state.page,topicid:this.state.topicid,totalPage:this.state.totalPage}),s.createElement(O,{onChange:this.handleChange,topicid:this.state.topicid,editor:this.state.editor}))},t}(p);t.Post=m;var d=function(e){function t(t){var r=e.call(this,t)||this;return r.state={boardId:"",topicId:"",boardName:"",title:""},r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getCategory(this.props.topicId,this.context.router)];case 1:return e=t.sent(),this.setState({boardId:e.boardId,topicId:e.topicId,boardName:e.boardName,title:e.title}),[2]}})})},t.prototype.render=function(){var e="/list/"+this.state.boardId,t="/topic/"+this.state.topicId;return s.createElement("div",{style:{color:"blue",fontSize:"0.75rem"}},"››",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:"/"},"首页")," → ",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:e},this.state.boardName)," → ",s.createElement("a",{style:{color:"blue",fontSize:"0.75rem"},href:t},this.state.title))},t}(s.Component);t.Category=d;var h=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={contents:[]},n}return n(t,e),t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){switch(o.label){case 0:return t=e.match.params.page||1,r="TopicContent_"+e.match.params.topicid+"_"+t,[4,i.getTopicContent(e.match.params.topicid,t,this.context.router)];case 1:return n=o.sent(),this.setState({contents:n}),[2]}})})},t.prototype.generateContents=function(e){return s.createElement("div",{className:"reply"},s.createElement("div",{style:{marginTop:"1rem",marginBotton:"0.3125rem",border:"#EAEAEA solid thin"}},s.createElement(v,{key:e.postid,isAnonymous:e.isAnonymous,userId:e.userId,topicid:e.topicId,userName:e.userName,replyTime:e.time,floor:e.floor,userImgUrl:e.userImgUrl,sendTopicNumber:e.sendTopicNumber,privilege:e.privilege}),s.createElement(_,{key:e.content,content:e.content,signature:e.signature,topicid:e.topicId,postid:e.postid,contentType:e.contentType})))},t.prototype.render=function(){return s.createElement("div",{className:"center",style:{width:"100%"}},this.state.contents.map(this.generateContents))},t}(p);t.Reply=h;var f=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={contents:[]},n}return n(t,e),t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return t=e.match.params.page||1,1!=t?[3,2]:[4,i.getHotReplyContent(e.match.params.topicid,this.context.router)];case 1:r=n.sent(),this.setState({contents:r}),n.label=2;case 2:return[2]}})})},t.prototype.generateContents=function(e){var t=(e.floor%10).toString();return s.createElement("div",{className:"reply",id:t},s.createElement("div",{style:{marginTop:"1rem",marginBotton:"0.3125rem",border:"#EAEAEA solid thin"}},s.createElement(g,{key:e.id,userId:e.userId,topicid:e.topicId,userName:e.userName,replyTime:e.time,floor:e.floor,userImgUrl:e.userImgUrl,sendTopicNumber:e.sendTopicNumber,privilege:e.privilege,isAnonymous:e.isAnonymous}),s.createElement(_,{key:e.content,content:e.content,signature:e.signature,topicid:e.topicId,postid:e.id,contentType:e.contentType})))},t.prototype.render=function(){return c(".header").scrollTop(),s.createElement("div",{className:"center",style:{width:"100%"}},this.state.contents.map(this.generateContents))},t}(p);t.HotReply=f;var g=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={},n}return n(t,e),t.prototype.render=function(){var e="/user/"+this.props.userId,t=encodeURIComponent(e),r="/topic/"+this.props.topicid+"/user/"+this.props.userId,n="/message/message/"+this.props.userId;c(document).ready(function(){c(".authorImg").mouseenter(function(e){var t=e.currentTarget;c(t).next(".userDetails").show()}),c(".mouse-userDetails").mouseleave(function(e){var t=e.currentTarget;c(t).find(".userDetails").hide()})});var o="帖数";this.props.userId||(o="");var a;a=1!=this.props.isAnonymous?s.createElement(y,{userName:this.props.userName}):null;var i;return"超级版主"===this.props.privilege?i=s.createElement("a",{style:{color:"pink"},href:e},this.props.userName):"全站贵宾"===this.props.privilege?i=s.createElement("a",{style:{color:"blue"},href:e},this.props.userName):"注册用户"===this.props.privilege||"匿名"==this.props.privilege||"匿名用户"===this.props.privilege?i=s.createElement("a",{style:{color:"black"},href:e},this.props.userName):"管理员"===this.props.privilege&&(i=s.createElement("a",{style:{color:"red"},href:e},this.props.userName)),s.createElement("div",{className:"replyRoot"},s.createElement("div",{className:"row",style:{width:"100%",display:"flex",marginBottom:"0.625rem"}},s.createElement("div",{className:"row mouse-userDetails",style:{height:"15.625rem"}},s.createElement("div",{className:"authorImg"},s.createElement("a",{href:t},s.createElement("img",{src:this.props.userImgUrl}))),s.createElement("div",{className:"userDetails",style:{display:"none",position:"absolute",zindedx:"1"}},a)),s.createElement("div",{className:"column",id:"rpymes"},s.createElement("div",{className:"row",id:"replierMes"},s.createElement("div",{style:{color:"red",marginLeft:"1rem"}},s.createElement("span",null,"最热回复"),s.createElement("span",null,"(第"),s.createElement("span",null,this.props.floor),s.createElement("span",null,"楼)")),s.createElement("div",{className:"rpyClr",style:{marginLeft:"0.625rem"}},i),s.createElement("div",{id:"topicsNumber",style:{marginLeft:"0.625rem",display:"flex",flexWrap:"nowrap",wordBreak:"keepAll",marginRight:"0.75rem"}},o," ",s.createElement("span",{style:{color:"red"}},this.props.sendTopicNumber)," ")),s.createElement("div",{className:"row",style:{display:"flex",flexWrap:"nowrap"}},s.createElement("div",{id:"clockimg",style:{marginLeft:"0.375rem"}},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"})),s.createElement("div",null,s.createElement("span",{className:"timeProp"},moment(this.props.replyTime).format("YYYY-MM-DD HH:mm:ss"))))),s.createElement("div",{id:"operation"},s.createElement(l.Link,{className:"operation",to:""},"引用"),s.createElement(l.Link,{className:"operation",to:""},"编辑"),s.createElement(l.Link,{className:"operation",to:n},"私信"),s.createElement(l.Link,{className:"operation",to:""},"举报"),s.createElement(l.Link,{className:"operation",to:r},"只看此用户"))))},t}(p);t.HotReplier=g;var v=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.render=function(){var e="/user/"+this.props.userId,t=encodeURIComponent(e),r="/message/message/"+this.props.userId,n=s.createElement("a",{href:t},s.createElement("img",{src:this.props.userImgUrl}));1==this.props.isAnonymous&&(n=s.createElement("img",{src:this.props.userImgUrl}));var o="/topic/"+this.props.topicid+"/user/"+this.props.userId;c(document).ready(function(){c(".authorImg").mouseenter(function(e){var t=e.currentTarget;c(t).next(".userDetails").show()}),c(".mouse-userDetails").mouseleave(function(e){var t=e.currentTarget;c(t).find(".userDetails").hide()})});var a="帖数";this.props.userId||(a="");var i;i=1!=this.props.isAnonymous?s.createElement(y,{userName:this.props.userName}):null;var u;return"超级版主"===this.props.privilege?u=s.createElement("a",{style:{color:"pink"},href:e},this.props.userName):"全站贵宾"===this.props.privilege?u=s.createElement("a",{style:{color:"blue"},href:e},this.props.userName):"注册用户"===this.props.privilege?u=s.createElement("a",{style:{color:"black"},href:e},this.props.userName):"匿名"==this.props.privilege||"匿名用户"===this.props.privilege?u=s.createElement("div",{style:{color:"black"}},this.props.userName):"管理员"===this.props.privilege&&(u=s.createElement("a",{style:{color:"red"},href:e},this.props.userName)),s.createElement("div",{className:"replyRoot"},s.createElement("div",{className:"row",style:{width:"100%",display:"flex",marginBottom:"0.625rem"}},s.createElement("div",{className:"row mouse-userDetails",style:{height:"15.625rem"}},s.createElement("div",{className:"authorImg"},n),s.createElement("div",{className:"userDetails",style:{display:"none",position:"absolute"}},i)),s.createElement("div",{className:"column",id:"rpymes"},s.createElement("div",{className:"row",id:"replierMes"},s.createElement("div",{style:{marginLeft:"0.625rem"}},s.createElement("span",null,"第"),s.createElement("span",{style:{color:"red"}},this.props.floor),s.createElement("span",null,"楼")),s.createElement("div",{className:"rpyClr",style:{marginLeft:"0.625rem"}},u),s.createElement("div",{id:"topicsNumber",style:{marginLeft:"0.625rem",display:"flex",flexWrap:"nowrap",wordBreak:"keepAll",marginRight:"0.75rem"}},a," ",s.createElement("span",{style:{color:"red"}},this.props.sendTopicNumber)," ")),s.createElement("div",{className:"row",style:{display:"flex",flexWrap:"nowrap"}},s.createElement("div",{id:"clockimg",style:{marginLeft:"0.375rem"}},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"})),s.createElement("div",null,s.createElement("span",{className:"timeProp"},moment(this.props.replyTime).format("YYYY-MM-DD HH:mm:ss"))))),s.createElement("div",{id:"operation"},s.createElement(l.Link,{className:"operation",to:""},"引用"),s.createElement(l.Link,{className:"operation",to:""},"编辑"),s.createElement(l.Link,{className:"operation",to:r},"私信"),s.createElement(l.Link,{className:"operation",to:""},"举报"),s.createElement(l.Link,{className:"operation",to:o},"只看此用户"))))},t}(p);t.Replier=v;var y=function(e){function t(t){var r=e.call(this,t)||this;return r.state={portraitUrl:null,userName:null,fanCount:null,displayTitle:null,birthday:null,gender:null,prestige:null,levelTitle:null},r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getUserDetails(this.props.userName,this.context.router)];case 1:return e=t.sent(),this.setState({portraitUrl:e.portraitUrl,userName:e.userName,fanCount:e.fanCount,displayTitle:e.displayTitle,birthday:e.birthday,prestige:e.prestige,gender:e.gender,levelTitle:e.levelTitle}),[2]}})})},t.prototype.render=function(){var e=this.state.displayTitle;null===this.state.displayTitle&&(e=this.state.levelTitle);var t,r=moment(this.state.birthday).format("YYYY");t="9999"===r?moment(this.state.birthday).format("MM-DD"):moment(this.state.birthday).format("YYYY-MM-DD"),null==this.state.birthday&&(t="保密");var n;n=0===this.state.gender?s.createElement("i",{style:{color:"pink"},className:"fa fa-venus fa-lg fa-fw"}):s.createElement("i",{style:{color:"blue"},className:"fa fa-mars fa-lg fa-fw"});var o="/user/name/"+this.props.userName,a=encodeURI(o),i=s.createElement("a",{href:a}," ",s.createElement("img",{src:this.state.portraitUrl}));return s.createElement("div",{className:"popup"},s.createElement("div",{className:"popup_title"},s.createElement("div",{className:"row"},s.createElement("div",{className:"row authorImg",style:{marginLeft:"10px",marginTop:"10px"}},i),s.createElement("div",{className:"column",style:{marginLeft:"1.6rem",marginTop:"2rem"}},s.createElement("div",{className:"row"},s.createElement("div",{style:{fontFamily:"微软雅黑",color:"blue",marginRight:"0.63rem"}}," ",this.state.userName),"   ",s.createElement("div",{style:{marginRight:"0.63rem"}},"   粉丝  "),s.createElement("div",{style:{color:"red"}},this.state.fanCount)),s.createElement("div",{className:"row",style:{marginTop:"0.63rem",fontSize:"0.87rem"}},e)),s.createElement("div",null,s.createElement("div",{id:"watch",style:{width:"5rem",backgroundColor:"#FF6A6A",marginRight:"0.63rem",marginLeft:"1.6rem",marginTop:"2rem",height:"2rem"}},"关注"))),s.createElement("div",{className:"row",style:{fontSize:"0.87rem"}},s.createElement("div",{style:{marginLeft:"7.2rem"}},"威望 ",this.state.prestige),s.createElement("div",{style:{marginLeft:"1rem"}},"生日 ",t),s.createElement("div",{style:{marginLeft:"1rem"}},n))))},t}(p);t.UserDetails=y;var b=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={topicMessage:{title:"加载中...",time:"",content:"",signature:"",postid:0},likeState:0},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getTopic(this.props.topicid,this.context.router)];case 1:return e=t.sent(),this.setState({topicMessage:e}),[2]}})})},t.prototype.render=function(){return this.state.topicMessage.userId==this.props.userId||null==this.props.userId?s.createElement("div",{className:"root",id:"1"},s.createElement("div",{className:"essay"},s.createElement(E,{authorId:this.state.topicMessage.userId,authorName:this.state.topicMessage.userName,authorImgUrl:this.state.topicMessage.userImgUrl,isAnonymous:this.state.topicMessage.isAnonymous}),s.createElement(w,{Title:this.state.topicMessage.title,Time:this.state.topicMessage.time,HitCount:this.state.topicMessage.hitCount}),s.createElement("div",{id:"ads"},s.createElement("img",{width:"100%",src:this.props.imgUrl}))),s.createElement(N,{postid:this.state.topicMessage.postid,content:this.state.topicMessage.content,signature:this.state.topicMessage.signature,topicid:this.props.topicid,userId:this.state.topicMessage.userId,contentType:this.state.topicMessage.contentType}),s.createElement(T,null),s.createElement(k,null)):null},t}(p);t.PostTopic=b;var E=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={userName:"Mana",fansNumber:233,imgUrl:n.props.authorImgUrl},n}return n(t,e),t.prototype.render=function(){var e="/message/message/"+this.props.authorId,t="/user/"+this.props.authorId,r=s.createElement("a",{href:t},s.createElement("img",{src:this.props.authorImgUrl})),n=s.createElement("div",{id:"authorName"},s.createElement("p",null,s.createElement("a",{href:t},this.props.authorName)));return 1==this.props.isAnonymous&&(r=s.createElement("img",{src:this.props.authorImgUrl}),n=s.createElement("div",{id:"authorName"},s.createElement("p",null,this.props.authorName))),s.createElement("div",{className:"row",id:"authormes"},s.createElement("div",{className:"authorImg"},r),s.createElement("div",{className:"column",style:{marginRight:"1rem"}},s.createElement("div",{className:"row authorFans",style:{justifyContent:"space-between"}},n,s.createElement("div",{id:"fans",className:"row"},s.createElement("div",{style:{marginRight:"0.1875rem"}},"粉丝"),s.createElement("div",{style:{color:"#EE0000"}},this.state.fansNumber))),s.createElement("div",{className:"row"},s.createElement("div",{id:"watch",style:{marginLeft:"1rem"}},"关注"),s.createElement("a",{id:"email",href:e,style:{marginLeft:"1rem"}},"私信"))))},t}(p);t.AuthorMessage=E;var w=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={isNotice:!0,isTop:!0,title:"这是一个长长啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊的标题",tag:"女装/开车",time:"2017.8.12",likeNumber:1,dislikeNumber:1,viewTimes:2366},n}return n(t,e),t.prototype.returnProps=function(e,t,r){return s.createElement("div",{id:"title1",className:"row",style:{justifyContent:"flex-start"}},s.createElement("div",{id:"essayTitle"},r))},t.prototype.render=function(){return s.createElement("div",{id:"title"},s.createElement("div",{className:"column",id:"topicTitleProp"},s.createElement("div",{id:"essay1",className:"row"},this.returnProps(this.state.isTop,this.state.isNotice,this.props.Title)),s.createElement("div",{className:"row",id:"essayProp"},s.createElement("div",{id:"tags"},s.createElement("div",{className:"tagProp tagSize"},"标签： ",this.state.tag),s.createElement("div",{className:"tagProp"})),s.createElement("div",{id:"time"},s.createElement("div",{className:"viewProp"},s.createElement("i",{className:"fa fa-clock-o fa-lg fa-fw"}))," ",s.createElement("div",{className:"timeProp tagSize"},moment(this.props.Time).format("YYYY-MM-DD HH:mm:ss"))),s.createElement("div",{id:"viewtimes"},s.createElement("div",{className:"viewProp"},s.createElement("i",{className:"fa fa-eye fa-lg fa-fw"}),"  ")," ",s.createElement("div",{className:"timeProp tagSize"},this.props.HitCount,"次")))))},t}(p);t.TopicTitle=w;var N=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={likeNumber:666,dislikeNumber:233,likeState:0},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,i.getLikeState(this.props.topicid,this.context.router)];case 1:return e=t.sent(),1===e.likeState?c("#commentliked").css("color","red"):2===e.likeState&&c("#commentdisliked").css("color","red"),this.setState({likeNumber:e.likeCount,dislikeNumber:e.dislikeCount,likeState:e.likeState}),[2]}})})},t.prototype.like=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return 1!==this.state.likeState?[3,2]:[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 1:return t.sent(),c("#commentliked").css("color","black"),[3,7];case 2:return 2!==this.state.likeState?[3,5]:[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 3:return t.sent(),[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 4:return t.sent(),c("#commentliked").css("color","red"),c("#commentdisliked").css("color","black"),[3,7];case 5:return[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 6:t.sent(),c("#commentliked").css("color","red"),t.label=7;case 7:return[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 8:return e=t.sent(),this.setState({likeNumber:e.likeCount,dislikeNumber:e.dislikeCount,likeState:e.likeState}),[2]}})})},t.prototype.dislike=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return 2!==this.state.likeState?[3,2]:[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 1:return t.sent(),c("#commentdisliked").css("color","black"),[3,7];case 2:return 1!==this.state.likeState?[3,5]:[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 3:return t.sent(),[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 4:return t.sent(),c("#commentliked").css("color","black"),c("#commentdisliked").css("color","red"),[3,7];case 5:return[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 6:t.sent(),c("#commentdisliked").css("color","red"),t.label=7;case 7:return[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 8:return e=t.sent(),this.setState({likeNumber:e.likeCount,dislikeNumber:e.dislikeCount,likeState:e.likeState}),[2]}})})},t.prototype.render=function(){var e="doc-content"+this.props.postid,t="/topic/"+this.props.topicid+"/user/"+this.props.userId,r=s.createElement(u.UbbContainer,{code:this.props.content}),n=s.createElement("div",{id:e},s.createElement("textarea",{name:"editormd-markdown-doc",style:{display:"none"}},this.props.content));editormd.markdownToHTML(e,{htmlDecode:"style,script,iframe",emoji:!0,taskList:!0,tex:!0,flowChart:!0,sequenceDiagram:!0,codeFold:!0});var o=r;return 1===this.props.contentType&&(o=n),""==this.props.signature?s.createElement("div",{className:"content"},s.createElement("div",{className:"substance"},o),s.createElement("div",{className:"comment1"},s.createElement("div",{id:"commentlike",className:"buttonFont"},s.createElement("button",{className:"commentbutton"},s.createElement("i",{className:"fa fa-star-o fa-lg"})),"   收藏文章 "),s.createElement("div",{id:"commentliked",className:"upup",style:{marginRight:"0.7rem"}},s.createElement("i",{title:"赞",onClick:this.like.bind(this),className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:"commentdisliked",className:"downdown"},s.createElement("i",{title:"踩",onClick:this.dislike.bind(this),className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike",className:"buttonFont row"}," ",s.createElement("div",{className:"commentbutton"},"   评分"),s.createElement("div",{className:"commentbutton"},"   编辑")),s.createElement("div",{className:"operation1"},"引用"),s.createElement(l.Link,{className:"operation1",to:t},"只看此用户"))):s.createElement("div",{className:"content"},s.createElement("div",{className:"substance"},o," "),s.createElement("div",{className:"signature"},s.createElement(u.UbbContainer,{code:this.props.signature})),s.createElement("div",{className:"comment"},s.createElement("div",{id:"commentlike",style:{marginRight:"0.7rem"},className:"buttonFont"},s.createElement("button",{className:"commentbutton"},s.createElement("i",{className:"fa fa-star-o fa-lg"})),"   收藏文章 "),s.createElement("div",{id:"commentliked",className:"upup",style:{marginRight:"0.7rem"}},s.createElement("i",{title:"赞",onClick:this.like.bind(this),className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:"commentdisliked",className:"downdown"},s.createElement("i",{title:"踩",onClick:this.dislike.bind(this),className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike",className:"buttonFont row"}," ",s.createElement("div",{className:"commentbutton"},"   评分"),s.createElement("div",{className:"commentbutton"},"   编辑")),s.createElement("div",{className:"operation1"},"引用"),s.createElement(l.Link,{className:"operation1",to:t},"只看此用户")))},t}(p);t.TopicContent=N;var _=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={likeNumber:1,dislikeNumber:1,likeState:0},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e="#like"+this.props.postid,t="#dislike"+this.props.postid,[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 1:return r=n.sent(),1===r.likeState?c(e).css("color","red"):2===r.likeState&&c(t).css("color","red"),this.setState({likeNumber:r.likeCount,dislikeNumber:r.dislikeCount,likeState:r.likeState}),[2]}})})},t.prototype.like=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e="#like"+this.props.postid,t="#dislike"+this.props.postid,1!==this.state.likeState?[3,2]:[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 1:return n.sent(),c(e).css("color","black"),[3,7];case 2:return 2!==this.state.likeState?[3,5]:[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 3:return n.sent(),[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 4:return n.sent(),c(e).css("color","red"),c(t).css("color","black"),[3,7];case 5:return[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 6:n.sent(),c(e).css("color","red"),n.label=7;case 7:return[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 8:return r=n.sent(),this.setState({likeNumber:r.likeCount,dislikeNumber:r.dislikeCount,likeState:r.likeState}),[2]}})})},t.prototype.dislike=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e="#like"+this.props.postid,t="#dislike"+this.props.postid,2!==this.state.likeState?[3,2]:[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 1:return n.sent(),c(t).css("color","black"),[3,7];case 2:return 1!==this.state.likeState?[3,5]:[4,i.like(this.props.topicid,this.props.postid,this.context.router)];case 3:return n.sent(),[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 4:return n.sent(),c(e).css("color","black"),c(t).css("color","red"),[3,7];case 5:return[4,i.dislike(this.props.topicid,this.props.postid,this.context.router)];case 6:n.sent(),c(t).css("color","red"),n.label=7;case 7:return[4,i.refreshLikeState(this.props.topicid,this.props.postid,this.context.router)];case 8:return r=n.sent(),this.setState({likeNumber:r.likeCount,dislikeNumber:r.dislikeCount,likeState:r.likeState}),[2]}})})},t.prototype.render=function(){var e="like"+this.props.postid,t="dislike"+this.props.postid,r="doc-content"+this.props.postid,n=s.createElement(u.UbbContainer,{code:this.props.content}),o=s.createElement("div",{id:r},s.createElement("textarea",{name:"editormd-markdown-doc",style:{display:"none"}},this.props.content));editormd.markdownToHTML(r,{htmlDecode:"style,script,iframe",emoji:!0,taskList:!0,tex:!0,flowChart:!0,sequenceDiagram:!0,codeFold:!0});var a;return a=n,1===this.props.contentType&&(a=o),""==this.props.signature?s.createElement("div",{className:"root",style:{marginTop:"-170px"}},s.createElement("div",{className:"reply-content"},s.createElement("div",{className:"substance"},a),s.createElement("div",{className:"comment1"},s.createElement("div",{id:e,className:"upup",style:{marginRight:"0.7rem"}},s.createElement("i",{title:"赞",onClick:this.like.bind(this),className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:t,className:"downdown"},s.createElement("i",{title:"踩",onClick:this.dislike.bind(this),className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike"}," ",s.createElement("div",{className:"commentbutton"},"   评分"))))):s.createElement("div",{className:"root",style:{marginTop:"-170px"}},s.createElement("div",{className:"reply-content"},s.createElement("div",{className:"substance"},a),s.createElement("div",{className:"comment"},s.createElement("div",{id:e,className:"upup",style:{marginRight:"0.7rem"}},s.createElement("i",{title:"赞",onClick:this.like.bind(this),className:"fa fa-thumbs-o-up fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.likeNumber)),s.createElement("div",{id:t,className:"downdown"},s.createElement("i",{title:"踩",onClick:this.dislike.bind(this),className:"fa fa-thumbs-o-down fa-lg"}),s.createElement("span",{className:"commentProp"}," ",this.state.dislikeNumber)),s.createElement("div",{id:"commentlike"}," ",s.createElement("div",{className:"commentbutton"},"   评分"))),s.createElement("div",{className:"signature"},s.createElement(u.UbbContainer,{code:this.props.signature}))))},t}(p);t.ReplyContent=_;var T=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={userName:"Mana",grade:10,reward:20,credit:"6666炒鸡赞",imgUrl:"/images/authorImg.jpg"},n}return n(t,e),t.prototype.render=function(){return s.createElement("div",{className:"good tagSize"},s.createElement("div",{id:"userImage"},s.createElement("img",{src:this.state.imgUrl})," "),s.createElement("div",{id:"userName"},s.createElement("span",null,this.state.userName)),s.createElement("div",{id:"grades"},s.createElement("span",null,"评分 "),s.createElement("span",{id:"grade"},"+",this.state.grade)),s.createElement("div",{id:"reward"},s.createElement("span",null,"赏金 "),s.createElement("span",{id:"money"},this.state.reward),s.createElement("span",null,"论坛币")),s.createElement("div",{id:"credit"},s.createElement("span",null,this.state.credit)))},t}(p);t.TopicGood=T;var k=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={option:"我认为他说的很对",votes:60,totalVotes:220,voted:!1},n}return n(t,e),t.prototype.render=function(){return s.createElement("div",{className:"vote"},s.createElement("div",{className:"row"},s.createElement("input",{id:"checkbox",type:"checkbox"})," ",s.createElement("span",{id:"option1",style:{marginLeft:"0.9375rem"}},this.state.option," ")),s.createElement("div",{className:"row",style:{alignItems:"center"}},s.createElement("div",{className:"progress"},s.createElement("div",{className:"voteResult"})),s.createElement("span",{style:{marginLeft:"0.9375rem"}},this.state.votes),s.createElement("span",null," (",this.state.votes/this.state.totalVotes*100,"%)")),s.createElement("div",{style:{marginLeft:"1.25rem"}},this.state.voted?s.createElement("span",null,"你已经投过票啦"):s.createElement("button",{className:"operation"},"投票")))},t}(p);t.TopicVote=k;var C=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={pager:[1,2,3,4,5]},n}return n(t,e),t.prototype.generatePageLink=function(e){return s.createElement(P,{pageNumber:e,topicid:this.props.topicid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this))))},t}(p);t.TopicPager=C;var x=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={pager:[1,2,3,4,5]},n}return n(t,e),t.prototype.generatePageLink=function(e){return s.createElement(P,{pageNumber:e,topicid:this.props.topicid,curPage:this.props.page,totalPage:this.props.totalPage})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){return t=i.getPager(e.page,e.totalPage),this.setState({pager:t}),[2]})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){return e=i.getPager(this.props.page,this.props.totalPage),this.setState({pager:e}),[2]})})},t.prototype.render=function(){return s.createElement("div",{className:"row",style:{width:"100%",justifyContent:"space-between",alignItems:"flex-end"}},s.createElement("div",{id:"pager"},s.createElement("div",{className:"row pagination"},this.state.pager.map(this.generatePageLink.bind(this)))))},t}(p);t.TopicPagerDown=x;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e;return this.props.pageNumber>0?(e="/topic/"+this.props.topicid+"/"+this.props.pageNumber,this.props.pageNumber!=this.props.curPage?s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},this.props.pageNumber)):s.createElement("li",{className:"page-item active"},s.createElement(l.Link,{className:"page-link",to:e},this.props.pageNumber))):-1==this.props.pageNumber?(e="/topic/"+this.props.topicid+"/"+(this.props.curPage-1),s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"‹"))):-2==this.props.pageNumber?(e="/topic/"+this.props.topicid+"/"+(this.props.curPage+1),s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"›"))):-3==this.props.pageNumber?(e="/topic/"+this.props.topicid,s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"‹‹"))):(e="/topic/"+this.props.topicid+"/"+this.props.totalPage,s.createElement("li",{className:"page-item"},s.createElement(l.Link,{className:"page-link",to:e},"››")))},t}(s.Component);t.PageModel=P;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return s.createElement("div",{id:"userMessageBox"},this.props.userName)},t}(s.Component);t.UserMessageBox=S;var O=function(e){function t(t){var r=e.call(this,t)||this;return r.state={content:""},r}return n(t,e),t.prototype.sendUbbTopic=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s;return a(this,function(a){switch(a.label){case 0:return e="http://apitest.niconi.cc/post/topic/"+this.props.topicid,t={content:this.state.content,contentType:0,title:""},r=JSON.stringify(t),n=i.getLocalStorage("accessToken"),o=new Headers,o.append("Authorization",n),o.append("Content-Type","application/json"),[4,fetch(e,{method:"POST",headers:o,body:r})];case 1:return s=a.sent(),this.props.onChange(),this.setState({content:""}),[2]}})})},t.prototype.sendMdTopic=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,c,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e="http://apitest.niconi.cc/post/topic/"+this.props.topicid,t=testEditor.getMarkdown(),r={content:t,contentType:1,title:""},n=JSON.stringify(r),o=i.getLocalStorage("accessToken"),s=new Headers,s.append("Authorization",o),s.append("Content-Type","application/json"),[4,fetch(e,{method:"POST",headers:s,body:n})];case 1:return c=a.sent(),402===c.status&&alert("请输入内容"),testEditor.setMarkdown(""),this.props.onChange(),this.setState({content:""}),[3,3];case 2:return l=a.sent(),console.log("Error"),console.log(l),[3,3];case 3:return[2]}})})},t.prototype.getInitialState=function(){return{value:""}},t.prototype.handleChange=function(e){this.setState({content:e.target.value})},t.prototype.render=function(){return editormd("test-editormd",{width:"100%",height:640,path:"/scripts/lib/editor.md/lib/",saveHTMLToTextarea:!1}),s.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},s.createElement("div",{id:"sendTopic"},s.createElement("form",null,s.createElement("div",{id:"test-editormd",className:"editormd"},s.createElement("textarea",{className:"editormd-markdown-textarea",name:"test-editormd-markdown-doc",value:this.state.content}))),s.createElement("div",{className:"row",style:{justifyContent:"center",marginBottom:"1.25rem "}},s.createElement("div",{id:"post-topic-button",onClick:this.sendMdTopic.bind(this),className:"button blue",style:{marginTop:"1.25rem",width:"4.5rem",letterSpacing:"0.3125rem"}},"回复"))),s.createElement("div",{id:"sendTopic"},s.createElement("div",{id:"sendTopic-options"},s.createElement("ul",{className:"editor__menu clearfix",id:"wmd-button-row"},s.createElement("li",{title:"加粗 <strong> Ctrl+B",className:"wmd-button",id:"wmd-bold-button"},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"0px 0px"}})),s.createElement("li",{title:"斜体 <em> Ctrl+I",className:"wmd-button",id:"wmd-italic-button",style:{left:" 25px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:" -20px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer1"}),s.createElement("li",{title:"链接 <a> Ctrl+L",className:"wmd-button",id:"wmd-link-button",style:{left:"75px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-40px 0px"}})),s.createElement("li",{title:"引用 <blockquote> Ctrl+Q",className:"wmd-button",id:"wmd-quote-button",style:{left:" 100px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-60px 0px"}})),s.createElement("li",{title:"代码 <pre><code> Ctrl+K",className:"wmd-button",id:"wmd-code-button",style:{left:" 125px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-80px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer2"}),s.createElement("li",{title:"图片 <img> Ctrl+G",className:"wmd-button",id:"wmd-image-button",style:{left:"150px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-100px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer2"}),s.createElement("li",{title:"数字列表 <ol> Ctrl+O",className:"wmd-button",id:"wmd-olist-button",style:{left:" 200px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-120px 0px"}})),s.createElement("li",{title:"普通列表 <ul> Ctrl+U",className:"wmd-button",id:"wmd-ulist-button",style:{left:"225px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:" -140px 0px"}})),s.createElement("li",{title:"标题 <h1>/<h2> Ctrl+H",className:"wmd-button",id:"wmd-heading-button",style:{left:"250px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-160px 0px"}})),s.createElement("li",{title:"分割线 <hr> Ctrl+R",className:"wmd-button",id:"wmd-hr-button",style:{left:"275px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-180px 0px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer3"}),s.createElement("li",{title:"撤销 - Ctrl+Z",className:"wmd-button",id:"wmd-undo-button",style:{left:"325px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-200px 0px"}})),s.createElement("li",{title:"重做 - Ctrl+Y",className:"wmd-button",id:"wmd-redo-button",style:{left:"350px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-220px -20px"}})),s.createElement("li",{className:"editor__menu--divider wmd-spacer1",id:"wmd-spacer4"}),s.createElement("li",{title:"Markdown 语法",className:"wmd-button",id:"wmd-help-button",style:{left:" 400px"}},s.createElement("a",{className:"editor__menu--bold",style:{backgroundPosition:"-300px 0px"}})))),s.createElement("form",null,s.createElement("div",null,s.createElement("textarea",{id:"sendTopic-input",name:"sendTopic-input",value:this.state.content,onChange:this.handleChange.bind(this)})))),s.createElement("div",{className:"row",style:{justifyContent:"center",marginBottom:"1.25rem "}},s.createElement("div",{id:"post-topic-button",onClick:this.sendUbbTopic.bind(this),className:"button blue",style:{marginTop:"1.25rem",width:"4.5rem",letterSpacing:"0.3125rem"}},"回复")))},t}(p);t.SendTopic=O},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(3),s=r(6),i=function(e){function t(t){var r=e.call(this,t)||this;return r.state={isScroll:!1,buttonClassName:"",navigationClassName:"user-center-navigation"},r.handleScroll=r.handleScroll.bind(r),r}return n(t,e),t.prototype.handleScroll=function(e){window.pageYOffset>234&&!this.state.isScroll&&this.setState({isScroll:!0,buttonClassName:"btn-show",navigationClassName:"user-center-navigation"}),window.pageYOffset<234&&this.state.isScroll&&this.setState(function(e){return""===e.buttonClassName?{isScroll:!1}:{isScroll:!1,buttonClassName:"btn-disappare",navigationClassName:"user-center-navigation"}})},t.prototype.componentDidMount=function(){document.addEventListener("scroll",this.handleScroll)},t.prototype.componentWillUnmount=function(){document.removeEventListener("scroll",this.handleScroll)},t.prototype.scrollToTop=function(){s("body,html").animate({scrollTop:0},500)},t.prototype.render=function(){return o.createElement("div",{className:this.state.navigationClassName,id:"userCenterNavigation"},o.createElement("ul",null,o.createElement(c,{to:"/usercenter",label:"主页",activeOnlyWhenExact:!0,myClassName:"fa-home"}),o.createElement("hr",null),o.createElement(c,{to:"/usercenter/myposts",label:"我的主题",myClassName:"fa-pencil-square-o"}),o.createElement("hr",null),o.createElement(c,{to:"/usercenter/myfavorites",label:"我的收藏",myClassName:"fa-star"}),o.createElement("hr",null),o.createElement(c,{to:"/usercenter/myfollowings",label:"我的关注",myClassName:"fa-heart"}),o.createElement("hr",null),o.createElement(c,{to:"/usercenter/myfans",label:"我的粉丝",myClassName:"fa-users"}),o.createElement("hr",null),o.createElement(c,{to:"/usercenter/config",label:"功能设置",myClassName:"fa-cog"})),o.createElement("button",{type:"button",id:"scrollToTop",className:this.state.buttonClassName,onClick:this.scrollToTop},"回到顶部"))},t}(o.Component);t.UserCenterNavigation=i;var c=function(e){var t=e.label,r=e.to,n=e.activeOnlyWhenExact,s=void 0!==n&&n,i=e.myClassName;return o.createElement(a.Route,{path:r,exact:s,children:function(e){var n=e.match;return o.createElement("li",{className:n?"user-center-navigation-active":""},o.createElement(a.Link,{className:""+i,to:r},o.createElement("p",null,t)))}})}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(3),s=r(1),i=r(62),c=r(65),l=r(83),u=r(84),p=r(85),m=r(89),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){s.isLogOn();return s.isLogOn()?o.createElement("div",{className:"user-center-router"},o.createElement(a.Route,{exact:!0,path:"/usercenter/",component:i.UserCenterExact}),o.createElement(a.Route,{path:"/usercenter/myfollowings/:page?",component:c.UserCenterMyFollowings}),o.createElement(a.Route,{path:"/usercenter/myfans/:page?",component:l.UserCenterMyFans}),o.createElement(a.Route,{path:"/usercenter/myposts/:page?",component:u.UserCenterMyPostsExact}),o.createElement(a.Route,{path:"/usercenter/myfavorites",component:p.UserCenterMyFavorites}),o.createElement(a.Route,{path:"/usercenter/config",component:m.UserCenterConfig})):o.createElement("div",{className:"user-center-router"},"请先登录")},t}(o.Component);t.UserCenterRouter=d},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(63),s=r(16),i=r(17),c=r(1),l=function(e){function t(t){var r=e.call(this,t)||this,n=c.getLocalStorage("userInfo");return console.log(n),r.state={userInfo:n,userAvatarImgURL:n.portraitUrl},r}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"user-center-exact"},o.createElement(i.UserCenterExactAvatar,{userAvatarImgURL:this.state.userAvatarImgURL}),o.createElement(a.UserCenterExactProfile,{userInfo:this.state.userInfo}),o.createElement(s.UserCenterExactActivities,null))},t}(o.Component);t.UserCenterExact=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrivilegeColor=function(){switch(this.props.userInfo.privilege){case"注册用户":return"grey";case"超级版主":return"pink";case"全站贵宾":return"blue";case"管理员":return"red"}},t.prototype.render=function(){return o.createElement("div",{className:"user-profile"},o.createElement("div",{id:"userId"},o.createElement("p",null,this.props.userInfo.name,"      ",o.createElement("span",{style:{fontSize:"12px",color:this.getPrivilegeColor()}},this.props.userInfo.privilege)),o.createElement("button",{type:"button",onClick:function(){location.pathname="/message/message"}},"私信")),o.createElement("div",{id:"userGenderAndBirthday"},o.createElement("p",null,"性别：  ",1===this.props.userInfo.gender?"男":"女"," "),null===this.props.userInfo.birthday?null:o.createElement("p",null,"生日：  ",this.props.userInfo.birthday.slice(0,this.props.userInfo.birthday.indexOf("T"))),this.props.userInfo.emailAddress?o.createElement("p",null,"邮箱：  ",this.props.userInfo.emailAddress):null,this.props.userInfo.qq?o.createElement("p",null,"QQ：  ",this.props.userInfo.qq):null,this.props.userInfo.postCount?o.createElement("p",null,"发帖数：  ",this.props.userInfo.postCount):null,this.props.userInfo.prestige?o.createElement("p",null,"威望：  ",this.props.userInfo.prestige):null,this.props.userInfo.displayTitle?o.createElement("p",null,"用户组：  ",this.props.userInfo.displayTitle):null,this.props.userInfo.registerTime?o.createElement("p",null,"注册时间：  ",this.props.userInfo.registerTime.replace("T"," ")):null,this.props.userInfo.lastLogOnTime?o.createElement("p",null,"最后登录时间：  ",this.props.userInfo.lastLogOnTime.replace("T"," ")):null),this.props.userInfo.signatureCode?o.createElement("div",{className:"user-description"},o.createElement("p",null,"个性签名"),o.createElement(a.UbbContainer,{code:this.props.userInfo.signatureCode})):null)},t}(o.Component);t.UserCenterExactProfile=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(10),c=r(5),l=r(1),u=function(e){function t(t){var r=e.call(this,t)||this;return r.state={userRecentPosts:[],isLoading:!1},r.scrollHandler=r.scrollHandler.bind(r),r}return n(t,e),t.prototype.scrollHandler=function(e){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,i,c,u;return a(this,function(a){switch(a.label){case 0:return(e=document.body.scrollHeight-window.pageYOffset)<1500&&!1===this.state.isLoading?(this.setState({isLoading:!0}),t="http://apitest.niconi.cc/me/recenttopics?from="+this.state.userRecentPosts.length+"&size=10",r=l.getLocalStorage("accessToken"),n=new Headers,n.append("Authorization",r),[4,fetch(t,{headers:n})]):[3,6];case 1:return o=a.sent(),[4,o.json()];case 2:s=a.sent(),s.length<10&&window.removeEventListener("scroll",this.scrollHandler),i=this.state.userRecentPosts,c=s.length,a.label=3;case 3:return c--?[4,this.item2post(s[c])]:[3,5];case 4:return u=a.sent(),i.push(u),[3,3];case 5:this.setState({userRecentPosts:i,isLoading:!1}),a.label=6;case 6:return[2]}})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,i,c;return a(this,function(a){switch(a.label){case 0:return e="http://apitest.niconi.cc/me/recenttopics?from=0&size=10",t=window.localStorage.accessToken.slice(4),r=new Headers,r.append("Authorization",t),[4,fetch(e,{headers:r})];case 1:return n=a.sent(),[4,n.json()];case 2:o=a.sent(),s=[],i=o.length,a.label=3;case 3:return i--?[4,this.item2post(o[i])]:[3,5];case 4:return c=a.sent(),s.unshift(c),[3,3];case 5:return this.setState({userRecentPosts:s}),10===o.length&&window.addEventListener("scroll",this.scrollHandler),[2]}})})},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollHandler)},t.prototype.item2post=function(e){return o(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return t=new c.UserRecentPost,t.approval=e.likeCount,r=t,[4,l.getBoardName(e.boardId,this.context.router)];case 1:return r.board=n.sent(),t.date=e.time.replace("T"," ").slice(0,19),t.disapproval=e.dislikeCount,t.content=e.title,t.id=e.id,t.boardId=e.boardId,t.name=e.userName,t.isAnonymous=e.isAnonymous,[2,t]}})})},t.prototype.render=function(){if(0===this.state.userRecentPosts.length){var e={marginLeft:"2rem"};return s.createElement("div",{className:"user-posts",style:e},"没有主题")}for(var t=this.state.userRecentPosts.map(function(e){return s.createElement(i.UserCenterExactActivitiesPost,{userRecentPost:e})}),r=1;r<t.length;r+=2)t.splice(r,0,s.createElement("hr",null));return s.createElement("div",{className:"user-posts"},t)},t}(s.Component);t.UserCenterExactActivitiesPosts=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(5),c=r(7),l=r(28),u=r(8),p=r(1),m=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={userFollowings:[],totalPage:2,info:"加载中"},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,c,l,u,m,d,h;return a(this,function(a){switch(a.label){case 0:return e=p.getLocalStorage("accessToken"),t=this.match.params.page||1,r="http://apitest.niconi.cc/user/follow/follower?from="+10*(t-1)+"&size=10",n=new Headers,n.append("Authorization",e),[4,fetch(r,{headers:n})];case 1:return o=a.sent(),[4,o.json()];case 2:if(!(s=a.sent())||!s.length)return this.setState({info:"没有关注"}),[2,!1];c=[],l=s.length,a.label=3;case 3:return l--?(m=s[l],d=new i.UserFanInfo,r="http://apitest.niconi.cc/user/"+m,[4,fetch(r)]):[3,6];case 4:return o=a.sent(),[4,o.json()];case 5:return u=a.sent(),d.name=u.name,d.avatarImgURL=u.portraitUrl,d.posts=u.postCount,d.id=m,d.fans=u.fanCount,c.push(d),[3,3];case 6:return h=p.getLocalStorage("userInfo").id,r="http://apitest.niconi.cc/user/follow/followcount?userid="+h,[4,fetch(r)];case 7:return o=a.sent(),[4,o.json()];case 8:return u=a.sent(),this.setState({userFollowings:c,totalPage:u%10==0?u/10:Math.floor(u/10)+1}),[2]}})})},t.prototype.render=function(){if(0===this.state.userFollowings.length)return s.createElement("div",{className:"user-center-myfollowings"},this.state.info);for(var e=this.state.userFollowings.map(function(e){return s.createElement(l.UserCenterMyFollowingsUser,{userFanInfo:e})}),t=1;t<e.length;t+=2)e.splice(t,0,s.createElement("hr",null));var r=this.match.params.page||1;return s.createElement("div",{className:"user-center-myfollowings"},s.createElement("div",{className:"user-center-myfollowings-exact"},e),s.createElement(u.UserCenterPageCount,{currentPage:r,totalPage:this.state.totalPage,href:"/usercenter/myfollowings/"}))},t}(c.RouteComponent);t.UserCenterMyFollowings=m},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(67),c=r(68),l=r(1),u=function(e){function t(t){var r=e.call(this,t)||this;r.coverMessagePerson=function(e){var t=function(){r.setState({chatObj:e}),$(".message-message-pList > div").removeClass("message-message-pFocus"),$("#"+e.name).addClass("message-message-pFocus")};return s.createElement("div",{onClick:t,id:""+e.name},s.createElement(i.MessagePerson,{data:e}))};var n=[{id:null,name:"系统",portraitUrl:"http://www.cc98.org/pic/anonymous.gif",message:[{id:9898,senderId:9898,receiverId:9898,content:"",isRead:!0,time:new Date}]}];return r.state={data:n,chatObj:n[0]},r.getMoreContact=r.getMoreContact.bind(r),r.onChange=r.onChange.bind(r),r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return e=l.getLocalStorage("accessToken"),console.log(e),t=l.getLocalStorage("userInfo"),r=l.getStorage("recentContact"),r?[3,2]:[4,l.getRecentContact(0,7,this.context.router)];case 1:r=n.sent(),console.log("获取到的联系人"),console.log(r),l.setStorage("recentContact",r),n.label=2;case 2:return[4,l.sortContactList(r,this.context.router)];case 3:return r=n.sent(),r&&this.setState({data:r,chatObj:r[0]}),$("#"+this.state.chatObj.name).addClass("message-message-pFocus"),[2]}})})},t.prototype.getMoreContact=function(){return o(this,void 0,void 0,function(){var e,t;return a(this,function(r){switch(r.label){case 0:return"none"!=$("#moreDone").css("display")?[3,2]:($("#moreImg").removeClass("displaynone"),$("#moreDot").addClass("displaynone"),$("#moreShow").addClass("displaynone"),e=l.getStorage("recentContact"),[4,l.getRecentContact(e.length,7,this.context.router)]);case 1:t=r.sent(),e=e.concat(t),this.setState({data:e}),l.setStorage("recentContact",e),t.length<7?($("#moreImg").addClass("displaynone"),$("#moreDone").removeClass("displaynone")):($("#moreImg").addClass("displaynone"),$("#moreDot").removeClass("displaynone"),$("#moreShow").removeClass("displaynone")),r.label=2;case 2:return[2]}})})},t.prototype.onChange=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){return e=l.getStorage("recentContact"),this.setState({data:e,chatObj:e[0]}),$(".message-message-pList > div").removeClass("message-message-pFocus"),$("#"+this.state.chatObj.name).addClass("message-message-pFocus"),[2]})})},t.prototype.render=function(){return $(".message-nav > div").removeClass("message-nav-focus"),$("#message").addClass("message-nav-focus"),console.log("重新渲染"),s.createElement("div",{className:"message-message"},s.createElement("div",{className:"message-message-people"},s.createElement("div",{className:"message-message-pTitle"},"近期私信"),s.createElement("div",{className:"message-message-pList"},this.state.data.map(this.coverMessagePerson),s.createElement("div",{className:"message-message-plMore",onClick:this.getMoreContact},s.createElement("img",{id:"moreImg",src:"http://file.cc98.org/uploadfile/2017/11/19/2348481046.gif",className:"displaynone"}),s.createElement("div",{id:"moreDot"},"..."),s.createElement("div",{id:"moreShow"},"点此显示更多"),s.createElement("div",{id:"moreDone",className:"displaynone"},"已全部显示")))),s.createElement(c.MessageWindow,{data:this.state.chatObj,onChange:this.onChange}))},t}(s.Component);t.MessageMessage=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props.data;return 0==e.message.length&&(e.message=[{id:9898,senderId:9898,receiverId:9898,content:"",isRead:!0,time:new Date}]),o.createElement("div",{className:"message-message-person"},o.createElement("img",{className:"message-message-pPortraitUrl",src:e.portraitUrl}),o.createElement("div",{className:"message-message-pInfo"},o.createElement("div",{className:"message-message-pName"},e.name),o.createElement("div",{className:"message-message-pMessage"},e.message[0].content)))},t}(o.Component);t.MessagePerson=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(69),c=r(70),l=r(1),u=function(e){function t(t){var r=e.call(this,t)||this;return r.coverMessageProps=function(e){var t=l.getLocalStorage("userInfo"),n=r.props.data;return e.receiverId==t.id?s.createElement(c.MessageReceiver,{id:e.id,senderName:n.name,receiverName:t.name,senderPortraitUrl:n.portraitUrl,receiverPortraitUrl:t.portraitUrl,content:e.content,isRead:e.isRead,time:e.time}):e.senderId==t.id?s.createElement(i.MessageSender,{id:e.id,senderName:t.name,receiverName:n.name,senderPortraitUrl:t.portraitUrl,receiverPortraitUrl:n.portraitUrl,content:e.content,isRead:e.isRead,time:e.time}):void 0},r.report=function(){alert("举报他人恶意私信请到【论坛事务】按照格式发帖投诉，记得截图保留证据，管理员会及时进行处理！感谢您对CC98的支持！")},r.state={data:[]},r.handleScroll=r.handleScroll.bind(r),r.getNewMessage=r.getNewMessage.bind(r),r.postMessage=r.postMessage.bind(r),r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return this.setState({data:this.props.data.message}),document.getElementById("messageContent").addEventListener("scroll",this.handleScroll),$("#messageContent")[0].scrollTop=3e3,[2]})})},t.prototype.componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){return document.getElementById("quickToTheBottom").scrollIntoView(),this.setState({data:e.data.message}),[2]})})},t.prototype.handleScroll=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s;return a(this,function(a){switch(a.label){case 0:return 0!=(e=$("#messageContent")[0].scrollTop)?[3,2]:(console.log("到顶啦"),$("#wcLoadingImg").removeClass("displaynone"),t=this.state.data,[4,l.getRecentMessage(this.props.data.id,t.length,10,this.context.router)]);case 1:if(r=a.sent(),r.length>0){if(n=t.concat(r),this.setState({data:n}),o=l.getStorage("recentContact")){for(s in o)if(o[s].id==this.props.data.id){o[s].message=n;break}l.setStorage("recentContact",o)}}else console.log("没有"),$("#wcLoadingImg").addClass("displaynone"),$("#wcLoadingText").removeClass("displaynone");a.label=2;case 2:return[2]}})})},t.prototype.getNewMessage=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,i;return a(this,function(a){switch(a.label){case 0:return document.getElementById("quickToTheBottom").scrollIntoView(),[4,l.getRecentMessage(this.props.data.id,0,10,this.context.router)];case 1:if(e=a.sent(),t=[],r=l.getStorage("recentContact")){for(n=0;n<r.length;n++)if(r[n].id==this.props.data.id){if((t=r[n].message)!=[])for(o=0;o<e.length;o++)if(e[o].id==t[0].id){e=e.slice(0,o).concat(t),console.log("获取到了新私信");break}r[n].message=e;break}n==r.length?(s=[this.props.data],s[0].message=e,r=s.concat(r),l.setStorage("recentContact",r),this.setState({data:e})):0==n?(l.setStorage("recentContact",r),this.setState({data:e})):(i=r[n],r.splice(n,1),r.unshift(i),l.setStorage("recentContact",r),this.props.onChange())}return[2]}})})},t.prototype.handleFocus=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return $("#wPostNotice").addClass("displaynone"),$("#wPostError").addClass("displaynone"),$("#postContent")[0].focus(),[2]})})},t.prototype.handleBlur=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return""==$("#postContent").val()&&("none"==$("#wPostNotice").css("display")?$("#wPostNotice").removeClass("displaynone"):$("#wPostNotice").addClass("displaynone")),[2]})})},t.prototype.postMessage=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return""==$("#postContent").val()?[2]:(e={receiverId:this.props.data.id,content:$("#postContent").val()},t=JSON.stringify(e),[4,l.sendMessage(t,this.context.router)]);case 1:return r=n.sent(),403==r.status?($("#postContent").val(""),$("#wPostError").removeClass("displaynone"),[2]):(setTimeout(this.getNewMessage,200),$("#postContent").val(""),[2])}})})},t.prototype.render=function(){console.log("4");var e=this.props.data;return s.createElement("div",{className:"message-message-window"},s.createElement("div",{className:"message-message-wHeader"},s.createElement("div",{className:"message-message-wReport"}),s.createElement("div",{className:"message-message-wTitle"},"与 ",e.name," 的私信"),s.createElement("div",{className:"message-message-wReport"},s.createElement("button",{onClick:this.report},"举报"))),s.createElement("div",{className:"message-message-wContent",id:"messageContent"},s.createElement("div",{id:"quickToTheBottom",className:"quickToTheBottom"}),this.state.data.map(this.coverMessageProps),s.createElement("div",{className:"message-message-wcLoading"},s.createElement("img",{src:"http://file.cc98.org/uploadfile/2017/11/19/2348481046.gif",id:"wcLoadingImg",className:"displaynone"}),s.createElement("div",{id:"wcLoadingText",className:"message-message-wcLoadingText displaynone"},"-----------已加载全部私信-----------"))),s.createElement("div",{className:"message-message-wPost"},s.createElement("textarea",{className:"message-message-wPostArea",id:"postContent",onFocus:this.handleFocus,onBlur:this.handleBlur}),s.createElement("div",{id:"wPostNotice",className:"message-message-wPostNotice",onClick:this.handleFocus},"请在这里填入您要发送的私信内容"),s.createElement("div",{id:"wPostError",className:"message-message-wPostError displaynone",onClick:this.handleFocus},"您的发送过于频繁，请稍作歇息"),s.createElement("button",{className:"message-message-wPostBtn",onClick:this.postMessage},"回复")))},t}(s.Component);t.MessageWindow=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e="/user/name/"+this.props.senderName;return o.createElement("div",{className:"message-message-wc"},o.createElement("div",{className:"message-message-wcTime"},moment(this.props.time).format("YYYY-MM-DD HH:mm:ss")),o.createElement("div",{className:"message-message-wcSender"},o.createElement("a",{href:e,target:"_blank"},o.createElement("img",{className:"message-message-wcPortraitUrl",src:this.props.senderPortraitUrl})),o.createElement("div",{className:"message-message-wcContent"},o.createElement("div",{id:String(this.props.id),className:"message-message-wcText"},o.createElement(a.UbbContainer,{code:this.props.content}))),o.createElement("div",{className:"message-message-wcRead1"},o.createElement("div",{className:"message-message-wcRead2"},this.props.isRead?"已读":"未读"))))},t}(o.Component);t.MessageSender=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e="/user/name/"+this.props.senderName;return o.createElement("div",{className:"message-message-wc"},o.createElement("div",{className:"message-message-wcTime"},moment(this.props.time).format("YYYY-MM-DD HH:mm:ss")),o.createElement("div",{className:"message-message-wcReceiver"},o.createElement("a",{href:e,target:"_blank"},o.createElement("img",{className:"message-message-wcPortraitUrl",src:this.props.senderPortraitUrl})),o.createElement("div",{className:"message-message-wcContent"},o.createElement("div",{className:"message-message-wcText",id:String(this.props.id)},o.createElement(a.UbbContainer,{code:this.props.content})))))},t}(o.Component);t.MessageReceiver=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return $(".message-nav > div").removeClass("message-nav-focus"),$("#response").addClass("message-nav-focus"),o.createElement("div",null,"这里是我的回复")},t}(o.Component);t.MessageResponse=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return $(".message-nav > div").removeClass("message-nav-focus"),$("#attme").addClass("message-nav-focus"),o.createElement("div",null,"这里是@我的消息")},t}(o.Component);t.MessageAttme=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return $(".message-nav > div").removeClass("message-nav-focus"),$("#system").addClass("message-nav-focus"),o.createElement("div",null,"这里是系统消息")},t}(o.Component);t.MessageSystem=a},function(e,t,r){"use strict";function n(e){return p.createElement(m.FocusTopicSingle,{title:e.title,hitCount:e.hitCount,id:e.id,boardId:e.boardId,boardName:e.boardName,replyCount:e.replyCount,userId:e.userId,userName:e.userName,portraitUrl:e.portraitUrl,time:e.time,likeCount:e.likeCount,dislikeCount:e.dislikeCount,fanCount:e.fanCount})}function o(){var e=0,t=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(t=document.documentElement.scrollTop),e-t>0?e:t}function a(){var e=0,t=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t}function s(){return"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function i(){return o()+s()+300>a()}var c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var p=r(0),m=r(20),d=r(1),h=function(e){function t(t){var r=e.call(this,t)||this,n=d.getStorage("AllNewTopic");return n||(n=[]),r.state={data:n,curNum:0,loading:!0},r.handleScroll=r.handleScroll.bind(r),r}return c(t,e),t.prototype.componentDidMount=function(){return l(this,void 0,void 0,function(){var e,t,r;return u(this,function(n){switch(n.label){case 0:return[4,d.getAllNewTopic(this.state.curNum,this.context.router)];case 1:if(e=n.sent(),t=d.getStorage("AllNewTopic"))for(r=0;r<e.length;r++)if(e[r].id==t[0].id){e=e.slice(0,r).concat(t);break}return e.length>100&&(e=e.slice(0,100)),d.setStorage("AllNewTopic",e),this.setState({data:e,curNum:e.length}),document.addEventListener("scroll",this.handleScroll),[2]}})})},t.prototype.componentWillUnmount=function(){return l(this,void 0,void 0,function(){return u(this,function(e){return document.removeEventListener("scroll",this.handleScroll),[2]})})},t.prototype.handleScroll=function(){return l(this,void 0,void 0,function(){var e,t,r;return u(this,function(n){switch(n.label){case 0:if(!i()||!this.state.loading)return[3,5];if(this.state.curNum>=99)return $("#focus-topic-loading").addClass("displaynone"),$("#focus-topic-loaddone").removeClass("displaynone"),[2];this.setState({loading:!1}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,d.getAllNewTopic(this.state.curNum,this.context.router)];case 2:return e=n.sent(),[3,4];case 3:return t=n.sent(),this.setState({loading:!0}),[2];case 4:r=this.state.data.concat(e),this.setState({data:r,curNum:r.length,loading:!0}),d.setStorage("AllNewTopic",r),n.label=5;case 5:return[2]}})})},t.prototype.render=function(){return p.createElement("div",{className:"focus-topic-area"},p.createElement("div",{className:"focus-topic-topicArea"},this.state.data.map(n)),p.createElement("div",{className:"focus-topic-loading",id:"focus-topic-loading"},p.createElement("img",{src:"http://ww3.sinaimg.cn/large/0060lm7Tgy1fitwrd6yv0g302s0093y9.gif"})),p.createElement("div",{className:"focus-topic-loaddone displaynone",id:"focus-topic-loaddone"},"---------------------- 已加载100条帖子，无法加载更多 ----------------------"))},t}(p.Component);t.AllNewTopicArea=h},function(e,t,r){"use strict";function n(e){return i.createElement(c.FocusBoardSingle,{id:e.id,name:e.name})}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),c=r(76),l=r(1),u=function(e){function t(t){var r=e.call(this,t)||this,n=l.getStorage("focusBoardList");return console.log(n),n||(n=[]),r.state={data:n},r}return o(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,r,n,o,a,i,c,u,p,m;return s(this,function(s){switch(s.label){case 0:return(e=l.getStorage("focusBoardList"))?(this.setState({data:e}),[3,7]):[3,1];case 1:e=[],t=l.getLocalStorage("accessToken"),r=l.getLocalStorage("userInfo"),n=r.customBoards,o=new Headers,o.append("Authorization",t),a=[];for(i in n)a.push(i);c=0,s.label=2;case 2:return c<a.length?(u=a[c],[4,fetch("http://apitest.niconi.cc/board/"+n[u],{headers:o})]):[3,6];case 3:return p=s.sent(),[4,p.json()];case 4:m=s.sent(),e.push({id:n[u],name:m.name}),s.label=5;case 5:return c++,[3,2];case 6:this.setState({data:e}),l.setStorage("focusBoardList",e),s.label=7;case 7:return[2]}})})},t.prototype.render=function(){return i.createElement("div",{className:"focus-board-area"},this.state.data.map(n))},t}(i.Component);t.FocusBoardArea=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e="/list/"+this.props.id;return o.createElement("a",{href:e,target:"_blank"},o.createElement("div",{className:"focus-board"},this.props.name))},t}(o.Component);t.FocusBoardSingle=a},function(e,t,r){"use strict";function n(e){return i.createElement(c.FocusTopicSingle,{title:e.title,hitCount:e.hitCount,id:e.id,boardId:e.boardId,boardName:e.boardName,replyCount:e.replyCount,userId:e.userId,userName:e.userName,portraitUrl:e.portraitUrl,time:e.time,likeCount:e.likeCount,dislikeCount:e.dislikeCount,fanCount:e.fanCount})}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),c=r(20),l=r(1),u=function(e){function t(t){var r=e.call(this,t)||this,n=l.getStorage("focusBoardTopic");return n||(n=[]),r.state={data:n,curNum:0,loading:!0},r.handleScroll=r.handleScroll.bind(r),r}return o(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,r;return s(this,function(n){switch(n.label){case 0:return[4,l.getFocusTopic(this.state.curNum,this.context.router)];case 1:if(e=n.sent(),t=l.getStorage("focusBoardTopic"))for(r=0;r<e.length;r++)if(e[r].id==t[0].id){e=e.slice(0,r).concat(t);break}return e.length>100&&(e=e.slice(0,100)),this.setState({data:e,curNum:e.length}),l.setStorage("focusBoardTopic",e),document.addEventListener("scroll",this.handleScroll),[2]}})})},t.prototype.componentWillUnmount=function(){return a(this,void 0,void 0,function(){return s(this,function(e){return document.removeEventListener("scroll",this.handleScroll),[2]})})},t.prototype.handleScroll=function(){return a(this,void 0,void 0,function(){var e,t,r;return s(this,function(n){switch(n.label){case 0:if(!l.isBottom()||!this.state.loading)return[3,5];if(this.state.curNum>=99)return $("#focus-topic-loading").addClass("displaynone"),$("#focus-topic-loaddone").removeClass("displaynone"),[2];this.setState({loading:!1}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,l.getFocusTopic(this.state.curNum,this.context.router)];case 2:return e=n.sent(),[3,4];case 3:return t=n.sent(),this.setState({loading:!0}),[2];case 4:r=this.state.data.concat(e),this.setState({data:r,curNum:r.length,loading:!0}),l.setStorage("focusBoardTopic",r),n.label=5;case 5:return[2]}})})},t.prototype.render=function(){return i.createElement("div",{className:"focus-topic-area"},i.createElement("div",{className:"focus-topic-topicArea"},this.state.data.map(n)),i.createElement("div",{className:"focus-topic-loading",id:"focus-topic-loading"},i.createElement("img",{src:"http://ww3.sinaimg.cn/large/0060lm7Tgy1fitwrd6yv0g302s0093y9.gif"})),i.createElement("div",{className:"focus-topic-loaddone displaynone",id:"focus-topic-loaddone"},"---------------------- 已加载100条新帖，无法加载更多 ----------------------"))},t}(i.Component);t.FocusTopicArea=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(3),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"user-center-navigation",id:"userCenterNavigation"},o.createElement("ul",null,o.createElement(i,{to:""+location.pathname,label:"主页",activeOnlyWhenExact:!0,myClassName:"fa-home"}),o.createElement("hr",null)))},t}(o.Component);t.UserNavigation=s;var i=function(e){var t=e.label,r=e.to,n=e.activeOnlyWhenExact,s=void 0!==n&&n,i=e.myClassName;return o.createElement(a.Route,{path:r,exact:s,children:function(e){var n=e.match;return o.createElement("li",{className:n?"user-center-navigation-active":""},o.createElement(a.Link,{className:""+i,to:r},o.createElement("p",null,t)))}})}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(3),c=r(80),l=r(16),u=r(17),p=r(1),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return s.createElement("div",{className:"user-center-router"},s.createElement(i.Route,{path:"/user/",component:d}))},t}(s.Component);t.UserRouter=m;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return p.isLogOn()&&(e={Authorization:p.getLocalStorage("accessToken")}),location.pathname.split("/")[2]?"name"!==location.pathname.split("/")[2]?[3,2]:[4,fetch("http://apitest.niconi.cc/User/Name/"+location.pathname.split("/")[3],{headers:e})]:[2,0];case 1:return t=n.sent(),[3,4];case 2:return[4,fetch("http://apitest.niconi.cc/User/"+location.pathname.split("/")[2],{headers:e})];case 3:t=n.sent(),n.label=4;case 4:return[4,t.json()];case 5:return r=n.sent(),console.log(r),this.setState({userInfo:r,userAvatarImgURL:r.portraitUrl,responseState:t.status}),[2]}})})},t.prototype.render=function(){return null!==this.state&&200===this.state.responseState?s.createElement("div",{className:"user-center-exact"},s.createElement(u.UserCenterExactAvatar,{userAvatarImgURL:this.state.userAvatarImgURL}),s.createElement(c.UserExactProfile,{userInfo:this.state.userInfo}),s.createElement(l.UserCenterExactActivities,null)):s.createElement("p",null,"加载中")},t}(s.Component)},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(4),c=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.state={isFollowing:r.props.userInfo.isFollowing,buttonIsDisabled:!1,buttonInfo:r.props.userInfo.isFollowing?"取消关注":"关注"},r.unfollow=r.unfollow.bind(r),r.follow=r.follow.bind(r),r}return n(t,e),t.prototype.follow=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o;return a(this,function(a){switch(a.label){case 0:return(e=c.getLocalStorage("accessToken"))?(t=this.props.userInfo.id,r="http://apitest.niconi.cc/user/follow/"+t,n=new Headers,n.append("Authorization",e),[4,fetch(r,{method:"POST",headers:n})]):(this.setState({buttonIsDisabled:!0,buttonInfo:"请先登录"}),[2]);case 1:return o=a.sent(),200===o.status?this.setState({buttonIsDisabled:!1,buttonInfo:"取消关注",isFollowing:!0}):this.setState({buttonIsDisabled:!1,buttonInfo:"关注失败",isFollowing:!1}),[2]}})})},t.prototype.getPrivilegeColor=function(){switch(this.props.userInfo.privilege){case"注册用户":return"grey";case"超级版主":return"pink";case"全站贵宾":return"blue";case"管理员":return"red"}},t.prototype.unfollow=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o;return a(this,function(a){switch(a.label){case 0:return this.setState({buttonIsDisabled:!0,buttonInfo:"取关中"}),e=c.getLocalStorage("accessToken"),t=this.props.userInfo.id,r="http://apitest.niconi.cc/user/unfollow/"+t,n=new Headers,n.append("Authorization",e),[4,fetch(r,{method:"DELETE",headers:n})];case 1:return o=a.sent(),200===o.status?this.setState({buttonIsDisabled:!1,buttonInfo:"重新关注",isFollowing:!1}):this.setState({buttonIsDisabled:!1,buttonInfo:"取关失败",isFollowing:!0}),[2]}})})},t.prototype.render=function(){var e=this;return s.createElement("div",{className:"user-profile"},s.createElement("div",{id:"userId"},s.createElement("div",{id:"userId"},s.createElement("p",null,this.props.userInfo.name,"      ",s.createElement("span",{style:{fontSize:"12px",color:this.getPrivilegeColor()}},this.props.userInfo.privilege)),s.createElement("button",{type:"button",onClick:function(){location.href="/message/message?id="+e.props.userInfo.id}},"私信"),s.createElement("button",{type:"button",id:this.state.isFollowing?"unfollow":"",onClick:this.state.isFollowing?this.unfollow:this.follow,disabled:this.state.buttonIsDisabled},this.state.buttonInfo))),s.createElement("div",{id:"userGenderAndBirthday"},s.createElement("p",null,"性别：  ",1===this.props.userInfo.gender?"男":"女"," "),null===this.props.userInfo.birthday?null:s.createElement("p",null,"生日：  ",this.props.userInfo.birthday.slice(0,this.props.userInfo.birthday.indexOf("T"))),this.props.userInfo.emailAddress?s.createElement("p",null,"邮箱：  ",this.props.userInfo.emailAddress):null,this.props.userInfo.qq?s.createElement("p",null,"QQ：  ",this.props.userInfo.qq):null,this.props.userInfo.postCount?s.createElement("p",null,"发帖数：  ",this.props.userInfo.postCount):null,this.props.userInfo.prestige?s.createElement("p",null,"威望：  ",this.props.userInfo.prestige):null,this.props.userInfo.displayTitle?s.createElement("p",null,"用户组：  ",this.props.userInfo.displayTitle):null,this.props.userInfo.registerTime?s.createElement("p",null,"注册时间：  ",this.props.userInfo.registerTime.replace("T"," ")):null,this.props.userInfo.lastLogOnTime?s.createElement("p",null,"最后登录时间：  ",this.props.userInfo.lastLogOnTime.replace("T"," ")):null),this.props.userInfo.signatureCode?s.createElement("div",{className:"user-description"},s.createElement("p",null,"个性签名"),s.createElement(i.UbbContainer,{code:this.props.userInfo.signatureCode})):null)},t}(s.Component);t.UserExactProfile=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(6),c=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.state={loginName:"",loginPassword:"",loginMessage:"",isLogining:!1},r.handleNameChange=r.handleNameChange.bind(r),r.handlePasswordChange=r.handlePasswordChange.bind(r),r.handleLogin=r.handleLogin.bind(r),r}return n(t,e),t.prototype.shake=function(e){return e.classList.add("shake"),setTimeout(function(){e.classList.remove("shake")},500),e},t.prototype.handleNameChange=function(e){this.setState({loginName:e.target.value})},t.prototype.handlePasswordChange=function(e){this.setState({loginPassword:e.target.value})},t.prototype.handleLogin=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,s,l,u,p,m;return a(this,function(a){switch(a.label){case 0:return e.preventDefault(),this.state.isLogining?[2,!1]:this.state.loginName?this.state.loginPassword?(this.setState({loginMessage:"登录中",isLogining:!0}),t="https://openid.cc98.org/connect/token",r={client_id:"9a1fd200-8687-44b1-4c20-08d50a96e5cd",client_secret:"8b53f727-08e2-4509-8857-e34bf92b27f2",grant_type:"password",username:this.state.loginName,password:this.state.loginPassword,scope:"cc98-api openid"},n=new Headers,n.append("Content-Type","application/x-www-form-urlencoded"),[4,fetch(t,{method:"POST",headers:n,body:i.param(r)})]):(this.setState({loginMessage:"请输入密码"}),this.shake(document.getElementById("loginPassword")).focus(),[2,!1]):(this.setState({loginMessage:"请输入用户名"}),this.shake(document.getElementById("loginName")).focus(),[2,!1]);case 1:return o=a.sent(),200!==o.status?(this.setState({loginMessage:"登录失败 "+o.status,isLogining:!1}),[2,!1]):[4,o.json()];case 2:return s=a.sent(),l="Bearer "+encodeURIComponent(s.access_token),c.setLocalStorage("accessToken",l,s.expires_in),c.setLocalStorage("userName",this.state.loginName),c.setLocalStorage("password",this.state.loginPassword),u=new Headers,u.append("Authorization",l),[4,fetch("http://apitest.niconi.cc/user/name/"+this.state.loginName,{headers:u})];case 3:return p=a.sent(),[4,p.json()];case 4:return m=a.sent(),c.setLocalStorage("userInfo",m),this.setState({loginMessage:"登录成功 正在返回首页",isLogining:!1}),setTimeout(function(){location.pathname="/"},1e3),[2]}})})},t.prototype.catch=function(e){console.log("Oops, error",e),this.setState({loginMessage:"登录失败",isLogining:!1})},t.prototype.render=function(){return s.createElement("div",{className:"login"},s.createElement("div",null,s.createElement("img",{src:"/images/login.png"}),s.createElement("div",null,s.createElement("img",{src:"/images/login_welcome.png"}),s.createElement("form",{onSubmit:this.handleLogin},s.createElement("div",{className:"login-form"},s.createElement("p",null,"用户名"),s.createElement("input",{type:"text",id:"loginName",onChange:this.handleNameChange,value:this.state.loginName})),s.createElement("div",{className:"login-form"},s.createElement("p",null,"密码"),s.createElement("input",{type:"password",id:"loginPassword",onChange:this.handlePasswordChange})),s.createElement("p",{id:"loginMessage"},this.state.loginMessage),s.createElement("button",{type:"submit",disabled:this.state.isLogining},"登录账号")),s.createElement("p",null,s.createElement("span",null,"还没账号？我要 ",s.createElement("a",{href:""},"注册"))))))},t}(s.Component);t.LogOnExact=l;!function(){function e(){}}()},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(t){var r=e.call(this,t)||this;return r.state={logOffInfo:"登出中"},r}return n(t,e),t.prototype.componentDidMount=function(){localStorage.removeItem("accessToken"),localStorage.removeItem("userName"),this.setState({logOffInfo:"登出成功 正在前往登录页"}),setTimeout(function(){location.pathname="/logon"},2e3)},t.prototype.render=function(){return o.createElement("div",{className:"login"},o.createElement("div",null,o.createElement("img",{src:"/images/login.png"}),o.createElement("div",null,o.createElement("p",{className:"LogOffInfo"},this.state.logOffInfo))))},t}(o.Component);t.LogOff=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(5),c=r(28),l=r(7),u=r(8),p=r(1),m=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={userFans:[],totalPage:2,info:"加载中"},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,c,l,u,m,d,h,f;return a(this,function(a){switch(a.label){case 0:return e=p.getLocalStorage("accessToken"),t=this.match.params.page||1,r="http://apitest.niconi.cc/user/follow/fan?from="+10*(t-1)+"&size=10",n=new Headers,n.append("Authorization",e),[4,fetch(r,{headers:n})];case 1:return o=a.sent(),[4,o.json()];case 2:if(!(s=a.sent())||!s.length)return this.setState({info:"没有粉丝"}),[2,!1];c=[],l=s.length,a.label=3;case 3:return l--?(m=s[l],d=new i.UserFanInfo,r="http://apitest.niconi.cc/user/"+m,[4,fetch(r)]):[3,6];case 4:return o=a.sent(),[4,o.json()];case 5:return u=a.sent(),d.name=u.name,d.avatarImgURL=u.portraitUrl,d.posts=u.postCount,d.id=m,d.fans=u.fanCount,c.push(d),[3,3];case 6:return h=p.getLocalStorage("userInfo").id,r="http://apitest.niconi.cc/user/follow/fancount?userid="+h,[4,fetch(r)];case 7:return o=a.sent(),[4,o.json()];case 8:return f=a.sent(),this.setState({userFans:c,totalPage:f%10==0?f/10:Math.floor(f/10)+1}),[2]}})})},t.prototype.render=function(){var e=this.match.params.page||1;if(0===this.state.userFans.length)return s.createElement("div",{className:"user-center-myfans"},this.state.info);for(var t=this.state.userFans.map(function(e){return s.createElement(c.UserCenterMyFollowingsUser,{userFanInfo:e})}),r=1;r<t.length;r+=2)t.splice(r,0,s.createElement("hr",null));return s.createElement("div",{className:"user-center-myfans"},s.createElement("div",{className:"user-center-myfans-exact"},t),s.createElement(u.UserCenterPageCount,{currentPage:parseInt(e),totalPage:this.state.totalPage,href:"/usercenter/myfans/"}))},t}(l.RouteComponent);t.UserCenterMyFans=m},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(10),c=r(5),l=r(7),u=r(8),p=r(1),m=function(e){function t(t,r){var n=e.call(this,t,r)||this;p.getLocalStorage("userInfo").postCount;return n.state={userRecentPosts:[],totalPage:n.match.params.page||1},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,i,c,l;return a(this,function(a){switch(a.label){case 0:return e=this.match.params.page||1,t="http://apitest.niconi.cc/me/recenttopics?from="+10*(e-1)+"&size=11",r=p.getLocalStorage("accessToken"),n=new Headers,n.append("Authorization",r),[4,fetch(t,{headers:n})];case 1:return o=a.sent(),[4,o.json()];case 2:s=a.sent(),i=[],c=s.length,c<=10?this.setState({totalPage:Number.parseInt(e)}):(this.setState({totalPage:Number.parseInt(e)+1}),c=10),a.label=3;case 3:return c--?[4,this.item2post(s[c])]:[3,5];case 4:return l=a.sent(),i.unshift(l),[3,3];case 5:return this.setState({userRecentPosts:i}),[2]}})})},t.prototype.item2post=function(e){return o(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return t=new c.UserRecentPost,t.approval=e.likeCount,r=t,[4,p.getBoardName(e.boardId,this.context.router)];case 1:return r.board=n.sent(),t.date=e.time.replace("T"," ").slice(0,19),t.disapproval=e.dislikeCount,t.content=e.title,t.id=e.id,t.boardId=e.boardId,t.name=e.userName,t.isAnonymous=e.isAnonymous,[2,t]}})})},t.prototype.render=function(){if(0===this.state.userRecentPosts.length)return s.createElement("div",{className:"user-posts"},"没有主题");for(var e=this.state.userRecentPosts.map(function(e){return s.createElement(i.UserCenterExactActivitiesPost,{userRecentPost:e})}),t=1;t<e.length;t+=2)e.splice(t,0,s.createElement("hr",null));return s.createElement("div",{className:"user-posts"},e,s.createElement(u.UserCenterPageCount,{currentPage:this.match.params.page||1,totalPage:this.state.totalPage,href:"/usercenter/myposts/"}))},t}(l.RouteComponent);t.UserCenterMyPostsExact=m},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(3),s=r(86),i=r(87),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement(a.BrowserRouter,null,o.createElement("div",{className:"user-center-myfavorites"},o.createElement(l,{to:"/usercenter/myfavorites",label:"文章",activeOnlyWhenExact:!0})," | ",o.createElement(l,{to:"/usercenter/myfavorites/boards/1",label:"版面",activeOnlyWhenExact:!1}),o.createElement(a.Route,{path:"/usercenter/myfavorites/boards/1",component:i.UserCenterMyFavoritesBoards}),o.createElement(a.Route,{exact:!0,path:"/usercenter/myfavorites/:page?",component:s.UserCenterMyFavoritesPosts})))},t}(o.Component);t.UserCenterMyFavorites=c;var l=function(e){var t=e.label,r=e.to,n=e.activeOnlyWhenExact;return o.createElement(a.Route,{path:r,exact:n,children:function(e){var n=e.match;return o.createElement(a.Link,{className:n?"user-activities-active":"",to:r},t)}})}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(10),c=r(5),l=r(1),u=r(8),p=r(7),m=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.state={userRecentPosts:[],info:"加载中",totalPage:(Number.parseInt(n.match.params.page)||1)+1},n}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,i,u,p;return a(this,function(a){switch(a.label){case 0:return e=l.getLocalStorage("accessToken"),t=this.match.params.page||1,r="http://apitest.niconi.cc/topic/favorite?from="+10*(t-1)+"&size=11",n=new Headers,n.append("Authorization",e),[4,fetch(r,{headers:n})];case 1:return o=a.sent(),[4,o.json()];case 2:if(s=a.sent(),0===s.length)return this.setState({info:"没有主题"}),[2];for(i=[],u=s.length,u<10?this.setState({totalPage:Number.parseInt(this.match.params.page)||1}):(u=10,this.setState({totalPage:(Number.parseInt(this.match.params.page)||1)+1}));u--;)p=new c.UserRecentPost,p.board=s[u].boardName,p.boardId=s[u].boardId,p.content=s[u].title,p.date=s[u].time.replace("T"," ").slice(0,19),p.id=s[u].id,i.unshift(p);return this.setState({userRecentPosts:i}),[2]}})})},t.prototype.render=function(){if(!this.state.userRecentPosts||0===this.state.userRecentPosts.length)return s.createElement("div",{className:"user-posts"},this.state.info);for(var e=this.state.userRecentPosts.map(function(e){return s.createElement(i.UserCenterExactActivitiesPost,{userRecentPost:e})}),t=1;t<e.length;t+=2)e.splice(t,0,s.createElement("hr",null));return s.createElement("div",{className:"user-posts"},e,s.createElement(u.UserCenterPageCount,{currentPage:this.match.params.page||1,totalPage:this.state.totalPage,href:"/usercenter/myfavorites/"}))},t}(p.RouteComponent);t.UserCenterMyFavoritesPosts=m},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1),c=r(88),l=function(e){function t(t){var r=e.call(this,t)||this;return r.state={boards:[],info:"加载中"},r}return n(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,s,c,l,u,p;return a(this,function(a){switch(a.label){case 0:return e=i.getLocalStorage("accessToken"),t=i.getLocalStorage("userName"),r=new Headers,r.append("Authorization",e),[4,fetch("http://apitest.niconi.cc/user/name/"+t,{headers:r})];case 1:return n=a.sent(),[4,n.json()];case 2:return o=a.sent(),(s=o.customBoards)&&0!==s.length?(c=s.join("&id="),l="http://apitest.niconi.cc/board/?id="+c,r=new Headers,r.append("Authorization",e),[4,fetch(l,{headers:r})]):(this.setState({info:"没有关注"}),[2]);case 3:return u=a.sent(),[4,u.json()];case 4:return p=a.sent(),this.setState({boards:p}),[2]}})})},t.prototype.render=function(){var e={marginTop:"2rem"};if(0===this.state.boards.length)return s.createElement("div",{style:e},this.state.info);for(var t=this.state.boards.map(function(e){return s.createElement(c.UserCenterMyFavoritesBoard,{UserFavoritesBoard:e})}),r=1;r<t.length;r+=2)t.splice(r,0,s.createElement("hr",null));return s.createElement("div",null,t)},t}(s.Component);t.UserCenterMyFavoritesBoards=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],a=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1),c=function(e){function t(t){var r=e.call(this,t)||this;return r.state={buttonInfo:"取消关注",buttonIsDisabled:!1,isFollowing:!0},r.unfollow=r.unfollow.bind(r),r.follow=r.follow.bind(r),r}return n(t,e),t.prototype.unfollow=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o;return a(this,function(a){switch(a.label){case 0:return this.setState({buttonIsDisabled:!0,buttonInfo:"取关中"}),e=i.getLocalStorage("accessToken"),t=this.props.UserFavoritesBoard.id,r="http://apitest.niconi.cc/me/removecustomboard/"+t,n=new Headers,n.append("Authorization",e),[4,fetch(r,{method:"DELETE",headers:n})];case 1:return o=a.sent(),200===o.status?this.setState({buttonIsDisabled:!1,buttonInfo:"重新关注",isFollowing:!1}):this.setState({buttonIsDisabled:!1,buttonInfo:"取关失败",isFollowing:!0}),[2]}})})},t.prototype.follow=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o;return a(this,function(a){switch(a.label){case 0:return this.setState({buttonIsDisabled:!0,buttonInfo:"关注中"}),e=i.getLocalStorage("accessToken"),t=this.props.UserFavoritesBoard.id,r="http://apitest.niconi.cc/me/addcustomboard/"+t,n=new Headers,n.append("Authorization",e),[4,fetch(r,{method:"POST",headers:n})];case 1:return o=a.sent(),console.log(o),200===o.status&&this.setState({buttonIsDisabled:!1,buttonInfo:"取消关注",isFollowing:!0}),[2]}})})},t.prototype.render=function(){return s.createElement("div",{className:"user-center-myfavorite-board"},s.createElement("a",{href:"/list/"+this.props.UserFavoritesBoard.id,title:this.props.UserFavoritesBoard.name},s.createElement("img",null)),s.createElement("div",{className:"user-center-myfavorite-board-info"},s.createElement("p",null,"版主：",this.props.UserFavoritesBoard.boardMasters.join(" ")),s.createElement("p",null,"今日主题 ",this.props.UserFavoritesBoard.todayCount," / 总主题 ",this.props.UserFavoritesBoard.topicCount)),s.createElement("button",{type:"button",className:this.state.isFollowing?"":"follow",onClick:this.state.isFollowing?this.unfollow:this.follow,disabled:this.state.buttonIsDisabled},this.state.buttonInfo))},t}(s.Component);t.UserCenterMyFavoritesBoard=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(90),s=r(91),i=r(92),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"user-center-config"},o.createElement(a.UserCenterConfigAvatar,null),o.createElement("hr",null),o.createElement(s.UserCenterConfigSignature,null),o.createElement("hr",null),o.createElement(i.UserCenterConfigPassword,null))},t}(o.Component);t.UserCenterConfig=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(1),s=function(e){function t(t){var r=e.call(this,t)||this;a.getLocalStorage("userInfo");return r.state={avatarURL:"",info:"图片长宽为160×160像素的图片",isShown:!1,divheight:"0px",selectorWidth:160,selectorLeft:0,selectorTop:0},r.handleChange=r.handleChange.bind(r),r.handleIMGLoad=r.handleIMGLoad.bind(r),r.handleSelectorMove=r.handleSelectorMove.bind(r),r.handleResizeMove=r.handleResizeMove.bind(r),r}return n(t,e),t.prototype.handleChange=function(e){var t=this,r=e.target.files[0];if(!r.type.match("image.*"))return this.setState({info:"请选择图片文件",isShown:!1,divheight:"0px"}),!1;var n=new FileReader;n.readAsDataURL(r),n.addEventListener("load",function(e){t.setState({avatarURL:e.target.result})})},t.prototype.handleIMGLoad=function(){if(console.log(this.myIMG.naturalWidth),console.log(this.myIMG.naturalHeight),this.myIMG.naturalWidth<160||this.myIMG.naturalHeight<160)return void this.setState({info:"图片至少为 160*160",isShown:!1});var e=this.myCanvas.getContext("2d");this.myCanvas.width=this.myIMG.naturalWidth+40,this.myCanvas.height=this.myIMG.naturalHeight+40,e.drawImage(this.myIMG,0,0,this.myIMG.naturalWidth,this.myIMG.naturalHeight,20,20,this.myIMG.naturalWidth,this.myIMG.naturalHeight),this.setState({divheight:this.myIMG.naturalHeight+50+"px",isShown:!0,info:"请选择要显示的区域"})},t.prototype.componentDidMount=function(){this.selector.addEventListener("mousedown",this.handleSelectorMove),this.selector.addEventListener("mousemove",this.handleSelectorMove),this.selector.addEventListener("mouseup",this.handleSelectorMove),this.selector.addEventListener("mouseleave",this.handleSelectorMove),this.resize.addEventListener("mousedown",this.handleResizeMove),this.resize.addEventListener("mousemove",this.handleResizeMove),this.resize.addEventListener("mouseup",this.handleResizeMove),this.resize.addEventListener("mouseleave",this.handleResizeMove)},t.prototype.componentWillUnmount=function(){this.selector.removeEventListener("mousedown",this.handleSelectorMove),this.selector.removeEventListener("mousemove",this.handleSelectorMove),this.selector.removeEventListener("mouseup",this.handleSelectorMove),this.selector.removeEventListener("mouseleave",this.handleSelectorMove),this.resize.removeEventListener("mousedown",this.handleResizeMove),this.resize.removeEventListener("mousemove",this.handleResizeMove),this.resize.removeEventListener("mouseup",this.handleResizeMove),this.resize.removeEventListener("mouseleave",this.handleResizeMove)},t.prototype.handleSelectorMove=function(e){switch(e.type){case"mousedown":this.diffX=e.clientX-e.target.offsetLeft,this.diffY=e.clientY-e.target.offsetTop,this.dragging=e.target;break;case"mousemove":if(null!==this.dragging){var t=e.clientY-this.diffY,r=e.clientX-this.diffX;t<0&&(t=0),t>this.myIMG.naturalHeight-this.state.selectorWidth&&(t=this.myIMG.naturalHeight-this.state.selectorWidth),r<0&&(r=0),r>800-this.state.selectorWidth&&(r=800-this.state.selectorWidth),this.setState({selectorTop:t,selectorLeft:r})}break;case"mouseup":case"mouseleave":this.dragging=null}},t.prototype.handleResizeMove=function(e){var t=this;switch(e.type){case"mousedown":this.diffX=e.clientX-e.target.offsetLeft,this.dragging=e.target,console.log(e);break;case"mousemove":this.diffY=e.clientX-e.target.offsetLeft,null!==this.dragging&&this.setState(function(e){var r=e.selectorWidth+t.diffY-t.diffX;return isNaN(r)||(r<80&&(r=80),r>500&&(r=500)),{selectorWidth:isNaN(r)?e.selectorWidth:r}});break;case"mouseup":case"mouseleave":this.dragging=null}},t.prototype.render=function(){var e=this,t={display:"none"},r=a.getLocalStorage("userInfo");return o.createElement("div",{className:"user-center-config-avatar"},o.createElement("img",{src:r.portraitUrl}),o.createElement("div",null,o.createElement("button",{id:"chooseDefaultAvatar",type:"button"},"选择论坛头像"),o.createElement("div",null,o.createElement("input",{onChange:this.handleChange,id:"uploadAvatar",type:"file",style:t}),o.createElement("label",{htmlFor:"uploadAvatar"},o.createElement("p",null,"选择本地图片")),o.createElement("p",null,this.state.info))),o.createElement("div",{className:"user-center-config-avatar-preview",style:this.state.isShown?{opacity:1,marginTop:"2rem"}:{zIndex:-1}},o.createElement("hr",null),o.createElement("div",{style:{position:"absolute",width:"824px",overflow:"hidden"}},o.createElement("canvas",{ref:function(t){e.myCanvas=t},style:{position:"relative"}}),o.createElement("div",{id:"cover"}),o.createElement("div",{className:"imgdata",ref:function(t){e.selector=t},style:{width:this.state.selectorWidth+"px",height:this.state.selectorWidth+"px",borderRadius:this.state.selectorWidth/2+"px",top:this.state.selectorTop+"px",left:this.state.selectorLeft+"px"}},o.createElement("img",{src:this.state.avatarURL,style:{position:"relative",top:20-this.state.selectorTop+"px",left:20-this.state.selectorLeft+"px"}})),o.createElement("div",{id:"selector",ref:function(t){e.selector=t},style:{width:this.state.selectorWidth+"px",height:this.state.selectorWidth+"px",borderRadius:this.state.selectorWidth/2+"px",top:this.state.selectorTop+"px",left:this.state.selectorLeft+"px"}}),o.createElement("span",{id:"resize",ref:function(t){e.resize=t},style:{top:this.state.selectorTop+this.state.selectorWidth+"px",left:this.state.selectorLeft+this.state.selectorWidth+"px"}})),o.createElement("img",{ref:function(t){e.myIMG=t},onLoad:this.handleIMGLoad,style:t,src:this.state.avatarURL})),o.createElement("div",{style:{width:"100%",height:this.state.divheight,transitionDuration:".5s"}}))},t}(o.Component);t.UserCenterConfigAvatar=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(1),s=function(e){function t(t){var r=e.call(this,t)||this,n=a.getLocalStorage("userInfo");return console.log(n),r.state={signature:n.signatureCode,signatureExtends:null},r.handleChange=r.handleChange.bind(r),r}return n(t,e),t.prototype.handleChange=function(e){this.setState({signature:e.target.value})},t.prototype.render=function(){return o.createElement("div",{className:"user-center-config-signature"},o.createElement("div",{className:"signature-buttons"},o.createElement("button",{id:"signatureImg",type:"button"},"图片"),o.createElement("button",{id:"signatureVideo",type:"button"},"视频"),o.createElement("button",{id:"signatureAudio",type:"button"},"音乐"),o.createElement("button",{id:"signatureColor",type:"button"},"A"),o.createElement("button",{id:"signatureStrong",type:"button"},"B")),o.createElement("div",{className:"signature-extends"}),o.createElement("textarea",{id:"signature",onChange:this.handleChange,value:this.state.signature}),o.createElement("div",null,o.createElement("p",null,"注* 个性签名将在个人主页、发布文章、回复文章中显示"),o.createElement("button",{id:"signatureUpload",type:"button"},"保存签名档")))},t}(o.Component);t.UserCenterConfigSignature=s;!function(){function e(){}}()},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return o.createElement("div",{className:"user-center-config-password"},o.createElement("p",null,"修改密码"),o.createElement("div",{className:"password-inputs"},o.createElement("p",null,"原密码"),o.createElement("input",{type:"password",id:"oldPassword"}),o.createElement("p",null,"新密码"),o.createElement("input",{type:"password",id:"newPassword"}),o.createElement("p",null,"确认密码"),o.createElement("input",{type:"password",id:"confirmPassword"}),o.createElement("button",{type:"button"},"提交密码")),o.createElement("p",{id:"passwordChangeMesssage"}))},t}(o.Component);t.UserCenterConfigPassword=a},function(e,t){}]);